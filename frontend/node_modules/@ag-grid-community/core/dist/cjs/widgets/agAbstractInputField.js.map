{"version":3,"sources":["../../src/ts/widgets/agAbstractInputField.ts"],"names":[],"mappings":"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","file":"agAbstractInputField.js","sourcesContent":["import { IAgLabel } from './agAbstractLabel';\nimport { RefSelector } from './componentAnnotations';\nimport { AgAbstractField, FieldElement } from './agAbstractField';\nimport { setDisabled, setElementWidth, addCssClass } from '../utils/dom';\n\nexport interface IInputField extends IAgLabel {\n    value?: any;\n    width?: number;\n}\n\nexport abstract class AgAbstractInputField<T extends FieldElement, K> extends AgAbstractField<K> {\n    protected abstract inputType: string;\n\n    protected config: IInputField = {};\n\n    protected TEMPLATE = /* html */`\n        <div role=\"presentation\">\n            <label ref=\"eLabel\" class=\"ag-input-field-label\"></label>\n            <div ref=\"eWrapper\" class=\"ag-wrapper ag-input-wrapper\" role=\"presentation\">\n                <%displayField% ref=\"eInput\" class=\"ag-input-field-input\"></%displayField%>\n            </div>\n        </div>`;\n\n    @RefSelector('eLabel') protected eLabel: HTMLLabelElement;\n    @RefSelector('eWrapper') protected eWrapper: HTMLElement;\n    @RefSelector('eInput') protected eInput: T;\n\n    protected postConstruct() {\n        super.postConstruct();\n        this.setInputType();\n\n        addCssClass(this.eLabel, `${this.className}-label`);\n        addCssClass(this.eWrapper, `${this.className}-input-wrapper`);\n        addCssClass(this.eInput, `${this.className}-input`);\n        addCssClass(this.getGui(), 'ag-input-field');\n\n        const inputId = this.eInput.id ? this.eInput.id : `ag-input-id-${this.getCompId()}`;\n        this.eLabel.htmlFor = inputId;\n        this.eInput.id = inputId;\n\n        const { width, value } = this.config;\n\n        if (width != null) {\n            this.setWidth(width);\n        }\n\n        if (value != null) {\n            this.setValue(value);\n        }\n\n        this.addInputListeners();\n    }\n\n    protected addInputListeners() {\n        this.addManagedListener(this.eInput, 'input', (e) => {\n            const value = e.target.value;\n\n            this.setValue(value);\n        });\n    }\n\n    private setInputType() {\n        if (this.inputType) {\n            this.eInput.setAttribute('type', this.inputType);\n        }\n    }\n\n    public getInputElement(): T {\n        return this.eInput;\n    }\n\n    public setInputWidth(width: number | 'flex'): this {\n        setElementWidth(this.eWrapper, width);\n\n        return this;\n    }\n\n    public setInputName(name: string): this {\n        this.getInputElement().setAttribute('name', name);\n\n        return this;\n    }\n\n    public getFocusableElement(): HTMLElement {\n        return this.eInput;\n    }\n\n    public setMaxLength(length: number): this {\n        const eInput = this.eInput as HTMLInputElement | HTMLTextAreaElement;\n        eInput.maxLength = length;\n\n        return this;\n    }\n\n    public setInputPlaceholder(placeholder: string): this {\n        const eInput = this.eInput;\n        const attributeName = 'placeholder';\n\n        if (placeholder) {\n            eInput.setAttribute(attributeName, placeholder);\n        } else {\n            eInput.removeAttribute(attributeName);\n        }\n\n        return this;\n    }\n\n    public setDisabled(disabled: boolean): this {\n        setDisabled(this.eInput, disabled);\n\n        return super.setDisabled(disabled);\n    }\n\n    public setInputAriaLabel(label: string): this {\n        this.eInput.setAttribute('aria-label', label);\n\n        return this;\n    }\n}\n"]}