/*! inlineresources - v1.0.0 - 2020-10-25
* http://www.github.com/cburgmer/inlineresources
* Copyright (c) 2020 Christoph Burgmer; Licensed MIT */
/* Integrated dependencies:
 * url (MIT License),
 * css-font-face-src (BSD License) */

!function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).inlineresources=t()}(function(){return function n(o,s,a){function u(e,t){if(!s[e]){if(!o[e]){var r="function"==typeof require&&require;if(!t&&r)return r(e,!0);if(i)return i(e,!0);throw(r=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",r}r=s[e]={exports:{}},o[e][0].call(r.exports,function(t){return u(o[e][1][t]||t)},r,r.exports,n,o,s,a)}return s[e].exports}for(var i="function"==typeof require&&require,t=0;t<a.length;t++)u(a[t]);return u}({1:[function(c,r,n){(function(e){!function(t){"object"==typeof n&&void 0!==r?r.exports=t():("undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:this).cssFontFaceSrc=t()}(function(){return function n(o,s,a){function u(r,t){if(!s[r]){if(!o[r]){var e="function"==typeof c&&c;if(!t&&e)return e(r,!0);if(i)return i(r,!0);e=new Error("Cannot find module '"+r+"'");throw e.code="MODULE_NOT_FOUND",e}e=s[r]={exports:{}};o[r][0].call(e.exports,function(t){var e=o[r][1][t];return u(e||t)},e,e.exports,n,o,s,a)}return s[r].exports}for(var i="function"==typeof c&&c,t=0;t<a.length;t++)u(a[t]);return u}({1:[function(H,t,e){"use strict";function K(t,e,r,n){this.message=t,this.expected=e,this.found=r,this.location=n,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,K)}function r(){this.constructor=n}var n,o;n=K,o=Error,r.prototype=o.prototype,n.prototype=new r,K.buildMessage=function(t,e){var r,s={literal:function(t){return'"'+o(t.text)+'"'},class:function(t){for(var e="",r=0;r<t.parts.length;r++)e+=t.parts[r]instanceof Array?a(t.parts[r][0])+"-"+a(t.parts[r][1]):a(t.parts[r]);return"["+(t.inverted?"^":"")+e+"]"},any:function(t){return"any character"},end:function(t){return"end of input"},other:function(t){return t.description}};function n(t){return t.charCodeAt(0).toString(16).toUpperCase()}function o(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+n(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+n(t)})}function a(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+n(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+n(t)})}return"Expected "+function(t){for(var e,r,n=new Array(t.length),o=0;o<t.length;o++)n[o]=(r=t[o],s[r.type](r));if(n.sort(),0<n.length){for(e=o=1;o<n.length;o++)n[o-1]!==n[o]&&(n[e]=n[o],e++);n.length=e}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(t)+" but "+((r=e)?'"'+o(r)+'"':"end of input")+" found."},t.exports={SyntaxError:K,parse:function(u,t){var i={},e={start:L},r=L,n="",o=function(){return[]},c=",",l=T(",",!1),h=function(t,e){return[t].concat(e)},f=function(t){return[t]},s=function(t,e){return{url:t,format:e}},a=function(t){return{url:t}},p="url(",g=T("url(",!1),m=")",d=T(")",!1),y=function(t){return t},v="format(",b=T("format(",!1),x="local(",w=T("local(",!1),C=function(t){return{local:t}},A=/^[^)]/,R=k([")"],!0,!1),U=function(t){return M.extractValue(t.join(""))},j=/^[ \t\r\n\f]/,S=k([" ","\t","\r","\n","\f"],!1,!1),O=0,E=[{line:1,column:1}],I=0,F=[],P=0;if("startRule"in(t=void 0!==t?t:{})){if(!(t.startRule in e))throw new Error("Can't start parsing from rule \""+t.startRule+'".');r=e[t.startRule]}function T(t,e){return{type:"literal",text:t,ignoreCase:e}}function k(t,e,r){return{type:"class",parts:t,inverted:e,ignoreCase:r}}function q(t){var e,r=E[t];if(r)return r;for(e=t-1;!E[e];)e--;for(r={line:(r=E[e]).line,column:r.column};e<t;)10===u.charCodeAt(e)?(r.line++,r.column=1):r.column++,e++;return E[t]=r}function N(t,e){var r=q(t),n=q(e);return{start:{offset:t,line:r.line,column:r.column},end:{offset:e,line:n.line,column:n.column}}}function D(t){O<I||(I<O&&(I=O,F=[]),F.push(t))}function V(t,e,r){return new K(K.buildMessage(t,e),t,e,r)}function L(){var t,e=function t(){var e,r,n,o,s,a;e=O;r=$();if(r!==i){for(n=[],o=_();o!==i;)n.push(o),o=_();if(n!==i)if(44===u.charCodeAt(O)?(o=c,O++):(o=i,0===P&&D(l)),o!==i){for(s=[],a=_();a!==i;)s.push(a),a=_();e=s!==i?(a=t())!==i?r=h(r,a):(O=e,i):(O=e,i)}else O=e,e=i;else O=e,e=i}else O=e,e=i;e===i&&(e=O,(r=$())!==i&&(r=f(r)),e=r);return e}();return e===i&&(e=O,(t=n)!==i&&(t=o()),e=t),e}function $(){var t=function(){var t,e,r,n;if(t=O,(e=B())!==i){if(r=[],(n=_())!==i)for(;n!==i;)r.push(n),n=_();else r=i;t=r!==i?(n=function(){var t,e,r,n;t=O,u.substr(O,7)===v?(e=v,O+=7):(e=i,0===P&&D(b));t=e!==i?(r=z(),r!==i?(41===u.charCodeAt(O)?(n=m,O++):(n=i,0===P&&D(d)),n!==i?e=y(r):(O=t,i)):(O=t,i)):(O=t,i);return t}())!==i?e=s(e,n):(O=t,i):(O=t,i)}else O=t,t=i;t===i&&(t=O,(e=B())!==i&&(e=a(e)),t=e);return t}();return t===i&&(t=function(){var t,e,r,n;t=O,u.substr(O,6)===x?(e=x,O+=6):(e=i,0===P&&D(w));t=e!==i?(r=z(),r!==i?(41===u.charCodeAt(O)?(n=m,O++):(n=i,0===P&&D(d)),n!==i?e=C(r):(O=t,i)):(O=t,i)):(O=t,i);return t}()),t}function B(){var t,e,r,n=O;return u.substr(O,4)===p?(t=p,O+=4):(t=i,0===P&&D(g)),n=t!==i&&(e=z())!==i?(41===u.charCodeAt(O)?(r=m,O++):(r=i,0===P&&D(d)),r!==i?t=y(e):(O=n,i)):(O=n,i)}function z(){var t,e=O,r=[];if(A.test(u.charAt(O))?(t=u.charAt(O),O++):(t=i,0===P&&D(R)),t!==i)for(;t!==i;)r.push(t),A.test(u.charAt(O))?(t=u.charAt(O),O++):(t=i,0===P&&D(R));else r=i;return r!==i&&(r=U(r)),e=r}function _(){var t;return j.test(u.charAt(O))?(t=u.charAt(O),O++):(t=i,0===P&&D(S)),t}var M=H("../util");if((r=r())!==i&&O===u.length)return r;throw r!==i&&O<u.length&&D({type:"end"}),V(F,I<u.length?u.charAt(I):null,I<u.length?N(I,I+1):N(I,I))}}},{"../util":3}],2:[function(t,e,r){var n=t("./grammar");r.SyntaxError=function(t,e){this.message=t,this.offset=e},r.parse=function(t){try{return n.parse(t)}catch(t){throw new r.SyntaxError(t.message,t.offset)}},r.serialize=function(t){return t.map(function(t){var e;return t.url?(e='url("'+t.url+'")',t.format&&(e+=' format("'+t.format+'")')):e='local("'+t.local+'")',e}).join(", ")}},{"./grammar":1}],3:[function(t,e,r){r.extractValue=function(t){return e=t.replace(/^[\t\r\f\n ]*(.+?)[\t\r\f\n ]*$/,"$1"),r=/^'(.*)'$/,(t=/^"(.*)"$/).test(e)?e.replace(t,"$1"):r.test(e)?e.replace(r,"$1"):e;var e,r}},{}]},{},[2])(2)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,P,T){(function(F){!function(t){var e="object"==typeof T&&T&&!T.nodeType&&T,r="object"==typeof P&&P&&!P.nodeType&&P,n="object"==typeof F&&F;n.global!==n&&n.window!==n&&n.self!==n||(t=n);var o,s,y=2147483647,v=36,b=1,x=26,a=38,u=700,w=72,C=128,A="-",i=/^xn--/,c=/[^\x20-\x7E]/,l=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=v-b,R=Math.floor,U=String.fromCharCode;function j(t){throw RangeError(h[t])}function p(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function g(t,e){var r=t.split("@"),n="";return 1<r.length&&(n=r[0]+"@",t=r[1]),n+p((t=t.replace(l,".")).split("."),e).join(".")}function S(t){for(var e,r,n=[],o=0,s=t.length;o<s;)55296<=(e=t.charCodeAt(o++))&&e<=56319&&o<s?56320==(64512&(r=t.charCodeAt(o++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),o--):n.push(e);return n}function m(t){return p(t,function(t){var e="";return 65535<t&&(e+=U((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=U(t)}).join("")}function O(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function E(t,e,r){var n=0;for(t=r?R(t/u):t>>1,t+=R(t/e);f*x>>1<t;n+=v)t=R(t/f);return R(n+(f+1)*t/(t+a))}function d(t){var e,r,n,o,s,a,u,i=[],c=t.length,l=0,h=C,f=w,p=t.lastIndexOf(A);for(p<0&&(p=0),r=0;r<p;++r)128<=t.charCodeAt(r)&&j("not-basic"),i.push(t.charCodeAt(r));for(n=0<p?p+1:0;n<c;){for(o=l,s=1,a=v;c<=n&&j("invalid-input"),u=t.charCodeAt(n++),(v<=(u=u-48<10?u-22:u-65<26?u-65:u-97<26?u-97:v)||u>R((y-l)/s))&&j("overflow"),l+=u*s,!(u<(u=a<=f?b:f+x<=a?x:a-f));a+=v)s>R(y/(u=v-u))&&j("overflow"),s*=u;f=E(l-o,e=i.length+1,0==o),R(l/e)>y-h&&j("overflow"),h+=R(l/e),l%=e,i.splice(l++,0,h)}return m(i)}function I(t){for(var e,r,n,o,s,a,u,i,c,l,h,f=[],p=(t=S(t)).length,g=C,m=w,d=e=0;d<p;++d)(i=t[d])<128&&f.push(U(i));for(r=n=f.length,n&&f.push(A);r<p;){for(o=y,d=0;d<p;++d)g<=(i=t[d])&&i<o&&(o=i);for(o-g>R((y-e)/(c=r+1))&&j("overflow"),e+=(o-g)*c,g=o,d=0;d<p;++d)if((i=t[d])<g&&++e>y&&j("overflow"),i==g){for(s=e,a=v;!(s<(u=a<=m?b:m+x<=a?x:a-m));a+=v)h=s-u,l=v-u,f.push(U(O(u+h%l,0))),s=R(h/l);f.push(U(O(s,0))),m=E(e,c,r==n),e=0,++r}++e,++g}return f.join("")}if(o={version:"1.3.2",ucs2:{decode:S,encode:m},decode:d,encode:I,toASCII:function(t){return g(t,function(t){return c.test(t)?"xn--"+I(t):t})},toUnicode:function(t){return g(t,function(t){return i.test(t)?d(t.slice(4).toLowerCase()):t})}},0,e&&r)if(P.exports==e)r.exports=o;else for(s in o)o.hasOwnProperty(s)&&(e[s]=o[s]);else t.punycode=o}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(t,e,r){"use strict";e.exports=function(t,e,r,n){e=e||"&",r=r||"=";var o={};if("string"!=typeof t||0===t.length)return o;var s=/\+/g;t=t.split(e);e=1e3;n&&"number"==typeof n.maxKeys&&(e=n.maxKeys);var a=t.length;0<e&&e<a&&(a=e);for(var u=0;u<a;++u){var i,c=t[u].replace(s,"%20"),l=c.indexOf(r),h=0<=l?(i=c.substr(0,l),c.substr(l+1)):(i=c,""),f=decodeURIComponent(i),l=decodeURIComponent(h);c=o,h=f,Object.prototype.hasOwnProperty.call(c,h)?p(o[f])?o[f].push(l):o[f]=[o[f],l]:o[f]=l}return o};var p=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],4:[function(t,e,r){"use strict";function s(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}}e.exports=function(r,n,o,t){return n=n||"&",o=o||"=",null===r&&(r=void 0),"object"==typeof r?u(i(r),function(t){var e=encodeURIComponent(s(t))+o;return a(r[t])?u(r[t],function(t){return e+encodeURIComponent(s(t))}).join(n):e+encodeURIComponent(s(r[t]))}).join(n):t?encodeURIComponent(s(t))+o+encodeURIComponent(s(r)):""};var a=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function u(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var i=Object.keys||function(t){var e,r=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&r.push(e);return r}},{}],5:[function(t,e,r){"use strict";r.decode=r.parse=t("./decode"),r.encode=r.stringify=t("./encode")},{"./decode":3,"./encode":4}],6:[function(t,e,r){"use strict";var j=t("punycode"),S=t("./util");function w(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}r.parse=o,r.resolve=function(t,e){return o(t,!1,!0).resolve(e)},r.resolveObject=function(t,e){return t?o(t,!1,!0).resolveObject(e):e},r.format=function(t){S.isString(t)&&(t=o(t));return t instanceof w?t.format():w.prototype.format.call(t)},r.Url=w;var O=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,E=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,r=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),I=["'"].concat(r),F=["%","/","?",";","#"].concat(I),P=["/","?","#"],T=/^[+a-z0-9A-Z_-]{0,63}$/,k=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,q={javascript:!0,"javascript:":!0},N={javascript:!0,"javascript:":!0},D={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},V=t("querystring");function o(t,e,r){if(t&&S.isObject(t)&&t instanceof w)return t;var n=new w;return n.parse(t,e,r),n}w.prototype.parse=function(t,e,r){if(!S.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),o=-1!==n&&n<t.indexOf("#")?"?":"#",n=t.split(o);n[0]=n[0].replace(/\\/g,"/");var s=(s=t=n.join(o)).trim();if(!r&&1===t.split("#").length){var a=E.exec(s);if(a)return this.path=s,this.href=s,this.pathname=a[1],a[2]?(this.search=a[2],this.query=e?V.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var u,a=O.exec(s);if(a&&(U=(a=a[0]).toLowerCase(),this.protocol=U,s=s.substr(a.length)),(r||a||s.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(u="//"===s.substr(0,2))||a&&N[a]||(s=s.substr(2),this.slashes=!0)),!N[a]&&(u||a&&!D[a])){for(var i=-1,c=0;c<P.length;c++)-1!==(l=s.indexOf(P[c]))&&(-1===i||l<i)&&(i=l);-1!==(w=-1===i?s.lastIndexOf("@"):s.lastIndexOf("@",i))&&(C=s.slice(0,w),s=s.slice(w+1),this.auth=decodeURIComponent(C)),i=-1;for(var l,c=0;c<F.length;c++)-1!==(l=s.indexOf(F[c]))&&(-1===i||l<i)&&(i=l);-1===i&&(i=s.length),this.host=s.slice(0,i),s=s.slice(i),this.parseHost(),this.hostname=this.hostname||"";var h="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!h)for(var f=this.hostname.split(/\./),c=0,p=f.length;c<p;c++){var g=f[c];if(g&&!g.match(T)){for(var m="",d=0,y=g.length;d<y;d++)127<g.charCodeAt(d)?m+="x":m+=g[d];if(!m.match(T)){var v=f.slice(0,c),b=f.slice(c+1),x=g.match(k);x&&(v.push(x[1]),b.unshift(x[2])),b.length&&(s="/"+b.join(".")+s),this.hostname=v.join(".");break}}}255<this.hostname.length?this.hostname="":this.hostname=this.hostname.toLowerCase(),h||(this.hostname=j.toASCII(this.hostname));var w=this.port?":"+this.port:"",C=this.hostname||"";this.host=C+w,this.href+=this.host,h&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!q[U])for(c=0,p=I.length;c<p;c++){var A,R=I[c];-1!==s.indexOf(R)&&((A=encodeURIComponent(R))===R&&(A=escape(R)),s=s.split(R).join(A))}h=s.indexOf("#");-1!==h&&(this.hash=s.substr(h),s=s.slice(0,h));var U,h=s.indexOf("?");return-1!==h?(this.search=s.substr(h),this.query=s.substr(h+1),e&&(this.query=V.parse(this.query)),s=s.slice(0,h)):e&&(this.search="",this.query={}),s&&(this.pathname=s),D[U]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(w=this.pathname||"",U=this.search||"",this.path=w+U),this.href=this.format(),this},w.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,s="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&S.isObject(this.query)&&Object.keys(this.query).length&&(s=V.stringify(this.query));s=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||D[e])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o=o||"",n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),e+o+(r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(s=s.replace("#","%23"))+n},w.prototype.resolve=function(t){return this.resolveObject(o(t,!1,!0)).format()},w.prototype.resolveObject=function(t){S.isString(t)&&((p=new w).parse(t,!1,!0),t=p);for(var e=new w,r=Object.keys(this),n=0;n<r.length;n++){var o=r[n];e[o]=this[o]}if(e.hash=t.hash,""===t.href)return e.href=e.format(),e;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),a=0;a<s.length;a++){var u=s[a];"protocol"!==u&&(e[u]=t[u])}return D[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e}if(t.protocol&&t.protocol!==e.protocol){if(!D[t.protocol]){for(var i=Object.keys(t),c=0;c<i.length;c++){var l=i[c];e[l]=t[l]}return e.href=e.format(),e}if(e.protocol=t.protocol,t.host||N[t.protocol])e.pathname=t.pathname;else{for(var h=(t.pathname||"").split("/");h.length&&!(t.host=h.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),e.pathname=h.join("/")}return e.search=t.search,e.query=t.query,e.host=t.host||"",e.auth=t.auth,e.hostname=t.hostname||t.host,e.port=t.port,(e.pathname||e.search)&&(g=e.pathname||"",m=e.search||"",e.path=g+m),e.slashes=e.slashes||t.slashes,e.href=e.format(),e}var f=e.pathname&&"/"===e.pathname.charAt(0),p=t.host||t.pathname&&"/"===t.pathname.charAt(0),g=p||f||e.host&&t.pathname,m=g,d=e.pathname&&e.pathname.split("/")||[],h=t.pathname&&t.pathname.split("/")||[],f=e.protocol&&!D[e.protocol];if(f&&(e.hostname="",e.port=null,e.host&&(""===d[0]?d[0]=e.host:d.unshift(e.host)),e.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===h[0]?h[0]=t.host:h.unshift(t.host)),t.host=null),g=g&&(""===h[0]||""===d[0])),p)e.host=(t.host||""===t.host?t:e).host,e.hostname=(t.hostname||""===t.hostname?t:e).hostname,e.search=t.search,e.query=t.query,d=h;else if(h.length)(d=d||[]).pop(),d=d.concat(h),e.search=t.search,e.query=t.query;else if(!S.isNullOrUndefined(t.search))return f&&(e.hostname=e.host=d.shift(),(x=!!(e.host&&0<e.host.indexOf("@"))&&e.host.split("@"))&&(e.auth=x.shift(),e.host=e.hostname=x.shift())),e.search=t.search,e.query=t.query,S.isNull(e.pathname)&&S.isNull(e.search)||(e.path=(e.pathname||"")+(e.search||"")),e.href=e.format(),e;if(!d.length)return e.pathname=null,e.search?e.path="/"+e.search:e.path=null,e.href=e.format(),e;for(var y=d.slice(-1)[0],p=(e.host||t.host||1<d.length)&&("."===y||".."===y)||""===y,v=0,b=d.length;0<=b;b--)"."===(y=d[b])?d.splice(b,1):".."===y?(d.splice(b,1),v++):v&&(d.splice(b,1),v--);if(!g&&!m)for(;v--;)d.unshift("..");!g||""===d[0]||d[0]&&"/"===d[0].charAt(0)||d.unshift(""),p&&"/"!==d.join("/").substr(-1)&&d.push("");var x,p=""===d[0]||d[0]&&"/"===d[0].charAt(0);return f&&(e.hostname=e.host=!p&&d.length?d.shift():"",(x=!!(e.host&&0<e.host.indexOf("@"))&&e.host.split("@"))&&(e.auth=x.shift(),e.host=e.hostname=x.shift())),(g=g||e.host&&d.length)&&!p&&d.unshift(""),d.length?e.pathname=d.join("/"):(e.pathname=null,e.path=null),S.isNull(e.pathname)&&S.isNull(e.search)||(e.path=(e.pathname||"")+(e.search||"")),e.auth=t.auth||e.auth,e.slashes=e.slashes||t.slashes,e.href=e.format(),e},w.prototype.parseHost=function(){var t=this.host,e=n.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{"./util":7,punycode:2,querystring:5}],7:[function(t,e,r){"use strict";e.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},{}],8:[function(t,e,r){"use strict";var n=t("./cssSupport");r.extractCssUrl=function(t){var e=/^url\(("[^"]+"|'[^']+'|[^\)]+)\)/;if(!e.test(t))throw new Error("Invalid url");return t=e.exec(t)[1],n.unquoteString(t.replace(/^[\t\r\f\n ]*(.+?)[\t\r\f\n ]*$/,"$1"))};r.parse=function(t){return function(t){var e,o="(url\\(\\s*(?:\"[^\"]*\"|'[^']*'|[^\\(]+)\\s*\\)|[^,\\s]+)",r="(?:\\s*"+o+")+",n=new RegExp(r,"g"),s=[];if(t.match(new RegExp("^\\s*((?:\\s*(url\\(\\s*(?:\"[^\"]*\"|'[^']*'|[^\\(]+)\\s*\\)|[^,\\s]+))+)(?:\\s*,\\s*((?:\\s*(url\\(\\s*(?:\"[^\"]*\"|'[^']*'|[^\\(]+)\\s*\\)|[^,\\s]+))+))*\\s*$"))){for(e=n.exec(t);e;)s.push(function(t){for(var e=new RegExp(o,"g"),r=[],n=e.exec(t);n;)r.push(n[1]),n=e.exec(t);return r}(e[0])),e=n.exec(t);return s}return[]}(t).map(function(t){var e=function(t){for(var e=0;e<t.length;e++)try{return{url:r.extractCssUrl(t[e]),idx:e}}catch(t){}}(t);return e?{preUrl:t.slice(0,e.idx),url:e.url,postUrl:t.slice(e.idx+1)}:{preUrl:t}})},r.serialize=function(t){return t.map(function(t){var e=[].concat(t.preUrl);return t.url&&e.push('url("'+t.url+'")'),t.postUrl&&(e=e.concat(t.postUrl)),e.join(" ")}).join(", ")}},{"./cssSupport":9}],9:[function(t,e,o){"use strict";o.unquoteString=function(t){var e=/^"(.*)"$/,r=/^'(.*)'$/;return e.test(t)?t.replace(e,"$1"):r.test(t)?t.replace(r,"$1"):t},o.rulesForCssText=function(t){var e=document.implementation.createHTMLDocument(""),r=document.createElement("style");return r.textContent=t,e.body.appendChild(r),r=r.sheet.cssRules,Array.prototype.slice.call(r)},o.cssRulesToText=function(t){return t.reduce(function(t,e){return t+e.cssText},"")},o.exchangeRule=function(t,e,r){e=t.indexOf(e);t[e]=o.rulesForCssText(r)[0]},o.changeFontFaceRuleSrc=function(t,e,r){var n="@font-face { font-family: "+e.style.getPropertyValue("font-family")+"; ";e.style.getPropertyValue("font-style")&&(n+="font-style: "+e.style.getPropertyValue("font-style")+"; "),e.style.getPropertyValue("font-weight")&&(n+="font-weight: "+e.style.getPropertyValue("font-weight")+"; "),e.style.getPropertyValue("unicode-range")&&(n+="unicode-range: "+e.style.getPropertyValue("unicode-range")+"; "),n+="src: "+r+"}",o.exchangeRule(t,e,n)}},{}],10:[function(t,e,o){"use strict";function r(r){return r.map(function(t,e){return e===r.length-1&&(t={baseUrl:(e=t.baseUrl,c.joinUrl(e,"."))}),JSON.stringify(t)})}function u(t,e){return!1!==e.cache&&"none"!==e.cache&&e.cacheBucket?c.memoize(t,r,e.cacheBucket):t}function i(n,t,e){var o=l.rulesForCssText(n);return a.loadCSSImportsForRules(o,t,e).then(function(r){return a.loadAndInlineCSSResourcesForRules(o,e).then(function(t){var e=r.errors.concat(t.errors),t=r.hasChanges||t.hasChanges;return t&&(n=l.cssRulesToText(o)),{hasChanges:t,content:n,errors:e}})})}var c=t("./util"),n=t("./inlineImage"),s=t("./inlineScript"),a=t("./inlineCss"),l=t("./cssSupport");o.loadAndInlineStyles=function(t,e){var r=function(t){t=t.getElementsByTagName("style");return Array.prototype.filter.call(t,function(t){return!t.attributes.type||"text/css"===t.attributes.type.value})}(t),o=[],s=[],a=c.clone(e);return a.baseUrl=a.baseUrl||c.getDocumentBaseUrl(t),Promise.all(r.map(function(t){return r=a,n=s,t=(e=t).textContent,u(i,r)(t,n,r).then(function(t){return t.hasChanges&&(e.childNodes[0].nodeValue=t.content),c.cloneArray(t.errors)}).then(function(t){o=o.concat(t)});var e,r,n})).then(function(){return o})};function h(r,t){return c.ajax(r,t).then(function(t){return{content:t,cssRules:l.rulesForCssText(t)}}).then(function(t){var e=a.adjustPathsOfCssResources(r,t.cssRules);return{content:t.content,cssRules:t.cssRules,hasChanges:e}}).then(function(e){return a.loadCSSImportsForRules(e.cssRules,[],t).then(function(t){return{content:e.content,cssRules:e.cssRules,hasChanges:e.hasChanges||t.hasChanges,errors:t.errors}})}).then(function(e){return a.loadAndInlineCSSResourcesForRules(e.cssRules,t).then(function(t){return{content:e.content,cssRules:e.cssRules,hasChanges:e.hasChanges||t.hasChanges,errors:e.errors.concat(t.errors)}})}).then(function(t){var e=t.content;return t.hasChanges&&(e=l.cssRulesToText(t.cssRules)),{content:e,errors:t.errors}})}o.loadAndInlineCssLinks=function(t,o){var t=function(t){t=t.getElementsByTagName("link");return Array.prototype.filter.call(t,function(t){return t.attributes.rel&&"stylesheet"===t.attributes.rel.value&&(!t.attributes.type||"text/css"===t.attributes.type.value)})}(t),a=[];return Promise.all(t.map(function(s){return e=o,r=(t=s).attributes.href.value,n=c.getDocumentBaseUrl(t.ownerDocument),!(t=c.clone(e)).baseUrl&&n&&(t.baseUrl=n),u(h,e)(r,t).then(function(t){return{content:t.content,errors:c.cloneArray(t.errors)}}).then(function(t){var e,r,n,o;e=s,r=t.content+"\n",o=e.parentNode,(r=r.trim())&&((n=e.ownerDocument.createElement("style")).type="text/css",n.appendChild(e.ownerDocument.createTextNode(r)),o.insertBefore(n,e)),o.removeChild(e),a=a.concat(t.errors)},function(t){a.push({resourceType:"stylesheet",url:t.url,msg:"Unable to load stylesheet "+t.url})});var t,e,r,n})).then(function(){return a})},o.loadAndInlineImages=n.inline,o.loadAndInlineScript=s.inline,o.inlineReferences=function(e,r){var n=[],t=[o.loadAndInlineImages,o.loadAndInlineStyles,o.loadAndInlineCssLinks];return!1!==r.inlineScripts&&t.push(o.loadAndInlineScript),Promise.all(t.map(function(t){return t(e,r).then(function(t){n=n.concat(t)})})).then(function(){return n})}},{"./cssSupport":9,"./inlineCss":11,"./inlineImage":12,"./inlineScript":13,"./util":14}],11:[function(t,e,h){"use strict";function i(t,e,r){t.style.setProperty(e,r,t.style.getPropertyPriority(e))}function r(t){return t.filter(function(t){return t.type===window.CSSRule.STYLE_RULE&&(t.style.getPropertyValue("background-image")||t.style.getPropertyValue("background"))})}function n(t){var e=[];return t.forEach(function(t){t.style.getPropertyValue("background-image")?e.push({property:"background-image",value:t.style.getPropertyValue("background-image"),rule:t}):t.style.getPropertyValue("background")&&e.push({property:"background",value:t.style.getPropertyValue("background"),rule:t})}),e}function u(t){return t.filter(function(t){return t.type===window.CSSRule.FONT_FACE_RULE&&t.style.getPropertyValue("src")})}function f(t){return t.filter(function(t){return t.type===window.CSSRule.IMPORT_RULE&&t.href})}function c(t){var r=[];return t.forEach(function(t,e){t.url&&!p.isDataUri(t.url)&&r.push(e)}),r}function l(t){var r=[];return t.forEach(function(t,e){t.url&&!p.isDataUri(t.url)&&r.push(e)}),r}var p=t("./util"),g=t("./cssSupport"),m=t("./backgroundValueParser"),d=t("css-font-face-src");h.adjustPathsOfCssResources=function(o,s){var t=r(s),t=n(t),a=!1;return t.forEach(function(t){var r=m.parse(t.value),e=c(r);0<e.length&&(e.forEach(function(t){var e=r[t].url,e=p.joinUrl(o,e);r[t].url=e}),e=m.serialize(r),i(t.rule,t.property,e),a=!0)}),u(s).forEach(function(t){var r,e,n=t.style.getPropertyValue("src");try{r=d.parse(n)}catch(t){return}0<(e=l(r)).length&&(e.forEach(function(t){var e=r[t].url,e=p.joinUrl(o,e);r[t].url=e}),g.changeFontFaceRuleSrc(s,t,d.serialize(r)),a=!0)}),f(s).forEach(function(t){var e=t.href,e=p.joinUrl(o,e);g.exchangeRule(s,t,"@import url("+e+");"),a=!0}),a};function y(r,t,e){var n=r.indexOf(t);r.splice(n,1),e.forEach(function(t,e){r.splice(n+e,0,t)})}h.loadCSSImportsForRules=function(e,u,i){var t=f(e),c=[],l=!1;return Promise.all(t.map(function(t){return r=e,o=u,s=i,a=(n=t).href,a=g.unquoteString(a),t=p.joinUrl(s.baseUrl,a),(0<=o.indexOf(t)?(y(r,n,[]),Promise.resolve([])):(o.push(t),p.ajax(a,s).then(function(t){var e=g.rulesForCssText(t);return h.loadCSSImportsForRules(e,o,s).then(function(t){return h.adjustPathsOfCssResources(a,e),y(r,n,e),t.errors})},function(t){throw{resourceType:"stylesheet",url:t.url,msg:"Unable to load stylesheet "+t.url}}))).then(function(t){c=c.concat(t),l=!0},function(t){c.push(t)});var r,n,o,s,a})).then(function(){return{hasChanges:l,errors:c}})};function s(t,s){var t=r(t),t=n(t),a=[],u=!1;return Promise.all(t.map(function(e){return t=e.value,r=s,n=m.parse(t),t=c(n),o=!1,p.collectAndReportErrors(t.map(function(e){var t=n[e].url;return p.getDataURIForImageURL(t,r).then(function(t){n[e].url=t,o=!0},function(t){throw{resourceType:"backgroundImage",url:t.url,msg:"Unable to load background-image "+t.url}})})).then(function(t){return{backgroundValue:m.serialize(n),hasChanges:o,errors:t}}).then(function(t){t.hasChanges&&(i(e.rule,e.property,t.backgroundValue),u=!0),a=a.concat(t.errors)});var t,r,n,o})).then(function(){return{hasChanges:u,errors:a}})}function a(r,t){var e=u(r),n=[],o=!1;return Promise.all(e.map(function(e){return function(t,n){var o,e,s=!1;try{o=d.parse(t)}catch(t){o=[]}return e=l(o),p.collectAndReportErrors(e.map(function(t){var e=o[t],r=e.format||"woff";return p.binaryAjax(e.url,n).then(function(t){t=btoa(t);e.url="data:font/"+r+";base64,"+t,s=!0},function(t){throw{resourceType:"fontFace",url:t.url,msg:"Unable to load font-face "+t.url}})})).then(function(t){return{srcDeclarationValue:d.serialize(o),hasChanges:s,errors:t}})}(e.style.getPropertyValue("src"),t).then(function(t){t.hasChanges&&(g.changeFontFaceRuleSrc(r,e,t.srcDeclarationValue),o=!0),n=n.concat(t.errors)})})).then(function(){return{hasChanges:o,errors:n}})}h.loadAndInlineCSSResourcesForRules=function(e,r){var n=!1,o=[];return Promise.all([s,a].map(function(t){return t(e,r).then(function(t){n=n||t.hasChanges,o=o.concat(t.errors)})})).then(function(){return{hasChanges:n,errors:o}})}},{"./backgroundValueParser":8,"./cssSupport":9,"./util":14,"css-font-face-src":1}],12:[function(t,e,r){"use strict";function o(t){return Array.prototype.slice.call(t)}var s=t("./util");r.inline=function(t,r){var e=o(t.getElementsByTagName("img")),n=o(t.getElementsByTagName("image")),t=(t=t.getElementsByTagName("input"),Array.prototype.filter.call(t,function(t){return"image"===t.type}));e=(e=e.concat(n)).concat(t);e=e.filter(function(t){var e=null;return t.hasAttribute("src")?e=t.getAttribute("src"):t.hasAttributeNS("http://www.w3.org/1999/xlink","href")?e=t.getAttributeNS("http://www.w3.org/1999/xlink","href"):t.hasAttribute("href")&&(e=t.getAttribute("href")),null!==e&&!s.isDataUri(e)});return s.collectAndReportErrors(e.map(function(e){return function(t,e){var r=null;t.hasAttribute("src")?r=t.getAttribute("src"):t.hasAttributeNS("http://www.w3.org/1999/xlink","href")?r=t.getAttributeNS("http://www.w3.org/1999/xlink","href"):t.hasAttribute("href")&&(r=t.getAttribute("href"));t=s.getDocumentBaseUrl(t.ownerDocument),e=s.clone(e);return!e.baseUrl&&t&&(e.baseUrl=t),s.getDataURIForImageURL(r,e).then(function(t){return t},function(t){throw{resourceType:"image",url:t.url,msg:"Unable to load image "+t.url}})}(e,r).then(function(t){e.attributes.src?e.attributes.src.value=t:e.attributes["xlink:href"]?e.attributes["xlink:href"].value=t:e.attributes.href&&(e.attributes.href.value=t)})}))}},{"./util":14}],13:[function(t,e,r){"use strict";var s=t("./util");r.inline=function(t,o){t=function(t){t=t.getElementsByTagName("script");return Array.prototype.filter.call(t,function(t){return!!t.attributes.src})}(t);return s.collectAndReportErrors(t.map(function(r){return e=o,n=(t=r).attributes.src.value,t=s.getDocumentBaseUrl(t.ownerDocument),!(e=s.clone(e)).baseUrl&&t&&(e.baseUrl=t),s.ajax(n,e).catch(function(t){throw{resourceType:"script",url:t.url,msg:"Unable to load script "+t.url}}).then(function(t){var e;e=t,(t=r).attributes.removeNamedItem("src"),t.textContent=e.replace(/<\//g,"<\\/")});var t,e,n}))}},{"./util":14}],14:[function(t,e,l){"use strict";var r=t("url");l.getDocumentBaseUrl=function(t){return"about:blank"!==t.baseURI?t.baseURI:null},l.clone=function(t){var e,r={};for(e in t)t.hasOwnProperty(e)&&(r[e]=t[e]);return r},l.cloneArray=function(t){return Array.prototype.slice.apply(t,[0])},l.joinUrl=function(t,e){return t?r.resolve(t,e):e},l.isDataUri=function(t){return/^data:/.test(t)},l.collectAndReportErrors=function(t){var e=[];return Promise.all(t.map(function(t){return t.catch(function(t){e.push(t)})})).then(function(){return e})};var h=null;l.ajax=function(i,c){return new Promise(function(t,e){function r(){e({msg:"Unable to load url",url:u})}var n,o,s,a=new window.XMLHttpRequest,u=l.joinUrl(c.baseUrl,i);o=u,n=!1===(s=c.cache)||"none"===s||"repeated"===s?(null!==h&&"repeated"===s||(h=Date.now()),o+"?_="+h):o,a.addEventListener("load",function(){200===a.status||0===a.status?t(a.response):r()},!1),a.addEventListener("error",r,!1);try{a.open("GET",n,!0),a.overrideMimeType(c.mimeType),a.send(null)}catch(t){r()}})},l.binaryAjax=function(t,e){e=l.clone(e);return e.mimeType="text/plain; charset=x-user-defined",l.ajax(t,e).then(function(t){for(var e="",r=0;r<t.length;r++)e+=String.fromCharCode(255&t.charCodeAt(r));return e})};function n(t){function e(t,e){return t.substring(0,e.length)===e}return e(t,"<?xml")||e(t,"<svg")?"image/svg+xml":"image/png"}l.getDataURIForImageURL=function(t,e){return l.binaryAjax(t,e).then(function(t){var e=btoa(t);return"data:"+n(t)+";base64,"+e})};var a=[];l.memoize=function(n,o,s){if("object"!=typeof s)throw new Error("cacheBucket is not an object");return function(){var t,e=Array.prototype.slice.call(arguments),r=o(e),t=(t=n,a.indexOf(t)<0&&a.push(t),a.indexOf(t));return s[t]&&s[t][r]?s[t][r]:(e=n.apply(null,e),s[t]=s[t]||{},s[t][r]=e)}}},{url:6}]},{},[10])(10)});