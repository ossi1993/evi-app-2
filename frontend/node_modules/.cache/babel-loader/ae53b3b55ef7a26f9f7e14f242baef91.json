{"remainingRequest":"C:\\Users\\Anwender\\SJO\\evi\\evi\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Anwender\\SJO\\evi\\evi\\frontend\\src\\store\\modules\\authData.js","dependencies":[{"path":"C:\\Users\\Anwender\\SJO\\evi\\evi\\frontend\\src\\store\\modules\\authData.js","mtime":1600449264146},{"path":"C:\\Users\\Anwender\\SJO\\evi\\evi\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Anwender\\SJO\\evi\\evi\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":["import firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport { apiService } from \"@/common/api.service.js\";\nexport default {\n  state: {\n    loggedInUser: localStorage.getItem(\"userInfo\") != null ? JSON.parse(localStorage.getItem(\"userInfo\")) : null,\n    loading: false,\n    error: null\n  },\n  getters: {\n    loggedInUser: function loggedInUser(state) {\n      return state.loggedInUser;\n    },\n    loading: function loading(state) {\n      return state.loading;\n    },\n    error: function error(state) {\n      return state.error;\n    }\n  },\n  mutations: {\n    setUser: function setUser(state, data) {\n      state.loggedInUser = data;\n      state.loading = false;\n      state.error = null;\n    },\n    setLogout: function setLogout(state) {\n      state.loggedInUser = null;\n      state.loading = false;\n      state.error = null; // this.$router.go(\"/\");\n    },\n    setLoading: function setLoading(state, data) {\n      state.loading = data;\n      state.error = null;\n    },\n    setError: function setError(state, data) {\n      state.error = data;\n      state.loggedInUser = null;\n      state.loading = false;\n    },\n    clearError: function clearError(state) {\n      state.error = null;\n    }\n  },\n  actions: {\n    loginDjango: function loginDjango(_ref, data) {\n      var commit = _ref.commit;\n      commit(\"clearError\");\n      commit(\"setLoading\", true);\n      var username = data.username;\n      var password = data.password;\n      var endpoint = \"/api/rest-auth/login/\";\n      apiService(endpoint, \"POST\", {\n        username: username,\n        password: password\n      }).then(function (response) {\n        localStorage.setItem(\"userInfo\", JSON.stringify(username));\n        commit(\"setUser\", {\n          uid: username\n        });\n        console.log(\"response\");\n      }).catch(function (error) {\n        localStorage.removeItem(\"userInfo\");\n        commit(\"setError\", error);\n      });\n    },\n    login: function login(_ref2, data) {\n      var commit = _ref2.commit;\n      commit(\"clearError\");\n      commit(\"setLoading\", true);\n      firebase.auth().signInWithEmailAndPassword(data.email, data.password).then(function (user) {\n        var newUser = {\n          uid: user.user.uid\n        };\n        localStorage.setItem(\"userInfo\", JSON.stringify(newUser));\n        commit(\"setUser\", {\n          uid: user.user.uid\n        });\n        console.log(\"user\");\n      }).catch(function (error) {\n        // Handle Errors here.\n        // var errorCode = error.code;\n        // var errorMessage = error.message;\n        // console.log(error);\n        localStorage.removeItem(\"userInfo\");\n        commit(\"setError\", error); // ...\n      });\n    },\n    signUserUp: function signUserUp(_ref3, data) {\n      var commit = _ref3.commit;\n      commit(\"setLoading\", true);\n      commit(\"clearError\");\n      firebase.auth().createUserWithEmailAndPassword(data.email, data.password).then(function (user) {\n        commit(\"setLoading\", false);\n        var newUser = {\n          uid: user.user.uid\n        };\n        console.log(newUser);\n        localStorage.setItem(\"userInfo\", JSON.stringify(newUser));\n        commit(\"setUser\", newUser);\n      }).catch(function (error) {\n        commit(\"setLoading\", false);\n        commit(\"setError\", error);\n        localStorage.removeItem(\"userInfo\");\n        console.log(error);\n      });\n    },\n    signOut: function signOut(_ref4) {\n      var commit = _ref4.commit;\n      firebase.auth().signOut().then(function () {\n        localStorage.removeItem(\"userInfo\");\n        commit(\"setLogout\");\n      }, function (_error) {});\n    }\n  }\n};",{"version":3,"sources":["C:/Users/Anwender/SJO/evi/evi/frontend/src/store/modules/authData.js"],"names":["firebase","apiService","state","loggedInUser","localStorage","getItem","JSON","parse","loading","error","getters","mutations","setUser","data","setLogout","setLoading","setError","clearError","actions","loginDjango","commit","username","password","endpoint","then","response","setItem","stringify","uid","console","log","catch","removeItem","login","auth","signInWithEmailAndPassword","email","user","newUser","signUserUp","createUserWithEmailAndPassword","signOut","_error"],"mappings":"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","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport { apiService } from \"@/common/api.service.js\";\n\nexport default {\n  state: {\n    loggedInUser:\n      localStorage.getItem(\"userInfo\") != null\n        ? JSON.parse(localStorage.getItem(\"userInfo\"))\n        : null,\n    loading: false,\n    error: null\n  },\n  getters: {\n    loggedInUser: state => state.loggedInUser,\n    loading: state => state.loading,\n    error: state => state.error\n  },\n  mutations: {\n    setUser(state, data) {\n      state.loggedInUser = data;\n      state.loading = false;\n      state.error = null;\n    },\n    setLogout(state) {\n      state.loggedInUser = null;\n      state.loading = false;\n      state.error = null;\n      // this.$router.go(\"/\");\n    },\n    setLoading(state, data) {\n      state.loading = data;\n      state.error = null;\n    },\n    setError(state, data) {\n      state.error = data;\n      state.loggedInUser = null;\n      state.loading = false;\n    },\n    clearError(state) {\n      state.error = null;\n    }\n  },\n  actions: {\n    loginDjango({commit}, data) {\n      commit(\"clearError\");\n      commit(\"setLoading\", true);\n      let username = data.username;\n      let password = data.password;\n      let endpoint = `/api/rest-auth/login/`\n      apiService(endpoint, \"POST\", { username, password })\n        .then(response => {\n          localStorage.setItem(\"userInfo\", JSON.stringify(username));\n          commit(\"setUser\", {uid: username});\n          console.log(\"response\");\n        })\n        .catch(function(error) {\n          localStorage.removeItem(\"userInfo\");\n          commit(\"setError\", error);\n        });\n    },\n\n\n\n    login({commit}, data) {\n      commit(\"clearError\");\n      commit(\"setLoading\", true);\n      firebase\n        .auth()\n        .signInWithEmailAndPassword(data.email, data.password)\n        .then(user => {\n          const newUser = {uid: user.user.uid};\n          localStorage.setItem(\"userInfo\", JSON.stringify(newUser));\n          commit(\"setUser\", {uid: user.user.uid});\n          console.log(\"user\");\n        })\n        .catch(function(error) {\n          // Handle Errors here.\n          // var errorCode = error.code;\n          // var errorMessage = error.message;\n          // console.log(error);\n          localStorage.removeItem(\"userInfo\");\n          commit(\"setError\", error);\n          // ...\n        });\n    },\n\n    signUserUp({commit}, data) {\n      commit(\"setLoading\", true);\n      commit(\"clearError\");\n      firebase\n        .auth()\n        .createUserWithEmailAndPassword(data.email, data.password)\n        .then(user => {\n          commit(\"setLoading\", false);\n\n          const newUser = {\n            uid: user.user.uid\n          };\n          console.log(newUser);\n          localStorage.setItem(\"userInfo\", JSON.stringify(newUser));\n          commit(\"setUser\", newUser);\n        })\n        .catch(error => {\n          commit(\"setLoading\", false);\n          commit(\"setError\", error);\n          localStorage.removeItem(\"userInfo\");\n          console.log(error);\n        });\n    },\n    signOut({commit}) {\n      firebase\n        .auth()\n        .signOut()\n        .then(\n          () => {\n            localStorage.removeItem(\"userInfo\");\n            commit(\"setLogout\");\n          },\n          _error => {}\n        );\n    }\n  }\n};\n"]}]}