{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-939f62d4\"],{\"60d8\":function(t,e,n){},\"8df8\":function(t,e,n){\"use strict\";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"main-content\"},[n(\"breadcumb\",{attrs:{page:\"Inspection Type\",folder:\"Inspection\"}}),t._v(\" \"),n(\"b-row\",[n(\"b-col\",{attrs:{lg:\"6\",md:\"6\",sm:\"12\"}},[n(\"b-card\",{staticClass:\"card-icon-bg card-icon-bg-primary o-hidden mb-30 text-center\"},[n(\"i\",{staticClass:\"i-Check\"}),t._v(\" \"),n(\"div\",{staticClass:\"content\"},[n(\"p\",{staticClass:\"text-muted mt-2 mb-0\"},[t._v(\"Types\")]),t._v(\" \"),n(\"p\",{staticClass:\"inline text-primary text-24 line-height-1 mb-2\"},[t._v(t._s(this.inspectionTypes.length))])])])],1),t._v(\" \"),n(\"b-col\",{attrs:{lg:\"6\",md:\"6\",sm:\"12\"}},[n(\"b-card\",{staticClass:\"card-icon-bg card-icon-bg-primary o-hidden mb-30 text-center\"},[n(\"i\",{staticClass:\"i-Calendar\"}),t._v(\" \"),n(\"div\",{staticClass:\"content\"},[n(\"p\",{staticClass:\"text-muted mt-2 mb-0\"},[t._v(\"Date\")]),t._v(\" \"),n(\"p\",{staticClass:\"text-primary text-24 line-height-1 mb-2\"},[n(\"nobr\",[t._v(t._s(this.date))])],1)])])],1)],1),t._v(\" \"),n(\"div\",{staticClass:\"row\"},[n(\"div\",{staticClass:\"col-md-12\"},[n(\"div\",{staticClass:\"card mb-30\"},[n(\"div\",{staticClass:\"card-body p-0 mb-3\"},[n(\"b-row\",{staticClass:\"ml-3\"},[n(\"i\",{staticClass:\"nav-icon i-Add mt-3\",staticStyle:{\"font-size\":\"20px\"},attrs:{id:\"new-attribute-section\"},on:{click:function(e){return t.emptyInput(\"add\")}}}),t._v(\" \"),n(\"h5\",{staticClass:\"card-title border-bottom p-3 mb-2\"},[t._v(\"New Inspection Type\")])]),t._v(\" \"),n(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.show,expression:\"show\"}],staticClass:\"ml-3 mr-3\"},[n(\"b-row\",{staticClass:\"ml-3 mr-3 mt-3\"},[n(\"b-col\",{attrs:{md:\"6\"}},[n(\"b-form-input\",{attrs:{id:\"input-1\",type:\"text\",placeholder:\"Inspection Type\"},model:{value:t.InspectionType,callback:function(e){t.InspectionType=e},expression:\"InspectionType\"}})],1),t._v(\" \"),n(\"b-col\",{attrs:{md:\"6\"}},[n(\"b-form-input\",{attrs:{id:\"input-2\",type:\"text\",placeholder:\"Inspection Initial\"},model:{value:t.InspectionInitial,callback:function(e){t.InspectionInitial=e},expression:\"InspectionInitial\"}})],1)],1),t._v(\" \"),n(\"b-row\",{staticClass:\"ml-3 mr-3 mt-5\"},[t.updateStatus?t.updateStatus?n(\"b-col\",{attrs:{md:\"6\"}},[n(\"b-button\",{attrs:{block:\"\",variant:\"outline-info\"},on:{click:t.emptyInput}},[t._v(\"Cancel\")])],1):t._e():n(\"b-col\",{attrs:{md:\"6\"}},[n(\"b-button\",{attrs:{block:\"\",variant:\"outline-danger\"},on:{click:t.emptyInput}},[t._v(\"Delete Input\")])],1),t._v(\" \"),t.updateStatus?t.updateStatus?n(\"b-col\",{attrs:{md:\"6\"}},[n(\"b-button\",{attrs:{block:\"\",variant:\"warning\",disabled:t.disabled},on:{click:t.updateInspectionType}},[t._v(\"Update Inspection Type\")])],1):t._e():n(\"b-col\",{attrs:{md:\"6\"}},[n(\"b-button\",{attrs:{block:\"\",variant:\"success\",disabled:t.disabled},on:{click:t.addInspectionType}},[t._v(\"Add Inspection Type\")])],1)],1),t._v(\" \"),n(\"b-row\",{staticClass:\"ml-3 mr-3\"},[n(\"b-col\",{staticClass:\"mt-3\",attrs:{md:\"12\"}},[t.error?n(\"b-alert\",{attrs:{show:\"\",variant:\"alert alert-card alert-danger\",dismissible:\"\"}},[n(\"strong\",{staticClass:\"text-capitalize\"},[t._v(\"Error!\")]),t._v(\" The Input is not valid.\\n                \")]):t._e()],1)],1)],1)],1)])])]),t._v(\" \"),n(\"div\",{staticClass:\"row\"},[n(\"div\",{staticClass:\"col-md-12\"},[n(\"div\",{staticClass:\"card mb-30\"},[n(\"div\",{staticClass:\"card-body p-0\"},[n(\"AgGridVue\",{staticClass:\"ag-theme-alpine\",attrs:{id:\"gridInspectionType\",defaultColDef:t.defaultColDef,columnDefs:t.columnDefs,rowSelection:t.rowSelection,rowData:t.rowData,gridOptions:t.gridOptions,suppressRowClickSelection:!0,pagination:!0,paginationPageSize:t.paginationPageSize,getContextMenuItems:t.getContextMenu,domLayout:t.domLayout,modules:t.modules},on:{cellValueChanged:t.updateInspectionTypeGrid}}),t._v(\" \"),n(\"div\",{staticClass:\"ml-3 mr-3 mt-2 mb-2 text-right\"},[t._v(\"\\n              Page Size:\\n              \"),n(\"select\",{attrs:{id:\"page-size\"},on:{change:t.onPageSizeChanged}},[n(\"option\",{attrs:{value:\"10\",selected:\"\"}},[t._v(\"10\")]),t._v(\" \"),n(\"option\",{attrs:{value:\"20\"}},[t._v(\"20\")]),t._v(\" \"),n(\"option\",{attrs:{value:\"50\"}},[t._v(\"50\")]),t._v(\" \"),n(\"option\",{attrs:{value:\"100\"}},[t._v(\"100\")]),t._v(\" \"),n(\"option\",{attrs:{value:\"200\"}},[t._v(\"200\")])]),t._v(\" \"),n(\"b-button\",{staticClass:\"ml-3\",attrs:{size:\"sm\",variant:\"outline-success\"},on:{click:t.onBtExport}},[t._v(\"Export Excel\")])],1)],1)])])]),t._v(\" \"),n(\"b-row\",{staticClass:\"ml-1 mr-3 mb-4\"},[n(\"b-button\",{staticClass:\"mr-3\",attrs:{variant:\"primary\"},on:{click:t.saveState}},[t._v(\"Save Grid State\")]),t._v(\" \"),n(\"b-button\",{attrs:{variant:\"outline-light\"},on:{click:t.restoreState}},[t._v(\"Reset Grid State\")])],1)],1)},a=[],s=n(\"2909\"),o=(n(\"96cf\"),n(\"1da1\")),c=(n(\"c5f6\"),n(\"5ce5\")),r=n(\"228c\"),l=n(\"9974\"),p={metaInfo:{title:\"Inspection Types\"},components:{AgGridVue:r[\"AgGridVue\"]},data:function(){return{gridOptions:null,gridApi:null,columnApi:null,columnDefs:null,rowData:null,rowSelection:null,defaultColDef:null,frameworkComponents:null,domLayout:null,modules:l[\"a\"],inspectionTypes:[],InspectionType:null,InspectionInitial:null,date:null,error:!1,show:!1,updateStatus:!1,updateId:null}},beforeMount:function(){this.gridOptions={},this.defaultColDef={flex:1,editable:!0,resizable:!0,sortable:!0,filter:!0,floatingFilter:!0},this.rowSelection=\"single\",this.domLayout=\"autoHeight\",this.paginationPageSize=10,this.columnDefs=[{headerName:\"Inspection Type\",field:\"txtInspectionType\",filter:\"agTextColumnFilter\"},{headerName:\"Inspection Initial\",field:\"txtInspectionInitial\",filter:\"agTextColumnFilter\"}]},mounted:function(){null!=JSON.parse(localStorage.getItem(\"inspectionTypes_columnStats\"))?this.gridOptions.columnApi.setColumnState(JSON.parse(localStorage.getItem(\"inspectionTypes_columnStats\"))):(this.gridApi=this.gridOptions.api,this.gridColumnApi=this.gridOptions.columnApi)},computed:{disabled:function(){return!this.InspectionType||!this.InspectionInitial}},methods:{saveState:function(){localStorage.setItem(\"inspectionTypes_columnStats\",JSON.stringify(this.gridOptions.columnApi.getColumnState()))},restoreState:function(){localStorage.setItem(\"inspectionTypes_columnStats\",null)},onBtExport:function(){this.gridApi.exportDataAsExcel({})},onPageSizeChanged:function(t){var e=document.getElementById(\"page-size\").value;this.gridApi.paginationSetPageSize(Number(e))},addInspectionType:function(){var t=this,e=\"/api/inspection-type/\";Object(c[\"a\"])(e,\"POST\",{txtInspectionType:this.InspectionType,txtInspectionInitial:this.InspectionInitial}).then((function(e){\"ERROR\"!=e&&(t.getInspectionTypes(),t.emptyInput())})).catch((function(t){return console.log(t)}))},editInspectionTypeMenu:function(t){this.emptyInput();var e=t.node.data;this.InspectionType=e.txtInspectionType,this.InspectionInitial=e.txtInspectionInitial,this.updateStatus=!0,this.updateId=e.id,this.show=!0,document.documentElement.scrollTop=0},updateInspectionType:function(){var t=Object(o[\"a\"])(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=\"/api/inspection-type/\".concat(this.updateId,\"/\"),t.next=3,Object(c[\"a\"])(e,\"PUT\",{txtInspectionType:this.InspectionType,txtInspectionInitial:this.InspectionInitial}).then((function(t){\"ERROR\"!=t&&(n.emptyInput(),n.getInspectionTypes())})).catch((function(t){return console.log(t)}));case 3:case\"end\":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),updateInspectionTypeGrid:function(){var t=Object(o[\"a\"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=\"/api/inspection-type/\".concat(e.node.data.id,\"/\"),t.prev=1,t.next=4,Object(c[\"a\"])(n,\"PATCH\",{txtInspectionType:e.node.data.txtInspectionType,txtInspectionInitial:e.node.data.txtInspectionInitial}).catch((function(t){return console.log(t)}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t[\"catch\"](1),console.log(t.t0);case 9:case\"end\":return t.stop()}}),t,null,[[1,6]])})));function e(e){return t.apply(this,arguments)}return e}(),openModal:function(t){var e=this;this.$bvModal.msgBoxConfirm(\"Are you sure you want to delete the selected Inspection Type?\",{title:\"Please Confirm\",size:\"m\",buttonSize:\"sm\",okVariant:\"danger\",okTitle:\"YES\",cancelTitle:\"NO\",footerClass:\"p-2\",hideHeaderClose:!1,centered:!0}).then((function(n){n&&e.deleteInspectionType(t)})).catch((function(t){return console.log(t)}))},deleteInspectionType:function(){var t=Object(o[\"a\"])(regeneratorRuntime.mark((function t(e){var n,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=\"/api/inspection-type/\".concat(e.node.data.id,\"/\"),t.next=3,Object(c[\"a\"])(n,\"DELETE\").then((function(t){\"ERROR\"!=t?i.getInspectionTypes():i.$bvToast.toast(\"Can't delete this entry. Please check if there are dependent entries. Please delete those first!\",{title:\"DELETE WARNING\",variant:\"danger\",autoHideDelay:6e3,appendToast:!1})}));case 3:case\"end\":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),emptyInput:function(t){this.InspectionType=this.InspectionInitial=null,\"add\"!=t?this.show=!1:(this.updateStatus=!1,this.show=!this.show)},getInspectionTypes:function(){var t=this;if(!this.error){this.inspectionTypes=[];var e=\"/api/inspection-type/\";Object(c[\"a\"])(e).then((function(e){var n;(n=t.inspectionTypes).push.apply(n,Object(s[\"a\"])(e.results)),t.rowData=t.inspectionTypes})).catch((function(t){return console.log(t)}))}},getDateToday:function(){var t=new Date;this.date=t.getDate()+\" / \"+(t.getMonth()+1)+\" / \"+t.getFullYear()},getContextMenu:function(t){var e=this,n=[{name:\"Edit Inspection Type\",action:function(){return e.editInspectionTypeMenu(t)}},\"separator\",{name:\"Delete Inspection Type\",action:function(){return e.openModal(t)}},\"export\"];return n}},created:function(){this.getDateToday(),this.getInspectionTypes()}},u=p,d=(n(\"cb04\"),n(\"2877\")),m=Object(d[\"a\"])(u,i,a,!1,null,null,null);e[\"default\"]=m.exports},cb04:function(t,e,n){\"use strict\";n(\"60d8\")}}]);","extractedComments":[]}