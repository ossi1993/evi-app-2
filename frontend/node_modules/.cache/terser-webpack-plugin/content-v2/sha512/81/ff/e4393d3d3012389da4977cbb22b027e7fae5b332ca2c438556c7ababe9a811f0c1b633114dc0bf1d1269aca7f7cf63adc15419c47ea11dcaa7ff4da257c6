{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-895695ac\"],{1589:function(e,t,a){\"use strict\";a(\"af1b\")},\"72c8\":function(e,t,a){\"use strict\";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"main-content\"},[a(\"breadcumb\",{attrs:{page:\"Dashboard\",folder:\"App\"}}),e._v(\" \"),a(\"div\",{staticClass:\"row\"},[a(\"div\",{staticClass:\"col-md-12\"},[a(\"div\",{staticClass:\"card mb-30 bg-1\"},[a(\"div\",{staticClass:\"card-body p-0\"},[a(\"b-row\",{staticClass:\"row flex justify-content-start\"},[a(\"b-col\",{attrs:{md:\"auto\"}},[a(\"h5\",{staticClass:\"card-title p-3 pb-0 mb-3 mt-3\"},[e._v(\"Active Inspections\")])]),e._v(\" \"),a(\"b-col\",{attrs:{md:\"auto\"}},[e.selectedInspection?a(\"b-button\",{staticClass:\"mt-4\",attrs:{size:\"sm\",variant:\"outline-warning\"},on:{click:e.editInspection}},[e._v(\"Edit Inspection\")]):e._e()],1)],1),e._v(\" \"),a(\"AgGridVue\",{staticClass:\"ag-theme-material\",attrs:{id:\"gridActiveInspections\",defaultColDef:e.defaultColDef1,columnDefs:e.columnDefs1,rowSelection:e.rowSelection,rowData:e.rowData1,gridOptions:e.gridOptions1,suppressRowClickSelection:!0,excelStyles:e.excelStyles1,pagination:!0,paginationPageSize:e.paginationPageSize1,getContextMenuItems:e.getContextMenu1,domLayout:e.domLayout,modules:e.modules},on:{cellValueChanged:e.updateInspectionGrid,\"grid-ready\":e.onGridReady1}}),e._v(\" \"),a(\"b-row\",{staticClass:\"ml-3 mr-3 mt-2 mb-2\"},[a(\"b-col\",{staticClass:\"text-left\",attrs:{md:\"6\"}},[a(\"b-button\",{staticClass:\"mr-3\",attrs:{variant:\"primary\"},on:{click:e.saveState1}},[e._v(\"Save Grid State\")]),e._v(\" \"),a(\"b-button\",{attrs:{variant:\"light\"},on:{click:e.restoreState1}},[e._v(\"Reset Grid State\")])],1),e._v(\" \"),a(\"b-col\",{staticClass:\"text-right\",attrs:{md:\"6\"}},[e._v(\"\\n              Page Size:\\n              \"),a(\"select\",{attrs:{id:\"page-size-1\"},on:{change:e.onPageSizeChanged1}},[a(\"option\",{attrs:{value:\"10\",selected:\"\"}},[e._v(\"10\")]),e._v(\" \"),a(\"option\",{attrs:{value:\"20\"}},[e._v(\"20\")]),e._v(\" \"),a(\"option\",{attrs:{value:\"50\"}},[e._v(\"50\")]),e._v(\" \"),a(\"option\",{attrs:{value:\"100\"}},[e._v(\"100\")]),e._v(\" \"),a(\"option\",{attrs:{value:\"200\"}},[e._v(\"200\")])]),e._v(\" \"),a(\"b-button\",{staticClass:\"ml-3\",attrs:{size:\"sm\",variant:\"outline-success\"},on:{click:e.onBtExport1}},[e._v(\"Export Excel\")])],1)],1)],1)])])]),e._v(\" \"),a(\"div\",{staticClass:\"row\"},[a(\"div\",{staticClass:\"col-md-12\"},[a(\"div\",{staticClass:\"card mb-30 bg-2\"},[a(\"div\",{staticClass:\"card-body p-0\"},[a(\"h5\",{staticClass:\"card-title p-3 pb-0 mb-3 mt-3\"},[e._v(\"Open Orders\")]),e._v(\" \"),a(\"AgGridVue\",{staticClass:\"ag-theme-material\",attrs:{id:\"gridOrders\",defaultColDef:e.defaultColDef,columnDefs:e.columnDefs,rowSelection:e.rowSelection,rowData:e.rowData,gridOptions:e.gridOptions,suppressRowClickSelection:!0,excelStyles:e.excelStyles,pagination:!0,paginationPageSize:e.paginationPageSize,getContextMenuItems:e.getContextMenu,domLayout:e.domLayout,modules:e.modules},on:{cellValueChanged:e.updateOrderGrid,\"grid-ready\":e.onGridReady}}),e._v(\" \"),a(\"b-row\",{staticClass:\"ml-3 mr-3 mt-2 mb-2\"},[a(\"b-col\",{staticClass:\"text-left\",attrs:{md:\"6\"}},[a(\"b-button\",{staticClass:\"mr-3\",attrs:{variant:\"primary\"},on:{click:e.saveState}},[e._v(\"Save Grid State\")]),e._v(\" \"),a(\"b-button\",{attrs:{variant:\"light\"},on:{click:e.restoreState}},[e._v(\"Reset Grid State\")])],1),e._v(\" \"),a(\"b-col\",{staticClass:\"text-right\",attrs:{md:\"6\"}},[e._v(\"\\n              Page Size:\\n              \"),a(\"select\",{attrs:{id:\"page-size\"},on:{change:e.onPageSizeChanged}},[a(\"option\",{attrs:{value:\"10\",selected:\"\"}},[e._v(\"10\")]),e._v(\" \"),a(\"option\",{attrs:{value:\"20\"}},[e._v(\"20\")]),e._v(\" \"),a(\"option\",{attrs:{value:\"50\"}},[e._v(\"50\")]),e._v(\" \"),a(\"option\",{attrs:{value:\"100\"}},[e._v(\"100\")]),e._v(\" \"),a(\"option\",{attrs:{value:\"200\"}},[e._v(\"200\")])]),e._v(\" \"),a(\"b-button\",{staticClass:\"ml-3\",attrs:{size:\"sm\",variant:\"outline-success\"},on:{click:e.onBtExport}},[e._v(\"Export Excel\")])],1)],1)],1)])])]),e._v(\" \"),a(\"div\",{staticClass:\"row\"},[a(\"div\",{staticClass:\"col-md-12\"},[a(\"div\",{staticClass:\"card mb-30 bg-3\"},[a(\"div\",{staticClass:\"card-body p-0\"},[a(\"h5\",{staticClass:\"card-title p-3 pb-0 mb-3 mt-3\"},[e._v(\"New Devices (last 30 days)\")]),e._v(\" \"),a(\"AgGridVue\",{staticClass:\"ag-theme-material\",attrs:{id:\"gridDevices\",defaultColDef:e.defaultColDef2,columnDefs:e.columnDefs2,rowSelection:e.rowSelection,rowData:e.rowData2,gridOptions:e.gridOptions2,excelStyles:e.excelStyles2,suppressRowClickSelection:!0,pagination:!0,paginationPageSize:e.paginationPageSize2,getContextMenuItems:e.getContextMenu2,domLayout:e.domLayout,modules:e.modules},on:{\"grid-ready\":e.onGridReady2}}),e._v(\" \"),a(\"b-row\",{staticClass:\"ml-3 mr-3 mt-2 mb-2\"},[a(\"b-col\",{staticClass:\"text-left\",attrs:{md:\"6\"}},[a(\"b-button\",{staticClass:\"mr-3\",attrs:{variant:\"primary\"},on:{click:e.saveState2}},[e._v(\"Save Grid State\")]),e._v(\" \"),a(\"b-button\",{attrs:{variant:\"light\"},on:{click:e.restoreState2}},[e._v(\"Reset Grid State\")])],1),e._v(\" \"),a(\"b-col\",{staticClass:\"text-right\",attrs:{md:\"6\"}},[e._v(\"\\n              Page Size:\\n              \"),a(\"select\",{attrs:{id:\"page-size-2\"},on:{change:e.onPageSizeChanged2}},[a(\"option\",{attrs:{value:\"10\",selected:\"\"}},[e._v(\"10\")]),e._v(\" \"),a(\"option\",{attrs:{value:\"20\"}},[e._v(\"20\")]),e._v(\" \"),a(\"option\",{attrs:{value:\"50\"}},[e._v(\"50\")]),e._v(\" \"),a(\"option\",{attrs:{value:\"100\"}},[e._v(\"100\")]),e._v(\" \"),a(\"option\",{attrs:{value:\"200\"}},[e._v(\"200\")])]),e._v(\" \"),a(\"b-button\",{staticClass:\"ml-3\",attrs:{size:\"sm\",variant:\"outline-success\"},on:{click:e.onBtExport2}},[e._v(\"Export Excel\")])],1)],1)],1)])])])],1)},n=[],r=a(\"2909\"),o=(a(\"96cf\"),a(\"1da1\")),l=(a(\"c5f6\"),a(\"5ce5\")),s=a(\"228c\"),c=a(\"9974\"),u={metaInfo:{title:\"Dashboard\"},components:{AgGridVue:s[\"AgGridVue\"]},data:function(){return{gridOptions:null,gridApi:null,columnApi:null,columnDefs:null,rowData:null,rowSelection:null,defaultColDef:null,excelStyles:null,frameworkComponents:null,domLayout:null,modules:c[\"a\"],paginationPageSize:null,gridOptions1:null,gridApi1:null,columnApi1:null,columnDefs1:null,rowData1:null,defaultColDef1:null,excelStyles1:null,paginationPageSize1:null,selectedInspection:!1,gridOptions2:null,gridApi2:null,columnApi2:null,columnDefs2:null,rowData2:null,defaultColDef2:null,excelStyles2:null,paginationPageSize2:null,suppliers:[],devices:[],orders:[],inspections:[],ONumber:null,DatOrder:null,DatDelivery:null,OType:null,CNumber:null,DelStatus:null,Supplier:null,date:null,error:!1,optionSuppliers:[],optionInspections:[],optionTypes:[{value:\"Sample\",text:\"Sample\"},{value:\"Customer\",text:\"Customer\"}],optionStatus:[{value:\"Delivered\",text:\"Delivered\"},{value:\"Not Delivered\",text:\"Not Delivered\"}]}},beforeMount:function(){this.gridOptions={},this.gridOptions1={},this.gridOptions2={},this.columnDefs=[{headerName:\"Order Number\",field:\"txtOrderNumber\",filter:\"agTextColumnFilter\"},{headerName:\"Order Date\",field:\"datOrder\",filter:\"agTextColumnFilter\"},{headerName:\"Delivery Date\",field:\"datDelivery\",filter:\"agTextColumnFilter\"},{headerName:\"Order Type\",field:\"txtOrderType\",filter:\"agTextColumnFilter\"},{headerName:\"Charge Number\",field:\"txtChargeNumber\",filter:\"agTextColumnFilter\"},{headerName:\"Delivery Status\",field:\"txtDeliveryStatus\",filter:\"agTextColumnFilter\",editable:!0,cellEditor:\"agRichSelectCellEditor\",cellEditorParams:{cellHeight:50,values:[\"Delivered\",\"Not Delivered\"]}},{headerName:\"Supplier\",field:\"idSupplier.txtSupplierName\",filter:\"agTextColumnFilter\",editable:!1},{headerName:\"Memo\",field:\"txtComment\",filter:\"agTextColumnFilter\",editable:!1}],this.columnDefs1=[{headerName:\"Inspection Number\",field:\"txtInspectionNumber\",filter:\"agTextColumnFilter\"},{headerName:\"Status\",field:\"txtInspectionStatus\",filter:\"agTextColumnFilter\",editable:!0,cellEditor:\"agRichSelectCellEditor\",cellEditorParams:{cellHeight:50,values:[\"Work In Progress\",\"On Hold\",\"Complete\",\"Declined\"]}},{headerName:\"Type\",field:\"txtInspectionType\",filter:\"agTextColumnFilter\"},{headerName:\"Inspector\",field:\"txtInspector\",filter:\"agTextColumnFilter\"},{headerName:\"Date\",field:\"datInspection\",filter:\"agTextColumnFilter\"},{headerName:\"Delivered on\",field:\"datDeliveredOn\",filter:\"agTextColumnFilter\"},{headerName:\"Requested on\",field:\"datRequestedOn\",filter:\"agTextColumnFilter\"},{headerName:\"Requested by\",field:\"txtRequestedBy\",filter:\"agTextColumnFilter\"},{headerName:\"Release\",field:\"txtRelease\",filter:\"agTextColumnFilter\"},{headerName:\"Release by\",field:\"txtReleaseBy\",filter:\"agTextColumnFilter\"},{headerName:\"Memo\",field:\"txtComment\",filter:\"agTextColumnFilter\"}],this.columnDefs2=[{headerName:\"Model Name\",field:\"idModel.txtModelName\",filter:\"agTextColumnFilter\",editable:!1},{headerName:\"Serial Number\",field:\"txtSerialNumber\",filter:\"agTextColumnFilter\"},{headerName:\"Device Position\",field:\"txtDevicePosition\",filter:\"agTextColumnFilter\"},{headerName:\"Manufacturer\",field:\"idModel.idManufacturer.txtManufacturerName\",filter:\"agTextColumnFilter\",editable:!1},{headerName:\"Supplier\",field:\"idModel.idSupplier.txtSupplierName\",filter:\"agTextColumnFilter\",editable:!1}],this.defaultColDef={editable:!1,resizable:!0,sortable:!0,filter:!0,floatingFilter:!0},this.defaultColDef1={editable:!1,resizable:!0,sortable:!0,filter:!0,floatingFilter:!0},this.defaultColDef2={flex:1,editable:!1,resizable:!0,sortable:!0,filter:!0,floatingFilter:!0},this.rowSelection=\"single\",this.domLayout=\"autoHeight\",this.paginationPageSize=10,this.paginationPageSize1=10,this.paginationPageSize2=10},methods:{saveState:function(e){localStorage.setItem(\"openOrders_columnStats\",JSON.stringify(this.gridOptions.columnApi.getColumnState()))},saveState1:function(e){localStorage.setItem(\"activeInspections_columnStats\",JSON.stringify(this.gridOptions1.columnApi.getColumnState()))},saveState2:function(e){localStorage.setItem(\"lastDevices_columnStats\",JSON.stringify(this.gridOptions2.columnApi.getColumnState()))},restoreState:function(){localStorage.setItem(\"openOrders_columnStats\",null)},restoreState1:function(){localStorage.setItem(\"activeInspections_columnStats\",null)},restoreState2:function(){localStorage.setItem(\"lastDevices_columnStats\",null)},onGridReady:function(e){null!=JSON.parse(localStorage.getItem(\"openOrders_columnStats\"))?(this.gridApi=e.api,e.columnApi.setColumnState(JSON.parse(localStorage.getItem(\"openOrders_columnStats\"))),this.gridApi.setQuickFilter(\"Not Delivered\")):(this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.gridApi.setQuickFilter(\"Not Delivered\"))},onGridReady1:function(e){null!=JSON.parse(localStorage.getItem(\"activeInspections_columnStats\"))?(this.gridApi1=e.api,e.columnApi.setColumnState(JSON.parse(localStorage.getItem(\"activeInspections_columnStats\")))):(this.gridApi1=e.api,this.gridColumnApi1=e.columnApi)},onGridReady2:function(e){null!=JSON.parse(localStorage.getItem(\"lastDevices_columnStats\"))||void 0!=JSON.parse(localStorage.getItem(\"lastDevices_columnStats\"))?(this.gridApi2=e.api,e.columnApi.setColumnState(JSON.parse(localStorage.getItem(\"lastDevices_columnStats\")))):(this.gridApi2=e.api,this.gridColumnApi2=e.columnApi)},onBtExport:function(){this.gridApi.exportDataAsExcel({})},onBtExport1:function(){this.gridApi1.exportDataAsExcel({})},onBtExport2:function(){this.gridApi2.exportDataAsExcel({})},onPageSizeChanged:function(e){var t=document.getElementById(\"page-size\").value;this.gridApi.paginationSetPageSize(Number(t))},onPageSizeChanged1:function(e){var t=document.getElementById(\"page-size-1\").value;this.gridApi1.paginationSetPageSize(Number(t))},onPageSizeChanged2:function(e){var t=document.getElementById(\"page-size-2\").value;this.gridApi2.paginationSetPageSize(Number(t))},editInspectionMenu:function(e){localStorage.setItem(\"InspectionID\",e.node.data.id),this.$router.push(\"inspection/inspection/\")},editOrderMenu:function(e){window.localStorage.setItem(\"selOrder\",e.node.data.id),this.$router.push(\"order/order-list\")},editDeviceMenu:function(e){window.localStorage.setItem(\"selDevice\",e.node.data.id),this.$router.push(\"device/device-list\")},updateOrderGrid:function(){var e=Object(o[\"a\"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=\"/api/order/\".concat(t.node.data.id,\"/\"),e.prev=1,e.next=4,Object(l[\"a\"])(a,\"PATCH\",{txtOrderNumber:t.node.data.txtOrderNumber,datOrder:t.node.data.datOrder,datDelivery:t.node.data.datDelivery,txtOrderType:t.node.data.txtOrderType,txtChargeNumber:t.node.data.txtChargeNumber,txtDeliveryStatus:t.node.data.txtDeliveryStatus,txtComment:t.node.data.txtComment}).catch((function(e){return console.log(e)}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e[\"catch\"](1),console.log(e.t0);case 9:case\"end\":return e.stop()}}),e,null,[[1,6]])})));function t(t){return e.apply(this,arguments)}return t}(),updateInspectionGrid:function(){var e=Object(o[\"a\"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=\"/api/inspection/\".concat(t.node.data.id,\"/\"),e.prev=1,e.next=4,Object(l[\"a\"])(a,\"PATCH\",{txtInspectionNumber:t.node.data.txtInspectionNumber,txtInspectionStatus:t.node.data.txtInspectionStatus,txtInspectionType:t.node.data.txtInspectionType,txtInspector:t.node.data.txtInspector,datInspection:t.node.data.datInspection,datDeliveredOn:t.node.data.datDeliveredOn,datRequestedOn:t.node.data.datRequestedOn,txtRequestedBy:t.node.data.txtRequestedBy,txtLink:t.node.data.txtLink,txtComment:t.node.data.txtComment}).catch((function(e){return console.log(e)}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e[\"catch\"](1),console.log(e.t0);case 9:case\"end\":return e.stop()}}),e,null,[[1,6]])})));function t(t){return e.apply(this,arguments)}return t}(),getUserInfo:function(){var e=Object(o[\"a\"])(regeneratorRuntime.mark((function e(){var t,a,i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=\"/api/user/\",e.next=3,Object(l[\"a\"])(t);case 3:a=e.sent,i=a[\"username\"],n=a[\"is_superuser\"],window.localStorage.setItem(\"username\",i),window.localStorage.setItem(\"superuser\",n);case 8:case\"end\":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),getOrder:function(){var e=this;if(!this.error){this.orders=[];var t=\"/api/order-list/\";Object(l[\"a\"])(t).then((function(t){var a;(a=e.orders).push.apply(a,Object(r[\"a\"])(t.results)),e.rowData=e.orders})).catch((function(e){return console.log(e)}))}},getSup:function(){var e=this;if(!this.error){this.suppliers=[];var t=\"/api/supplier/\";Object(l[\"a\"])(t).then((function(t){var a;(a=e.suppliers).push.apply(a,Object(r[\"a\"])(t.results)),e.optionSuppliers=e.suppliers})).catch((function(e){return console.log(e)}))}},getDevices:function(){var e=this;if(!this.error){this.devices=[];var t=\"/api/device-list/\";Object(l[\"a\"])(t).then((function(t){var a;(a=e.devices).push.apply(a,Object(r[\"a\"])(t.results)),e.rowData2=e.devices.filter((function(e){var t=new Date-new Date(e.datCreated),a=Math.ceil(t/864e5);return Number(a)<=30&&e.datCreated}))})).catch((function(e){return console.log(e)}))}},getInspections:function(){var e=this;if(!this.error){this.inspections=[];var t=\"/api/inspection/\";Object(l[\"a\"])(t).then((function(t){var a;(a=e.inspections).push.apply(a,Object(r[\"a\"])(t.results)),e.rowData1=e.inspections.filter((function(e){return\"Work In Progress\"==e.txtInspectionStatus||\"On Hold\"==e.txtInspectionStatus}))})).catch((function(e){return console.log(e)}))}},getContextMenu:function(e){var t=this,a=[{name:\"Edit Order\",action:function(){return t.editOrderMenu(e)}},\"separator\",\"export\"];return a},getContextMenu1:function(e){var t=this,a=[{name:\"Edit Inspection\",action:function(){return t.editInspectionMenu(e)}},\"separator\",\"export\"];return a},getContextMenu2:function(e){var t=this,a=[{name:\"Edit Device\",action:function(){return t.editDeviceMenu(e)}},\"separator\",\"export\"];return a}},created:function(){this.getSup(),this.getOrder(),this.getDevices(),this.getInspections(),this.getUserInfo()}},d=u,p=(a(\"1589\"),a(\"2877\")),m=Object(p[\"a\"])(d,i,n,!1,null,null,null);t[\"default\"]=m.exports},af1b:function(e,t,a){}}]);","extractedComments":[]}