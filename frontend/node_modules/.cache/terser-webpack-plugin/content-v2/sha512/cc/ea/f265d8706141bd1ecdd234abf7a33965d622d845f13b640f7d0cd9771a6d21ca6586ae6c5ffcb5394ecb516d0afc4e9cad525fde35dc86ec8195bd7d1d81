{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-c82c0308\"],{3846:function(t,e,a){a(\"9e1e\")&&\"g\"!=/./g.flags&&a(\"86cc\").f(RegExp.prototype,\"flags\",{configurable:!0,get:a(\"0bfbd\")})},\"509c\":function(t,e,a){\"use strict\";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"main-content\"},[a(\"breadcumb\",{attrs:{page:\"Device Template Attributes\",folder:\"Device\"}}),t._v(\" \"),a(\"b-row\",[a(\"b-col\",{attrs:{lg:\"6\",md:\"6\",sm:\"12\"}},[a(\"b-card\",{staticClass:\"card-icon-bg card-icon-bg-primary o-hidden mb-30 text-center\"},[a(\"i\",{staticClass:\"i-Atom\"}),t._v(\" \"),a(\"div\",{staticClass:\"content\"},[a(\"p\",{staticClass:\"text-muted mt-2 mb-0\"},[t._v(\"Attributes\")]),t._v(\" \"),a(\"p\",{staticClass:\"inline text-primary text-24 line-height-1 mb-2\"},[t._v(t._s(this.attributes.length))])])])],1),t._v(\" \"),a(\"b-col\",{attrs:{lg:\"6\",md:\"6\",sm:\"12\"}},[a(\"b-card\",{staticClass:\"card-icon-bg card-icon-bg-primary o-hidden mb-30 text-center\"},[a(\"i\",{staticClass:\"i-Calendar\"}),t._v(\" \"),a(\"div\",{staticClass:\"content\"},[a(\"p\",{staticClass:\"text-muted mt-2 mb-0\"},[t._v(\"Date\")]),t._v(\" \"),a(\"p\",{staticClass:\"text-primary text-24 line-height-1 mb-2\"},[a(\"nobr\",[t._v(t._s(this.date))])],1)])])],1)],1),t._v(\" \"),a(\"div\",{staticClass:\"row\"},[a(\"div\",{staticClass:\"col-md-12\"},[a(\"div\",{staticClass:\"card mb-30\"},[a(\"div\",{staticClass:\"card-body p-0 mb-3\"},[a(\"b-row\",{staticClass:\"ml-3\"},[a(\"i\",{staticClass:\"nav-icon i-Add mt-3\",staticStyle:{\"font-size\":\"20px\"},attrs:{id:\"new-attribute-section\"},on:{click:function(e){return t.emptyInput(\"add\")}}}),t._v(\" \"),a(\"h5\",{staticClass:\"card-title border-bottom p-3 mb-2\"},[t._v(\"New Device Template Attribute\")])]),t._v(\" \"),a(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.show,expression:\"show\"}],staticClass:\"mt-3\"},[a(\"b-form\",[a(\"b-row\",{staticClass:\"ml-3 mr-3 mt-3\"},[a(\"b-col\",{attrs:{md:\"6\"}},[a(\"b-form-input\",{attrs:{id:\"input-1\",type:\"text\",required:\"\",placeholder:\"Key Attribute\"},model:{value:t.KeyAtt,callback:function(e){t.KeyAtt=e},expression:\"KeyAtt\"}})],1),t._v(\" \"),a(\"b-col\",{attrs:{md:\"6\"}},[a(\"b-form-input\",{attrs:{id:\"input-2\",type:\"text\",required:\"\",placeholder:\"Name Attribute\"},model:{value:t.NameAtt,callback:function(e){t.NameAtt=e},expression:\"NameAtt\"}})],1)],1),t._v(\" \"),a(\"b-row\",{staticClass:\"ml-3 mr-3 mt-3\"},[a(\"b-col\",{attrs:{md:\"12\"}},[a(\"v-select\",{attrs:{id:\"select-2\",options:t.optionsTypes,required:\"\",placeholder:\"Choose Value Type\",label:\"text\",reduce:function(t){return t.value}},on:{input:function(e){return t.emptyLastValueType(e)}},model:{value:t.ValueType,callback:function(e){t.ValueType=e},expression:\"ValueType\"}})],1)],1),t._v(\" \"),\"Integer\"==this.ValueType||\"Float\"==this.ValueType||\"String\"==this.ValueType?a(\"b-row\",{staticClass:\"ml-3 mr-3 mt-3\"},[a(\"b-col\",{attrs:{md:\"12\"}},[a(\"b-form-input\",{attrs:{id:\"input-3\",type:\"text\",required:\"\",placeholder:\"Value Default\"},model:{value:t.ValueDef,callback:function(e){t.ValueDef=e},expression:\"ValueDef\"}})],1)],1):t._e(),t._v(\" \"),\"Float\"==this.ValueType?a(\"b-row\",{staticClass:\"ml-3 mr-3 mt-3\"},[a(\"b-col\",{attrs:{md:\"12\"}},[a(\"v-select\",{attrs:{id:\"select-4\",options:t.optionsUnits,required:\"\",placeholder:\"Choose Parameter Unit\",label:\"text\",reduce:function(t){return t.value}},model:{value:t.Parameter,callback:function(e){t.Parameter=e},expression:\"Parameter\"}})],1)],1):t._e(),t._v(\" \"),\"Boolean\"==this.ValueType?a(\"b-row\",{staticClass:\"ml-3 mr-3 mt-3\"},[a(\"b-col\",{attrs:{md:\"12\"}},[a(\"v-select\",{attrs:{id:\"select-5\",options:t.optionsBoolean,required:\"\",placeholder:\"Choose Default Parameter\",label:\"text\",reduce:function(t){return t.value}},model:{value:t.ValueDef,callback:function(e){t.ValueDef=e},expression:\"ValueDef\"}})],1)],1):t._e(),t._v(\" \"),\"Select\"==this.ValueType?a(\"b-row\",{staticClass:\"ml-3 mr-3 mt-3\"},[a(\"b-col\",{attrs:{md:\"12\"}},[a(\"input-tag\",{staticClass:\"input-group-text\",attrs:{placeholder:\"[+] Add Parameter\",\"add-tag-on-keys\":[13,188,9]},model:{value:t.ParameterTags,callback:function(e){t.ParameterTags=e},expression:\"ParameterTags\"}})],1)],1):t._e(),t._v(\" \"),\"Select\"==this.ValueType?a(\"b-row\",{staticClass:\"ml-3 mr-3 mt-3\"},[a(\"b-col\",{attrs:{md:\"12\"}},[a(\"v-select\",{attrs:{id:\"select-5\",options:t.ParameterTags,required:\"\",placeholder:\"Choose Default Parameter\",label:\"text\"},model:{value:t.ValueDef,callback:function(e){t.ValueDef=e},expression:\"ValueDef\"}})],1)],1):t._e(),t._v(\" \"),a(\"b-row\",{staticClass:\"ml-3 mt-5 mr-3\"},[t.updateStatus?t.updateStatus?a(\"b-col\",{attrs:{md:\"6\"}},[a(\"b-button\",{attrs:{block:\"\",variant:\"outline-info\"},on:{click:t.emptyInput}},[t._v(\"Cancel\")])],1):t._e():a(\"b-col\",{attrs:{md:\"6\"}},[a(\"b-button\",{attrs:{block:\"\",variant:\"outline-danger\"},on:{click:t.emptyInput}},[t._v(\"Delete Input\")])],1),t._v(\" \"),t.updateStatus?t.updateStatus?a(\"b-col\",{attrs:{md:\"6\"}},[a(\"b-button\",{attrs:{block:\"\",variant:\"warning\",disabled:t.disabled},on:{click:t.updateAttribute}},[t._v(\"Update Attribute\")])],1):t._e():a(\"b-col\",{attrs:{md:\"6\"}},[a(\"b-button\",{attrs:{block:\"\",variant:\"success\",disabled:t.disabled},on:{click:t.addAtt}},[t._v(\"Add Attribute\")])],1)],1),t._v(\" \"),a(\"b-row\",{staticClass:\"ml-3 mr-3\"},[a(\"b-col\",{staticClass:\"mt-3\",attrs:{md:\"12\"}},[t.error?a(\"b-alert\",{attrs:{show:\"\",variant:\"alert alert-card alert-danger\",dismissible:\"\"}},[a(\"strong\",{staticClass:\"text-capitalize\"},[t._v(\"Error!\")]),t._v(\" The Input is not valid.\\n                  \")]):t._e()],1)],1)],1)],1)],1)])])]),t._v(\" \"),a(\"div\",{staticClass:\"row\"},[a(\"div\",{staticClass:\"col-md-12\"},[a(\"div\",{staticClass:\"card mb-30\"},[a(\"div\",{staticClass:\"card-body p-0\"},[a(\"AgGridVue\",{staticClass:\"ag-theme-alpine\",attrs:{id:\"gridAttributes\",defaultColDef:t.defaultColDef,columnDefs:t.columnDefs,rowSelection:t.rowSelection,rowData:t.rowData,gridOptions:t.gridOptions,suppressRowClickSelection:!0,pagination:!0,paginationPageSize:t.paginationPageSize,getContextMenuItems:t.getContextMenu,domLayout:t.domLayout,modules:t.modules},on:{cellValueChanged:t.updateAttributeGrid}}),t._v(\" \"),a(\"div\",{staticClass:\"ml-3 mr-3 mt-2 mb-2 text-right\"},[t._v(\"\\n              Page Size:\\n              \"),a(\"select\",{attrs:{id:\"page-size\"},on:{change:t.onPageSizeChanged}},[a(\"option\",{attrs:{value:\"10\",selected:\"\"}},[t._v(\"10\")]),t._v(\" \"),a(\"option\",{attrs:{value:\"20\"}},[t._v(\"20\")]),t._v(\" \"),a(\"option\",{attrs:{value:\"50\"}},[t._v(\"50\")]),t._v(\" \"),a(\"option\",{attrs:{value:\"100\"}},[t._v(\"100\")]),t._v(\" \"),a(\"option\",{attrs:{value:\"200\"}},[t._v(\"200\")])]),t._v(\" \"),a(\"b-button\",{staticClass:\"ml-3\",attrs:{size:\"sm\",variant:\"outline-success\"},on:{click:t.onBtExport}},[t._v(\"Export Excel\")])],1)],1)])])]),t._v(\" \"),a(\"b-row\",{staticClass:\"ml-1 mr-3 mb-4\"},[a(\"b-button\",{staticClass:\"mr-3\",attrs:{variant:\"primary\"},on:{click:t.saveState}},[t._v(\"Save Grid State\")]),t._v(\" \"),a(\"b-button\",{attrs:{variant:\"outline-light\"},on:{click:t.restoreState}},[t._v(\"Reset Grid State\")])],1)],1)},r=[],l=a(\"2909\"),n=(a(\"96cf\"),a(\"1da1\")),s=(a(\"6b54\"),a(\"28a5\"),a(\"c5f6\"),a(\"5ce5\")),o=a(\"228c\"),u=a(\"9974\"),c=a(\"74bf\"),d=a.n(c),m={metaInfo:{title:\"Device Attributes\"},components:{AgGridVue:o[\"AgGridVue\"],InputTag:d.a},data:function(){return{gridOptions:null,gridApi:null,columnApi:null,columnDefs:null,rowData:null,rowSelection:null,defaultColDef:null,frameworkComponents:null,domLayout:null,modules:u[\"a\"],attributes:[],idDevice:null,KeyAtt:null,NameAtt:null,ValueDef:null,ValueType:null,Parameter:null,ParameterTags:[],date:null,error:!1,show:!1,updateStatus:!1,updateId:null,optionsTypes:[{value:\"Integer\",text:\"Counter\"},{value:\"Float\",text:\"Measure\"},{value:\"String\",text:\"Text\"},{value:\"Boolean\",text:\"True/False\"},{value:\"Select\",text:\"Select\"}],optionsUnits:[{value:\"µm\",text:\"µm\"},{value:\"mm\",text:\"mm\"},{value:\"cm\",text:\"cm\"},{value:\"mg\",text:\"mg\"},{value:\"g\",text:\"g\"},{value:\"gb\",text:\"gb\"},{value:\"tb\",text:\"tb\"}],optionsBoolean:[{value:\"true\",text:\"True\"},{value:\"false\",text:\"False\"}]}},beforeMount:function(){this.gridOptions={},this.columnDefs=[{headerName:\"Key Attribute\",field:\"txtKeyAttribute\",filter:\"agTextColumnFilter\"},{headerName:\"Name Attribute\",field:\"txtNameAttribute\",filter:\"agTextColumnFilter\"},{headerName:\"Value Default\",field:\"txtValueDefault\",filter:\"agTextColumnFilter\",editable:!1},{headerName:\"Value Type\",field:\"txtValueType\",filter:\"agTextColumnFilter\",editable:!1,valueGetter:ValueTypeGetter},{headerName:\"Parameter\",field:\"txtParameter\",filter:\"agTextColumnFilter\",editable:!1}],this.defaultColDef={flex:1,editable:!0,resizable:!0,sortable:!0,filter:!0,floatingFilter:!0},this.rowSelection=\"single\",this.domLayout=\"autoHeight\",this.paginationPageSize=10},mounted:function(){null!=JSON.parse(localStorage.getItem(\"deviceAttributeTemp_columnStats\"))?this.gridOptions.columnApi.setColumnState(JSON.parse(localStorage.getItem(\"deviceAttributeTemp_columnStats\"))):(this.gridApi=this.gridOptions.api,this.gridColumnApi=this.gridOptions.columnApi)},computed:{disabled:function(){return\"Boolean\"==this.ValueType?!this.KeyAtt||(!this.NameAtt||!this.ValueType):!this.KeyAtt||(!this.NameAtt||(!this.ValueDef||!this.ValueType))}},methods:{saveState:function(){localStorage.setItem(\"deviceAttributeTemp_columnStats\",JSON.stringify(this.gridOptions.columnApi.getColumnState()))},restoreState:function(){localStorage.setItem(\"deviceAttributeTemp_columnStats\",null)},onBtExport:function(){this.gridApi.exportDataAsExcel({})},onPageSizeChanged:function(t){var e=document.getElementById(\"page-size\").value;this.gridApi.paginationSetPageSize(Number(e))},getParameter:function(t){\"Select\"==t.node.data.txtValueType?this.ParameterTags=t.node.data.txtParameter.split(\",\"):this.Parameter=t.node.data.txtParameter},setParameter:function(){return\"Select\"==this.ValueType?this.ParameterTags.toString():\"Boolean\"==this.ValueType?(this.ValueDef=\"false\",null):this.Parameter.toString()},addAtt:function(){var t=this,e=\"/api/device-template-attribute/\";Object(s[\"a\"])(e,\"POST\",{txtKeyAttribute:this.KeyAtt,txtNameAttribute:this.NameAtt,txtValueType:this.ValueType,txtParameter:this.setParameter(),txtValueDefault:this.ValueDef}).then((function(e){\"ERROR\"!=e?(t.getAtt(),t.emptyInput(),t.error=!1):t.error=!0})).catch((function(t){return console.log(t)}))},editAttributeMenu:function(t){this.emptyInput();var e=t.node.data;this.getParameter(t),this.KeyAtt=e.txtKeyAttribute,this.NameAtt=e.txtNameAttribute,this.ValueDef=e.txtValueDefault,this.ValueType=e.txtValueType,this.updateStatus=!0,this.updateId=e.id,this.show=!0,document.documentElement.scrollTop=0},updateAttribute:function(){var t=Object(n[\"a\"])(regeneratorRuntime.mark((function t(){var e,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=\"/api/device-template-attribute/\".concat(this.updateId,\"/\"),t.next=3,Object(s[\"a\"])(e,\"PUT\",{txtParameter:this.setParameter(),txtKeyAttribute:this.KeyAtt,txtNameAttribute:this.NameAtt,txtValueDefault:this.ValueDef,txtValueType:this.ValueType}).then((function(t){\"ERROR\"!=t?(a.getAtt(),a.emptyInput(),a.error=!1):a.error=!0})).catch((function(t){return console.log(t)}));case 3:case\"end\":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),updateAttributeGrid:function(){var t=Object(n[\"a\"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=\"/api/device-template-attribute/\".concat(e.node.data.id,\"/\"),t.prev=1,t.next=4,Object(s[\"a\"])(a,\"PATCH\",{txtKeyAttribute:e.node.data.txtKeyAttribute,txtNameAttribute:e.node.data.txtNameAttribute,txtValueDefault:e.node.data.txtValueDefault,txtValueType:e.node.data.txtValueType,txtParameter:e.node.data.txtParameter,idDevice:e.node.data.idDevice}).catch((function(t){return console.log(t)}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t[\"catch\"](1),console.log(t.t0);case 9:case\"end\":return t.stop()}}),t,null,[[1,6]])})));function e(e){return t.apply(this,arguments)}return e}(),openModal:function(t){var e=this;this.$bvModal.msgBoxConfirm(\"Are you sure you want to delete the selected Attribute? => \"+t.node.data.txtNameAttribute,{title:\"Please Confirm\",size:\"m\",buttonSize:\"sm\",okVariant:\"danger\",okTitle:\"YES\",cancelTitle:\"NO\",footerClass:\"p-2\",hideHeaderClose:!1,centered:!0}).then((function(a){a&&e.deleteAttribute(t)})).catch((function(t){return console.log(t)}))},deleteAttribute:function(){var t=Object(n[\"a\"])(regeneratorRuntime.mark((function t(e){var a,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=\"/api/device-template-attribute/\".concat(e.node.data.id,\"/\"),t.next=3,Object(s[\"a\"])(a,\"DELETE\").then((function(t){\"ERROR\"!=t?i.getAtt():i.$bvToast.toast(\"Can't delete this entry. Please check if there are dependent entries. Please delete those first!\",{title:\"DELETE WARNING\",variant:\"danger\",autoHideDelay:6e3,appendToast:!1})}));case 3:case\"end\":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),emptyInput:function(t){this.idDevice=this.ValueType=this.ParameterTags=[],this.KeyAtt=this.NameAtt=this.ValueDef=this.Parameter=null,\"add\"!=t?this.show=!1:(this.updateStatus=!1,this.show=!this.show)},emptyLastValueType:function(t){this.ValueDef=this.Parameter=null,this.ParameterTags=[]},getAtt:function(){var t=this;if(!this.error){this.attributes=[];var e=\"/api/device-template-attribute/\";Object(s[\"a\"])(e).then((function(e){var a;(a=t.attributes).push.apply(a,Object(l[\"a\"])(e.results)),t.rowData=t.attributes})).catch((function(t){return console.log(t)}))}},getDateToday:function(){var t=new Date;this.date=t.getDate()+\" / \"+(t.getMonth()+1)+\" / \"+t.getFullYear()},getContextMenu:function(t){var e=this,a=[{name:\"Edit Attribute\",action:function(){return e.editAttributeMenu(t)}},\"separator\",{name:\"Delete Attribute\",action:function(){return e.openModal(t)}},\"export\"];return a}},created:function(){this.getAtt(),this.getDateToday()}};window.ValueTypeGetter=function(t){return\"String\"==t.data.txtValueType?\"Text\":\"Integer\"==t.data.txtValueType?\"Counter\":\"Float\"==t.data.txtValueType?\"Measure\":\"Boolean\"==t.data.txtValueType?\"True/False\":\"Select\"==t.data.txtValueType?\"Select\":void 0};var p=m,b=(a(\"5c1b\"),a(\"2877\")),h=Object(b[\"a\"])(p,i,r,!1,null,null,null);e[\"default\"]=h.exports},\"5c1b\":function(t,e,a){\"use strict\";a(\"f2d3\")},\"6b54\":function(t,e,a){\"use strict\";a(\"3846\");var i=a(\"cb7c\"),r=a(\"0bfbd\"),l=a(\"9e1e\"),n=\"toString\",s=/./[n],o=function(t){a(\"2aba\")(RegExp.prototype,n,t,!0)};a(\"79e5\")((function(){return\"/a/b\"!=s.call({source:\"a\",flags:\"b\"})}))?o((function(){var t=i(this);return\"/\".concat(t.source,\"/\",\"flags\"in t?t.flags:!l&&t instanceof RegExp?r.call(t):void 0)})):s.name!=n&&o((function(){return s.call(this)}))},f2d3:function(t,e,a){}}]);","extractedComments":[]}