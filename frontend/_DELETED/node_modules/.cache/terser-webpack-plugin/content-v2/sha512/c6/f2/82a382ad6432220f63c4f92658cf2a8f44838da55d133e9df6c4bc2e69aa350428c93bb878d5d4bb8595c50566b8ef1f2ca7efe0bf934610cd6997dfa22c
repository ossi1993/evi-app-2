{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-1925f476\"],{2121:function(e,t,i){\"use strict\";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(\"div\",{staticClass:\"main-content\"},[i(\"breadcumb\",{attrs:{page:\"List\",folder:\"Inspection\"}}),e._v(\" \"),i(\"b-row\",[i(\"b-col\",{attrs:{lg:\"6\",md:\"6\",sm:\"12\"}},[i(\"b-card\",{staticClass:\"card-icon-bg card-icon-bg-primary o-hidden mb-30 text-center\"},[i(\"i\",{staticClass:\"i-File-Clipboard-File--Text\"}),e._v(\" \"),i(\"div\",{staticClass:\"content\"},[i(\"p\",{staticClass:\"text-muted mt-2 mb-0\"},[e._v(\"Inspections\")]),e._v(\" \"),i(\"p\",{staticClass:\"inline text-primary text-24 line-height-1 mb-2\"},[e._v(e._s(this.inspections.length))])])])],1),e._v(\" \"),i(\"b-col\",{attrs:{lg:\"6\",md:\"6\",sm:\"12\"}},[i(\"b-card\",{staticClass:\"card-icon-bg card-icon-bg-primary o-hidden mb-30 text-center\"},[i(\"i\",{staticClass:\"i-Calendar\"}),e._v(\" \"),i(\"div\",{staticClass:\"content\"},[i(\"p\",{staticClass:\"text-muted mt-2 mb-0\"},[e._v(\"Date\")]),e._v(\" \"),i(\"p\",{staticClass:\"text-primary text-24 line-height-1 mb-2\"},[i(\"nobr\",[e._v(e._s(this.date))])],1)])])],1)],1),e._v(\" \"),i(\"div\",{staticClass:\"row\"},[i(\"div\",{staticClass:\"col-md-12\"},[i(\"div\",{staticClass:\"card mb-30\"},[i(\"div\",{staticClass:\"card-body p-0\"},[i(\"h5\",{staticClass:\"card-title p-3 pb-0 mb-3\"},[e._v(\"Inspections\")]),e._v(\" \"),i(\"AgGridVue\",{staticClass:\"ag-theme-alpine\",attrs:{id:\"gridInspection\",defaultColDef:e.defaultColDef,columnDefs:e.columnDefs,rowSelection:e.rowSelection,rowData:e.rowData,gridOptions:e.gridOptions,suppressRowClickSelection:!0,excelStyles:e.excelStyles,pagination:!0,paginationPageSize:e.paginationPageSize,domLayout:e.domLayout,modules:e.modules},on:{cellValueChanged:e.updateInspectionGrid,\"row-selected\":e.onRowSelected,gridReady:e.onGridReady}}),e._v(\" \"),i(\"div\",{staticClass:\"ml-3 mr-3 mt-2 mb-2 text-right\"},[e._v(\"\\n              Page Size:\\n              \"),i(\"select\",{attrs:{id:\"page-size\"},on:{change:e.onPageSizeChanged}},[i(\"option\",{attrs:{value:\"10\",selected:\"\"}},[e._v(\"10\")]),e._v(\" \"),i(\"option\",{attrs:{value:\"20\"}},[e._v(\"20\")]),e._v(\" \"),i(\"option\",{attrs:{value:\"50\"}},[e._v(\"50\")]),e._v(\" \"),i(\"option\",{attrs:{value:\"100\"}},[e._v(\"100\")]),e._v(\" \"),i(\"option\",{attrs:{value:\"200\"}},[e._v(\"200\")])]),e._v(\" \"),i(\"b-button\",{staticClass:\"ml-3\",attrs:{size:\"sm\",variant:\"outline-success\"},on:{click:e.excelExportInspection}},[e._v(\"Export Excel\")])],1)],1)])])]),e._v(\" \"),e.selectedInspection?i(\"div\",{staticClass:\"row\"},[i(\"div\",{staticClass:\"col-md-12\"},[i(\"div\",{staticClass:\"card mb-30\"},[i(\"div\",{staticClass:\"card-body p-0\"},[i(\"h5\",{staticClass:\"card-title p-3 pb-0 mb-3\"},[e._v(\"Samples\")]),e._v(\" \"),i(\"AgGridVue\",{staticClass:\"ag-theme-alpine\",attrs:{id:\"gridSample\",defaultColDef:e.defaultColDef1,columnDefs:e.columnDefs1,rowSelection:e.rowSelection,rowData:e.rowData1,gridOptions:e.gridOptions1,suppressRowClickSelection:!0,pagination:!0,paginationPageSize:e.paginationPageSize1,domLayout:e.domLayout,modules:e.modules},on:{\"row-selected\":e.onRowSelected1,gridReady:e.onGridReady1}}),e._v(\" \"),i(\"div\",{staticClass:\"ml-3 mr-3 mt-2 mb-2 text-right\"},[e._v(\"\\n              Page Size:\\n              \"),i(\"select\",{attrs:{id:\"page-size-1\"},on:{change:e.onPageSizeChanged1}},[i(\"option\",{attrs:{value:\"10\",selected:\"\"}},[e._v(\"10\")]),e._v(\" \"),i(\"option\",{attrs:{value:\"20\"}},[e._v(\"20\")]),e._v(\" \"),i(\"option\",{attrs:{value:\"50\"}},[e._v(\"50\")]),e._v(\" \"),i(\"option\",{attrs:{value:\"100\"}},[e._v(\"100\")]),e._v(\" \"),i(\"option\",{attrs:{value:\"200\"}},[e._v(\"200\")])])])],1)])])]):e._e(),e._v(\" \"),e.selectedSample?i(\"div\",{staticClass:\"row\"},[i(\"div\",{staticClass:\"col-md-12\"},[i(\"div\",{staticClass:\"card mb-30\"},[i(\"div\",{staticClass:\"card-body p-0\"},[i(\"h5\",{staticClass:\"card-title p-3 pb-0 mb-3\"},[e._v(\"Attributes\")]),e._v(\" \"),i(\"AgGridVue\",{staticClass:\"ag-theme-alpine\",attrs:{id:\"gridAttributes\",defaultColDef:e.defaultColDef2,columnDefs:e.columnDefs2,rowSelection:e.rowSelection,rowData:e.rowData2,gridOptions:e.gridOptions2,suppressRowClickSelection:!0,pagination:!0,paginationPageSize:e.paginationPageSize2,getContextMenuItems:e.getContextMenu2,domLayout:e.domLayout,modules:e.modules},on:{cellValueChanged:e.updateAttributesGrid,gridReady:e.onGridReady2}}),e._v(\" \"),i(\"div\",{staticClass:\"ml-3 mr-3 mt-2 mb-2 text-right\"},[e._v(\"\\n              Page Size:\\n              \"),i(\"select\",{attrs:{id:\"page-size-2\"},on:{change:e.onPageSizeChanged2}},[i(\"option\",{attrs:{value:\"10\",selected:\"\"}},[e._v(\"10\")]),e._v(\" \"),i(\"option\",{attrs:{value:\"20\"}},[e._v(\"20\")]),e._v(\" \"),i(\"option\",{attrs:{value:\"50\"}},[e._v(\"50\")]),e._v(\" \"),i(\"option\",{attrs:{value:\"100\"}},[e._v(\"100\")]),e._v(\" \"),i(\"option\",{attrs:{value:\"200\"}},[e._v(\"200\")])])])],1)])])]):e._e()],1)},n=[],o=i(\"2909\"),r=(i(\"96cf\"),i(\"1da1\")),l=(i(\"c5f6\"),i(\"5ce5\")),s=i(\"228c\"),d=i(\"9974\"),c={metaInfo:{title:\"Inspection\"},components:{AgGridVue:s[\"AgGridVue\"]},data:function(){return{gridOptions:null,gridApi:null,columnApi:null,columnDefs:null,rowData:null,rowSelection:null,defaultColDef:null,excelStyles:null,frameworkComponents:null,modules:d[\"a\"],domLayout:null,paginationPageSize:0,gridOptions1:null,gridApi1:null,columnApi1:null,columnDefs1:null,rowData1:null,defaultColDef1:null,paginationPageSize1:0,gridOptions2:null,gridApi2:null,columnApi2:null,columnDefs2:null,rowData2:null,defaultColDef2:null,paginationPageSize2:0,editRelease:!1,inspections:[],samples:[],attributes:[],show:!1,date:null,error:!1,selectedSample:!1,selectedInspection:!1,optionsInspectionStatus:[{value:\"Work In Progress\",text:\"Work In Progress\"},{value:\"On Hold\",text:\"On Hold\"},{value:\"Complete\",text:\"Complete\"},{value:\"Declined\",text:\"Declined\"}]}},beforeMount:function(){this.checkSuperuser(),this.gridOptions={},this.gridOptions1={},this.gridOptions2={},this.columnDefs=[{headerName:\"Inspection Number\",field:\"txtInspectionNumber\",filter:\"agTextColumnFilter\",checkboxSelection:!0,minWidth:200},{headerName:\"Inspection Status\",field:\"txtInspectionStatus\",filter:\"agTextColumnFilter\",cellEditor:\"agRichSelectCellEditor\",cellEditorParams:{cellHeight:50,values:[\"Work In Progress\",\"On Hold\",\"Complete\",\"Declined\"]}},{headerName:\"Inspection Type\",field:\"txtInspectionType\",filter:\"agTextColumnFilter\",minWidth:100},{headerName:\"Inspector\",field:\"txtInspector\",filter:\"agTextColumnFilter\",minWidth:100},{headerName:\"Inspection Date\",field:\"datInspection\",filter:\"agTextColumnFilter\",minWidth:100},{headerName:\"Delivered On\",field:\"datDeliveredOn\",filter:\"agTextColumnFilter\",minWidth:100},{headerName:\"Requested On\",field:\"datRequestedOn\",filter:\"agTextColumnFilter\",minWidth:100},{headerName:\"Release\",field:\"txtRelease\",filter:\"agTextColumnFilter\",cellEditor:\"agRichSelectCellEditor\",cellEditorParams:{cellHeight:50,values:[\"NO\",\"YES\",\"CONDITIONALLY\"]},editable:this.editRelease,minWidth:100},{headerName:\"Release by\",field:\"txtReleaseBy\",filter:\"agTextColumnFilter\",editable:this.editRelease,minWidth:100},{headerName:\"Comment\",field:\"txtComment\",filter:\"agTextColumnFilter\",minWidth:100}],this.columnDefs1=[{headerName:\"Inspection Number\",field:\"idInspection.txtInspectionNumber\",filter:\"agTextColumnFilter\",checkboxSelection:!0,minWidth:100},{headerName:\"Item Description\",field:\"idOrderItem.idItem.txtDescription\",filter:\"agTextColumnFilter\",minWidth:100},{headerName:\"Article Number\",field:\"idOrderItem.idItem.txtArticlenumber\",filter:\"agTextColumnFilter\",minWidth:100}],this.columnDefs2=[{headerName:\"Key Attribute\",field:\"txtKeyAttribute\",filter:\"agTextColumnFilter\",minWidth:100},{headerName:\"Name Attribute\",field:\"txtNameAttribute\",filter:\"agTextColumnFilter\",minWidth:100},{headerName:\"Value Attribute\",field:\"txtValueAttribute\",filter:\"agTextColumnFilter\",minWidth:100},{headerName:\"Value Type\",field:\"txtValueType\",filter:\"agTextColumnFilter\",minWidth:100},{headerName:\"Measure Unit\",field:\"txtMeasureUnit\",filter:\"agTextColumnFilter\",minWidth:100},{headerName:\"Value Min\",field:\"txtValueMin\",filter:\"agTextColumnFilter\",minWidth:100},{headerName:\"Value Max\",field:\"txtValueMax\",filter:\"agTextColumnFilter\",minWidth:100},{headerName:\"Value Tolerance\",field:\"txtValueTolerance\",filter:\"agTextColumnFilter\",minWidth:100}],this.defaultColDef={editable:!0,resizable:!0,sortable:!0,filter:!0,floatingFilter:!0},this.defaultColDef1={flex:1,editable:!1,resizable:!0,sortable:!0,filter:!0,floatingFilter:!0},this.defaultColDef2={editable:!0,resizable:!0,sortable:!0,filter:!0,floatingFilter:!0},this.rowSelection=\"single\",this.domLayout=\"autoHeight\",this.paginationPageSize=10,this.paginationPageSize1=10,this.paginationPageSize2=10},methods:{checkSuperuser:function(){\"true\"==localStorage.getItem(\"superuser\")?this.editRelease=!0:this.editRelease=!1},excelExportInspection:function(){this.gridApi.exportDataAsExcel({})},onGridReady:function(e){var t=this;this.gridApi=e.api,this.gridColumnApi=e.columnApi,setTimeout((function(){t.getSelectedInspection(e)}),500)},onGridReady1:function(e){this.gridApi1=e.api,this.gridColumnApi1=e.columnApi},onGridReady2:function(e){this.gridApi2=e.api,this.gridColumnApi2=e.columnApi},onPageSizeChanged:function(e){var t=document.getElementById(\"page-size\").value;this.gridOptions.paginationSetPageSize(Number(t))},onPageSizeChanged1:function(e){var t=document.getElementById(\"page-size-1\").value;this.gridOptions1.paginationSetPageSize(Number(t))},onPageSizeChanged2:function(e){var t=document.getElementById(\"page-size-2\").value;this.gridOptions2.paginationSetPageSize(Number(t))},onRowSelected:function(e){this.selectedInspection=!this.selectedInspection,this.selectedSample=!1,1==e.node.selected?this.getSamples(e.data.id):(this.samples=[],this.attributes=[])},onRowSelected1:function(e){this.selectedSample=!this.selectedSample,1==e.node.selected&&this.getAttributes(e.data.id)},editInspection:function(){this.$route.push(\"inspection\")},updateInspectionGrid:function(){var e=Object(r[\"a\"])(regeneratorRuntime.mark((function e(t){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=\"/api/inspection/\".concat(t.node.data.id,\"/\"),e.prev=1,e.next=4,Object(l[\"a\"])(i,\"PATCH\",{txtInspectionNumber:t.node.data.txtInspectionNumber,txtInspectionStatus:t.node.data.txtInspectionStatus,txtInspectionType:t.node.data.txtInspectionType,txtInspector:t.node.data.txtInspector,datInspection:t.node.data.datInspection,datDeliveredOn:t.node.data.datDeliveredOn,datRequestedOn:t.node.data.datRequestedOn,txtRequestedBy:t.node.data.txtRequestedBy,txtRelease:t.node.data.txtRelease,txtReleaseBy:t.node.data.txtReleaseBy,txtComment:t.node.data.txtComment});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e[\"catch\"](1),console.log(e.t0);case 9:case\"end\":return e.stop()}}),e,null,[[1,6]])})));function t(t){return e.apply(this,arguments)}return t}(),updateAttributesGrid:function(){var e=Object(r[\"a\"])(regeneratorRuntime.mark((function e(t){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=\"/api/sample-attribute/\".concat(t.node.data.id,\"/\"),e.prev=1,e.next=4,Object(l[\"a\"])(i,\"PATCH\",{txtKeyAttribute:t.node.data.txtKeyAttribute,txtNameAttribute:t.node.data.txtNameAttribute,txtValueAttribute:t.node.data.txtValueAttribute,txtValueType:t.node.data.txtValueType,txtMeasureUnit:t.node.data.txtMeasureUnit,txtValueMin:t.node.data.txtValueMin,txtValueMax:t.node.data.txtValueMax,txtValueTolerance:t.node.data.txtValueTolerance});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e[\"catch\"](1),console.log(e.t0);case 9:case\"end\":return e.stop()}}),e,null,[[1,6]])})));function t(t){return e.apply(this,arguments)}return t}(),openModal:function(e){var t=this;this.$bvModal.msgBoxConfirm(\"Are you sure you want to delete the selected Inspection? => \"+e.node.data.txtInspectionNumber,{title:\"Please Confirm\",size:\"sm\",buttonSize:\"sm\",okVariant:\"danger\",okTitle:\"YES\",cancelTitle:\"NO\",footerClass:\"p-2\",hideHeaderClose:!1,centered:!0}).then((function(i){i&&t.deleteInspection(e)}))},openModal2:function(e){var t=this;this.$bvModal.msgBoxConfirm(\"Do you really want to delete the Attribute? => \"+e.node.data.txtNameAttribute,{title:\"Please Confirm\",size:\"m\",buttonSize:\"sm\",okVariant:\"danger\",okTitle:\"YES\",cancelTitle:\"NO\",footerClass:\"p-2\",hideHeaderClose:!1,centered:!0}).then((function(i){i&&t.deleteAttribute(e)}))},deleteInspection:function(){var e=Object(r[\"a\"])(regeneratorRuntime.mark((function e(t){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=\"/api/inspection/\".concat(t.node.data.id,\"/\"),e.prev=1,e.next=4,Object(l[\"a\"])(i,\"DELETE\");case 4:this.getInspections(),e.next=10;break;case 7:e.prev=7,e.t0=e[\"catch\"](1),console.log(e.t0);case 10:case\"end\":return e.stop()}}),e,this,[[1,7]])})));function t(t){return e.apply(this,arguments)}return t}(),deleteAttribute:function(){var e=Object(r[\"a\"])(regeneratorRuntime.mark((function e(t){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=\"/api/sample-attribute/\".concat(t.node.data.id,\"/\"),e.prev=1,e.next=4,Object(l[\"a\"])(i,\"DELETE\");case 4:this.getAttributes(t.node.data.idSample),e.next=10;break;case 7:e.prev=7,e.t0=e[\"catch\"](1),console.log(e.t0);case 10:case\"end\":return e.stop()}}),e,this,[[1,7]])})));function t(t){return e.apply(this,arguments)}return t}(),getInspections:function(){var e=this;this.inspections=[];var t=\"/api/inspection/\";Object(l[\"a\"])(t).then((function(t){var i;(i=e.inspections).push.apply(i,Object(o[\"a\"])(t.results)),e.rowData=e.inspections}))},getSamples:function(e){var t=this;this.samples=[];var i=\"/api/sample-list/\";Object(l[\"a\"])(i).then((function(i){var a;(a=t.samples).push.apply(a,Object(o[\"a\"])(i.results));var n=t.samples.filter((function(t){return t.idInspection.id==e}));t.rowData1=n}))},getAttributes:function(e){var t=this;this.attributes=[];var i=\"/api/sample-attribute/\";Object(l[\"a\"])(i).then((function(i){var a;(a=t.attributes).push.apply(a,Object(o[\"a\"])(i.results));var n=t.attributes.filter((function(t){return t.idSample==e}));t.rowData2=n}))},getDateToday:function(){var e=new Date;this.date=e.getDate()+\" / \"+(e.getMonth()+1)+\" / \"+e.getFullYear()},getSelectedInspection:function(e){if(null!=window.localStorage.getItem(\"selInspect\")){var t=parseInt(localStorage.getItem(\"selInspect\"));e.api.forEachNode((function(e){e.setSelected(e.data.id===t)}))}},getContextMenu2:function(e){var t=this,i=[{name:\"Delete Attribute\",action:function(){return t.openModal2(e)}},\"separator\",\"export\"];return i}},created:function(){this.getInspections(),this.getDateToday()},beforeRouteLeave:function(e,t,i){window.localStorage.removeItem(\"selInspect\"),i()}},u=c,p=(i(\"2db4\"),i(\"2877\")),m=Object(p[\"a\"])(u,a,n,!1,null,null,null);t[\"default\"]=m.exports},\"234e\":function(e,t,i){},2909:function(e,t,i){\"use strict\";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,a=new Array(t);i<t;i++)a[i]=e[i];return a}function n(e){if(Array.isArray(e))return a(e)}function o(e){if(\"undefined\"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function r(e,t){if(e){if(\"string\"===typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===i&&e.constructor&&(i=e.constructor.name),\"Map\"===i||\"Set\"===i?Array.from(e):\"Arguments\"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}}function l(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}function s(e){return n(e)||o(e)||r(e)||l()}i.d(t,\"a\",(function(){return s}))},\"2db4\":function(e,t,i){\"use strict\";var a=i(\"234e\"),n=i.n(a);n.a}}]);","extractedComments":[]}