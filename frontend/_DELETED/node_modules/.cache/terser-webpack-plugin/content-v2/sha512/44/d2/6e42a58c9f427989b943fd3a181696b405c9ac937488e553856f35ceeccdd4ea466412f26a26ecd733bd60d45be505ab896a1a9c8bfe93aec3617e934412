{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-c5640762\"],{2909:function(e,t,r){\"use strict\";function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function a(e){if(Array.isArray(e))return i(e)}function l(e){if(\"undefined\"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function s(e,t){if(e){if(\"string\"===typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===r&&e.constructor&&(r=e.constructor.name),\"Map\"===r||\"Set\"===r?Array.from(e):\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}function o(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}function n(e){return a(e)||l(e)||s(e)||o()}r.d(t,\"a\",(function(){return n}))},\"39ad\":function(e,t,r){\"use strict\";var i=r(\"f552\"),a=r.n(i);a.a},a803:function(e,t,r){\"use strict\";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r(\"div\",{staticClass:\"main-content\"},[r(\"breadcumb\",{attrs:{page:\"List Orders\",folder:\"Order\"}}),e._v(\" \"),r(\"b-row\",[r(\"b-col\",{attrs:{lg:\"6\",md:\"6\",sm:\"12\"}},[r(\"b-card\",{staticClass:\"card-icon-bg card-icon-bg-primary o-hidden mb-30 text-center\"},[r(\"i\",{staticClass:\"i-Add-Cart\"}),e._v(\" \"),r(\"div\",{staticClass:\"content\"},[r(\"p\",{staticClass:\"text-muted mt-2 mb-0\"},[e._v(\"Orders\")]),e._v(\" \"),r(\"p\",{staticClass:\"inline text-primary text-24 line-height-1 mb-2\"},[e._v(e._s(this.orders.length))])])])],1),e._v(\" \"),r(\"b-col\",{attrs:{lg:\"6\",md:\"6\",sm:\"12\"}},[r(\"b-card\",{staticClass:\"card-icon-bg card-icon-bg-primary o-hidden mb-30 text-center\"},[r(\"i\",{staticClass:\"i-Calendar\"}),e._v(\" \"),r(\"div\",{staticClass:\"content\"},[r(\"p\",{staticClass:\"text-muted mt-2 mb-0\"},[e._v(\"Date\")]),e._v(\" \"),r(\"p\",{staticClass:\"text-primary text-24 line-height-1 mb-2\"},[r(\"nobr\",[e._v(e._s(this.date))])],1)])])],1)],1),e._v(\" \"),r(\"div\",{staticClass:\"row\"},[r(\"div\",{staticClass:\"col-md-12\"},[r(\"div\",{staticClass:\"card mb-30\"},[r(\"div\",{staticClass:\"card-body p-0 mb-3\"},[r(\"b-row\",{staticClass:\"ml-3\"},[r(\"i\",{directives:[{name:\"b-toggle\",rawName:\"v-b-toggle.collapse-e\",modifiers:{\"collapse-e\":!0}}],staticClass:\"nav-icon i-Add mt-3\",staticStyle:{\"font-size\":\"20px\"},on:{click:function(t){e.updateStatus=!1}}}),e._v(\" \"),r(\"h5\",{staticClass:\"card-title border-bottom p-3 mb-2\"},[e._v(\"New Order\")])]),e._v(\" \"),r(\"b-collapse\",{staticClass:\"mt-3\",attrs:{id:\"collapse-e\"}},[r(\"div\",[r(\"b-row\",{staticClass:\"mt-4 ml-3 mr-3\"},[r(\"b-col\",{attrs:{md:\"12\"}},[r(\"v-select\",{attrs:{id:\"select-1\",options:e.optionType,required:\"\",placeholder:\"Choose Order Type\",disabled:e.updateStatus,reduce:function(e){return e.code}},model:{value:e.OType,callback:function(t){e.OType=t},expression:\"OType\"}})],1)],1),e._v(\" \"),\"Customer\"==e.OType?r(\"b-row\",{staticClass:\"mt-3 ml-3 mr-3\"},[r(\"b-col\",{attrs:{md:\"12\"}},[r(\"b-form-input\",{attrs:{id:\"input-1\",type:\"text\",placeholder:\"Charge Number\"},model:{value:e.CNumber,callback:function(t){e.CNumber=t},expression:\"CNumber\"}})],1)],1):e._e(),e._v(\" \"),r(\"b-row\",{staticClass:\"mt-3 ml-3 mr-3\"},[r(\"b-col\",{attrs:{md:\"4\"}},[r(\"b-form-input\",{attrs:{id:\"input-2\",type:\"text\",required:\"\",placeholder:\"Order Number\"},model:{value:e.ONumber,callback:function(t){e.ONumber=t},expression:\"ONumber\"}})],1),e._v(\" \"),r(\"b-col\",{attrs:{md:\"4\"}},[r(\"b-form-datepicker\",{attrs:{id:\"date-1\",type:\"text\",placeholder:\"Order Date\"},model:{value:e.DatOrder,callback:function(t){e.DatOrder=t},expression:\"DatOrder\"}})],1),e._v(\" \"),r(\"b-col\",{attrs:{md:\"4\"}},[r(\"b-form-datepicker\",{attrs:{id:\"date-2\",type:\"text\",placeholder:\"Delivery Date\"},model:{value:e.DatDelivery,callback:function(t){e.DatDelivery=t},expression:\"DatDelivery\"}})],1)],1),e._v(\" \"),r(\"b-row\",{staticClass:\"mt-3 ml-3 mr-3 mb-4\"},[r(\"b-col\",{attrs:{md:\"6\"}},[r(\"v-select\",{attrs:{id:\"select-3\",options:e.optionSupplier,label:\"txtSupplierName\",required:\"\",placeholder:\"Choose Supplier\",reduce:function(e){return e.id}},model:{value:e.Supplier,callback:function(t){e.Supplier=t},expression:\"Supplier\"}})],1),e._v(\" \"),r(\"b-col\",{attrs:{md:\"6\"}},[r(\"v-select\",{attrs:{id:\"select-2\",options:e.optionStatus,required:\"\",placeholder:\"Choose Delivery Status\",reduce:function(e){return e.code}},model:{value:e.DelStatus,callback:function(t){e.DelStatus=t},expression:\"DelStatus\"}})],1)],1),e._v(\" \"),\"Sample Item\"==e.OType?r(\"b-row\",{staticClass:\"mt-4 ml-3 mr-3 border-top\"},[r(\"b-col\",{attrs:{md:\"12\"}},[r(\"h5\",{staticClass:\"typo__label mt-4 mb-3\"},[e._v(\"Add Items to Order\")]),e._v(\" \"),r(\"multiselect\",{attrs:{\"tag-placeholder\":\"Choose Items\",placeholder:\"Search or add a item\",label:\"txtDescription\",\"track-by\":\"id\",options:e.optionItems,multiple:!0,taggable:!0,\"close-on-select\":!1,searchable:!0,\"open-direction\":\"bottom\",\"custom-label\":e.customItemLabel},model:{value:e.selectedItems,callback:function(t){e.selectedItems=t},expression:\"selectedItems\"}}),e._v(\" \"),r(\"h5\",{directives:[{name:\"show\",rawName:\"v-show\",value:null!=e.selectedItems,expression:\"selectedItems != null\"}],staticClass:\"mt-4\"},[e._v(\"Order Amount of Items\")]),e._v(\" \"),e._l(e.selectedItems,(function(t){return r(\"b-row\",{key:t.id},[r(\"b-input-group\",{staticClass:\"mt-3 ml-3 mr-3\",scopedSlots:e._u([{key:\"prepend\",fn:function(){return[r(\"b-input-group-text\",{staticStyle:{\"font-weight\":\"800\"}},[e._v(e._s(t.txtArticlenumber+\" - \"+t.txtDescription))])]},proxy:!0}],null,!0)},[e._v(\" \"),r(\"b-form-input\",{attrs:{type:\"number\",min:\"0\"},model:{value:t.orderAmount,callback:function(r){e.$set(t,\"orderAmount\",r)},expression:\"item.orderAmount\"}})],1)],1)}))],2)],1):e._e(),e._v(\" \"),\"Sample Item\"==e.OType?r(\"b-row\",{staticClass:\"mt-4 ml-3 mr-3 border-top\"},[r(\"b-col\",{attrs:{md:\"12\"}},[r(\"h5\",{staticClass:\"typo__label mt-4 mb-3\"},[e._v(\"Items of Order\")]),e._v(\" \"),e._l(e.filteredItems,(function(t){return r(\"b-row\",{key:t.id},[r(\"b-input-group\",{staticClass:\"mt-3 ml-3 mr-3\",scopedSlots:e._u([{key:\"prepend\",fn:function(){return[r(\"b-input-group-text\",{staticStyle:{\"font-weight\":\"800\"}},[e._v(e._s(t.idItem.txtArticlenumber+\" - \"+t.idItem.txtDescription))])]},proxy:!0}],null,!0)},[e._v(\" \"),r(\"b-form-input\",{attrs:{type:\"number\",min:\"0\"},model:{value:t.numOrderAmount,callback:function(r){e.$set(t,\"numOrderAmount\",r)},expression:\"item.numOrderAmount\"}})],1)],1)}))],2)],1):e._e(),e._v(\" \"),\"Sample Device\"==e.OType?r(\"b-row\",{staticClass:\"mt-4 ml-3 mr-3 border-top\"},[r(\"b-col\",{attrs:{md:\"12\"}},[r(\"h5\",{staticClass:\"typo__label mt-4 mb-3\"},[e._v(\"Devices of Order\")]),e._v(\" \"),r(\"multiselect\",{attrs:{\"tag-placeholder\":\"Choose Devices\",placeholder:\"Search or add a device\",label:\"txtSerialNumber\",\"track-by\":\"id\",options:e.optionDevices,multiple:!0,taggable:!0,\"close-on-select\":!1,searchable:!0,\"open-direction\":\"bottom\",\"custom-label\":e.customDeviceLabel},model:{value:e.selectedDevices,callback:function(t){e.selectedDevices=t},expression:\"selectedDevices\"}}),e._v(\" \"),r(\"h5\",{staticClass:\"mt-4\"},[e._v(\"Order Amount of Devices\")]),e._v(\" \"),e._l(e.selectedDevices,(function(t){return r(\"b-row\",{key:t.id},[r(\"b-input-group\",{staticClass:\"mt-3 ml-3 mr-3\",scopedSlots:e._u([{key:\"prepend\",fn:function(){return[r(\"b-input-group-text\",{staticStyle:{\"font-weight\":\"800\"}},[e._v(e._s(t.idModel.txtModelName+\" - \"+t.txtSerialNumber))])]},proxy:!0}],null,!0)},[e._v(\" \"),r(\"b-form-input\",{attrs:{type:\"number\",min:\"0\"},model:{value:t.numOrderAmount,callback:function(r){e.$set(t,\"numOrderAmount\",r)},expression:\"device.numOrderAmount\"}})],1)],1)}))],2)],1):e._e(),e._v(\" \"),\"Sample Device\"==e.OType?r(\"b-row\",{staticClass:\"mt-4 ml-3 mr-3 border-top\"},[r(\"b-col\",{attrs:{md:\"12\"}},[r(\"h5\",{staticClass:\"typo__label mt-4 mb-3\"},[e._v(\"Devices of Order\")]),e._v(\" \"),e._l(e.filteredDevices,(function(t){return r(\"b-row\",{key:t.id},[r(\"b-input-group\",{staticClass:\"mt-3 ml-3 mr-3\",scopedSlots:e._u([{key:\"prepend\",fn:function(){return[r(\"b-input-group-text\",{staticStyle:{\"font-weight\":\"800\"}},[e._v(e._s(t.idDevice.idModel.txtModelName+\" - \"+t.idDevice.txtSerialNumber))])]},proxy:!0}],null,!0)},[e._v(\" \"),r(\"b-form-input\",{attrs:{type:\"number\",min:\"0\"},model:{value:t.numOrderAmount,callback:function(r){e.$set(t,\"numOrderAmount\",r)},expression:\"device.numOrderAmount\"}})],1)],1)}))],2)],1):e._e(),e._v(\" \"),\"Customer\"==e.OType?r(\"b-row\",{staticClass:\"mt-4 ml-3 mr-3 border-top\"},[r(\"b-col\",{attrs:{md:\"12\"}},[r(\"h1\",{staticClass:\"mt-4 mb-3\"},[e._v(\"NOT IMPLEMENTED YET\")])])],1):e._e(),e._v(\" \"),r(\"b-row\",{staticClass:\"ml-3 mr-3 mt-5\"},[e.updateStatus?e.updateStatus?r(\"b-col\",{attrs:{md:\"6\"}},[r(\"b-button\",{attrs:{block:\"\",variant:\"outline-info\"},on:{click:e.emptyInput}},[e._v(\"Cancel\")])],1):e._e():r(\"b-col\",{attrs:{md:\"6\"}},[r(\"b-button\",{attrs:{block:\"\",variant:\"outline-danger\"},on:{click:e.emptyInput}},[e._v(\"Delete Input\")])],1),e._v(\" \"),e.updateStatus?e.updateStatus?r(\"b-col\",{attrs:{md:\"6\"}},[r(\"b-button\",{attrs:{block:\"\",variant:\"warning\",disabled:e.disabled},on:{click:e.updateOrder}},[e._v(\"Update Order\")])],1):e._e():r(\"b-col\",{attrs:{md:\"6\"}},[r(\"b-button\",{attrs:{block:\"\",variant:\"success\",disabled:e.disabled},on:{click:e.addOrder}},[e._v(\"Add Order\")])],1)],1),e._v(\" \"),r(\"b-row\",{staticClass:\"ml-3 mr-3\"},[r(\"b-col\",{staticClass:\"mt-3\",attrs:{md:\"12\"}},[e.error?r(\"b-alert\",{attrs:{show:\"\",variant:\"alert alert-card alert-danger\",dismissible:\"\"}},[r(\"strong\",{staticClass:\"text-capitalize\"},[e._v(\"Error!\")]),e._v(\" The Input is not valid.\\n                  \")]):e._e()],1)],1)],1)])],1)])])]),e._v(\" \"),r(\"div\",{staticClass:\"row\"},[r(\"div\",{staticClass:\"col-md-12\"},[r(\"div\",{staticClass:\"card mb-30\"},[r(\"div\",{staticClass:\"card-body p-0\"},[r(\"h5\",{staticClass:\"card-title p-3 pb-0 mb-3\"},[e._v(\"Orders\")]),e._v(\" \"),r(\"AgGridVue\",{staticClass:\"ag-theme-alpine\",attrs:{id:\"gridOrders\",defaultColDef:e.defaultColDef,columnDefs:e.columnDefs,rowSelection:e.rowSelection,rowData:e.rowData,gridOptions:e.gridOptions,suppressRowClickSelection:!0,excelStyles:e.excelStyles,masterDetail:!0,detailCellRendererParams:e.detailCellRendererParams,pagination:!0,paginationPageSize:e.paginationPageSize,getContextMenuItems:e.getContextMenu,domLayout:e.domLayout,modules:e.modules},on:{\"grid-ready\":e.onGridReady,cellValueChanged:e.updateOrderGrid,\"row-selected\":e.onRowSelected}}),e._v(\" \"),r(\"div\",{staticClass:\"ml-3 mr-3 mt-2 mb-2 text-right\"},[e._v(\"\\n              Page Size:\\n              \"),r(\"select\",{attrs:{id:\"page-size\"},on:{change:e.onPageSizeChanged}},[r(\"option\",{attrs:{value:\"10\",selected:\"\"}},[e._v(\"10\")]),e._v(\" \"),r(\"option\",{attrs:{value:\"20\"}},[e._v(\"20\")]),e._v(\" \"),r(\"option\",{attrs:{value:\"50\"}},[e._v(\"50\")]),e._v(\" \"),r(\"option\",{attrs:{value:\"100\"}},[e._v(\"100\")]),e._v(\" \"),r(\"option\",{attrs:{value:\"200\"}},[e._v(\"200\")])]),e._v(\" \"),r(\"b-button\",{staticClass:\"ml-3\",attrs:{size:\"sm\",variant:\"outline-success\"},on:{click:e.onBtExport}},[e._v(\"Export Excel\")])],1)],1)])])]),e._v(\" \"),null!=e.rowData1?r(\"div\",{staticClass:\"row\"},[r(\"div\",{staticClass:\"col-md-12\"},[r(\"div\",{staticClass:\"card mb-30\"},[r(\"div\",{staticClass:\"card-body p-0\"},[r(\"h5\",{staticClass:\"card-title p-3 pb-0 mb-3\"},[e._v(\"Items\")]),e._v(\" \"),r(\"AgGridVue\",{staticClass:\"ag-theme-alpine\",attrs:{id:\"gridItems\",defaultColDef:e.defaultColDef1,columnDefs:e.columnDefs1,rowSelection:e.rowSelection,rowData:e.rowData1,gridOptions:e.gridOptions1,suppressRowClickSelection:!0,pagination:!0,paginationPageSize:e.paginationPageSize1,domLayout:e.domLayout,modules:e.modules},on:{\"grid-ready\":e.onGridReady1}})],1)])])]):e._e(),e._v(\" \"),null!=e.rowData2?r(\"div\",{staticClass:\"row\"},[r(\"div\",{staticClass:\"col-md-12\"},[r(\"div\",{staticClass:\"card mb-30\"},[r(\"div\",{staticClass:\"card-body p-0\"},[r(\"h5\",{staticClass:\"card-title p-3 pb-0 mb-3\"},[e._v(\"Devices\")]),e._v(\" \"),r(\"AgGridVue\",{staticClass:\"ag-theme-alpine\",attrs:{id:\"gridDevices\",defaultColDef:e.defaultColDef2,columnDefs:e.columnDefs2,rowSelection:e.rowSelection,rowData:e.rowData2,gridOptions:e.gridOptions2,suppressRowClickSelection:!0,pagination:!0,paginationPageSize:e.paginationPageSize2,domLayout:e.domLayout,modules:e.modules},on:{\"grid-ready\":e.onGridReady2}})],1)])])]):e._e(),e._v(\" \"),r(\"b-row\",{staticClass:\"ml-1 mr-3 mb-4\"},[r(\"b-button\",{staticClass:\"mr-3\",attrs:{variant:\"primary\"},on:{click:e.saveState}},[e._v(\"Save Grid State\")]),e._v(\" \"),r(\"b-button\",{attrs:{variant:\"outline-light\"},on:{click:e.restoreState}},[e._v(\"Reset Grid State\")])],1)],1)},a=[],l=r(\"2909\"),s=(r(\"96cf\"),r(\"1da1\")),o=(r(\"c5f6\"),r(\"5ce5\")),n=r(\"228c\"),d=r(\"9974\"),c={metaInfo:{title:\"Orders\"},components:{AgGridVue:n[\"AgGridVue\"]},data:function(){return{gridOptions:null,gridApi:null,columnApi:null,columnDefs:null,rowData:null,rowSelection:null,defaultColDef:null,excelStyles:null,frameworkComponents:null,detailCellRendererParams:null,domLayout:null,modules:d[\"a\"],paginationPageSize:null,gridOptions1:null,gridApi1:null,columnApi1:null,columnDefs1:null,rowData1:null,defaultColDef1:null,paginationPageSize1:0,gridOptions2:null,gridApi2:null,columnApi2:null,columnDefs2:null,rowData2:null,defaultColDef2:null,paginationPageSize2:0,suppliers:[],items:[],devices:[],orderItems:[],orderDevices:[],orders:[],show:!1,name:null,ONumber:null,DatOrder:null,DatDelivery:null,OType:null,CNumber:null,DelStatus:null,Supplier:null,addedItems:null,filteredItems:null,filteredDevices:null,selectedItems:null,selectedItemsId:null,selectedDevices:null,selectedDevicesId:null,selectedOrderDevice:!1,selectedOrderId:null,date:null,error:!1,updateStatus:!1,updateId:null,optionSupplier:[],optionItems:[],optionDevices:[],optionType:[{code:\"Sample Item\",label:\"Sample Item\"},{code:\"Sample Device\",label:\"Sample Device\"},{code:\"Customer\",label:\"Customer\"}],optionStatus:[{code:\"Delivered\",label:\"Delivered\"},{code:\"Not Delivered\",label:\"Not Delivered\"}]}},beforeMount:function(){this.gridOptions={},this.gridOptions1={},this.gridOptions2={},this.rowSelection=\"single\",this.domLayout=\"autoHeight\",this.paginationPageSize=10,this.paginationPageSize1=10,this.paginationPageSize2=10,this.defaultColDef={editable:!0,resizable:!0,sortable:!0,filter:!0,floatingFilter:!0},this.defaultColDef1={flex:1,editable:!1,resizable:!0,sortable:!0,filter:!0,floatingFilter:!0},this.defaultColDef2={flex:1,editable:!1,resizable:!0,sortable:!0,filter:!0,floatingFilter:!0},this.columnDefs=[{headerName:\"Order Number\",field:\"txtOrderNumber\",filter:\"agTextColumnFilter\"},{headerName:\"Order Date\",field:\"datOrder\",filter:\"agTextColumnFilter\"},{headerName:\"Delivery Date\",field:\"datDelivery\",filter:\"agTextColumnFilter\"},{headerName:\"Order Type\",field:\"txtOrderType\",filter:\"agTextColumnFilter\",cellEditor:\"agRichSelectCellEditor\",cellEditorParams:{cellHeight:50,values:[\"Sample Item\",\"Sample Device\",\"Customer\"]}},{headerName:\"Charge Number\",field:\"txtChargeNumber\",filter:\"agTextColumnFilter\"},{headerName:\"Delivery Status\",field:\"txtDeliveryStatus\",filter:\"agTextColumnFilter\",cellEditor:\"agRichSelectCellEditor\",cellEditorParams:{cellHeight:50,values:[\"Delivered\",\"Not Delivered\"]}},{headerName:\"Supplier\",field:\"idSupplier.txtSupplierName\",filter:\"agTextColumnFilter\",editable:!1}],this.columnDefs1=[{headerName:\"Article Number\",field:\"idItem.txtArticlenumber\",filter:\"agTextColumnFilter\"},{headerName:\"Description\",field:\"idItem.txtDescription\",filter:\"agTextColumnFilter\"},{headerName:\"Order Amount\",field:\"numOrderAmount\",filter:\"agTextColumnFilter\"},{headerName:\"Delivery Date\",field:\"datDelivery\",filter:\"agTextColumnFilter\"}],this.columnDefs2=[{headerName:\"Serial Number\",field:\"idDevice.txtSerialNumber\",filter:\"agTextColumnFilter\"},{headerName:\"Model Name\",field:\"idDevice.idModel.txtModelName\",filter:\"agTextColumnFilter\"},{headerName:\"Order Amount\",field:\"numOrderAmount\",filter:\"agTextColumnFilter\"},{headerName:\"Delivery Date\",field:\"datDelivery\",filter:\"agTextColumnFilter\"}]},mounted:function(){null!=JSON.parse(localStorage.getItem(\"orders_columnStats\"))?this.gridOptions.columnApi.setColumnState(JSON.parse(localStorage.getItem(\"orders_columnStats\"))):(this.gridApi=this.gridOptions.api,this.gridColumnApi=this.gridOptions.columnApi)},computed:{disabled:function(){return\"Sample Item\"==this.OType||this.OType,!this.Supplier||(!this.ONumber||(!this.DatOrder||(!this.OType||!this.DelStatus)))}},methods:{saveState:function(){localStorage.setItem(\"orders_columnStats\",JSON.stringify(this.gridOptions.columnApi.getColumnState()))},restoreState:function(){localStorage.setItem(\"orders_columnStats\",null)},customItemLabel:function(e){var t=e.txtArticlenumber,r=e.txtDescription,i=e.txtVersion;return\"\".concat(t,\" || \").concat(r,\" || v\").concat(i)},customDeviceLabel:function(e){var t=e.idModel,r=e.txtSerialNumber,i=e.txtDevicePosition;return\"\".concat(t.txtModelName,\" || \").concat(r,\" || \").concat(i)},onBtExport:function(){this.gridApi.exportDataAsExcel({})},onPageSizeChanged:function(e){var t=document.getElementById(\"page-size\").value;this.gridApi.paginationSetPageSize(Number(t))},onRowSelected:function(e){this.rowData1=null,this.rowData2=null,1==e.node.selected&&(\"Sample Item\"==e.data.txtOrderType?(this.getOrderItem(e.data.id),this.selectedOrderDevice=!1,this.selectedOrderItem=!0):\"Sample Device\"==e.data.txtOrderType&&(this.getOrderDevice(e.data.id),this.selectedOrderItem=!1,this.selectedOrderDevice=!0))},onGridReady:function(e){var t=this;setTimeout((function(){t.getSelectedOrder(e)}),500)},onGridReady1:function(e){this.gridApi1=e.api,this.gridColumnApi1=e.columnApi},onGridReady2:function(e){this.gridApi1=e.api,this.gridColumnApi1=e.columnApi},addOrder:function(){var e=this,t=\"/api/order/\";Object(o[\"a\"])(t,\"POST\",{txtOrderNumber:this.ONumber,datOrder:this.DatOrder,datDelivery:this.DatDelivery,txtOrderType:this.OType,txtChargeNumber:this.CNumber,txtDeliveryStatus:this.DelStatus,idSupplier:this.Supplier.id}).then((function(t){if(\"Sample Item\"==e.OType&&\"ERROR\"!=t){for(var r=0;r<e.selectedItems.length;r++){var i=e.selectedItems[r],a=\"/api/order-item/\";Object(o[\"a\"])(a,\"POST\",{datOrder:e.DatOrder,datDelivery:null,numOrderAmount:parseInt(i.numOrderAmount),idItem:i.id,idOrder:t.id})}e.getOrder(),e.emptyInput()}else if(\"Sample Device\"==e.OType&&\"ERROR\"!=t){for(var l=0;l<e.selectedDevices.length;l++){var s=e.selectedDevices[l],n=\"/api/order-device/\";Object(o[\"a\"])(n,\"POST\",{datOrder:e.DatOrder,datDelivery:null,numOrderAmount:s.numOrderAmount,idDevice:s.id,idOrder:t.id})}e.getOrder(),e.emptyInput()}else e.error=!0})),this.error&&(this.error=!1)},editOrderMenu:function(e){this.getOrderItem(),this.getOrderDevice();var t=e.node.data;this.ONumber=t.txtOrderNumber,this.DatOrder=t.datOrder,this.DatDelivery=t.datDelivery,this.OType=t.txtOrderType,this.CNumber=t.txtChargeNumber,this.DelStatus=t.txtDeliveryStatus,this.Supplier=t.idSupplier,this.updateStatus=!0,this.updateId=t.id,this.$root.$emit(\"bv::toggle::collapse\",\"collapse-e\"),document.documentElement.scrollTop=0},updateOrderGrid:function(){var e=Object(s[\"a\"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=\"/api/order/\".concat(t.node.data.id,\"/\"),e.prev=1,e.next=4,Object(o[\"a\"])(r,\"PATCH\",{txtOrderNumber:t.node.data.txtOrderNumber,datOrder:t.node.data.datOrder,datDelivery:t.node.data.datDelivery,txtOrderType:t.node.data.txtOrderType,txtChargeNumber:t.node.data.txtChargeNumber,txtDeliveryStatus:t.node.data.txtDeliveryStatus});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e[\"catch\"](1),console.log(e.t0);case 9:case\"end\":return e.stop()}}),e,null,[[1,6]])})));function t(t){return e.apply(this,arguments)}return t}(),updateOrder:function(){var e=Object(s[\"a\"])(regeneratorRuntime.mark((function e(){var t,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=\"/api/order/\".concat(this.updateId,\"/\"),e.next=3,Object(o[\"a\"])(t,\"PATCH\",{txtOrderNumber:this.ONumber,datOrder:this.DatOrder,datDelivery:this.DatDelivery,txtOrderType:this.OType,txtChargeNumber:this.CNumber,txtDeliveryStatus:this.DelStatus,idSupplier:this.Supplier.id}).then((function(e){if(\"Sample Item\"==r.OType&&\"ERROR\"!=e){if(!0===r.selectedItems||null!==r.selectedItems)for(var t=0;t<r.selectedItems.length;t++){var i=r.selectedItems[t],a=\"/api/order-item/\";Object(o[\"a\"])(a,\"POST\",{datOrder:r.DatOrder,datDelivery:null,numOrderAmount:parseInt(i.numOrderAmount),idItem:i.id,idOrder:e.id})}if(r.filteredItems||null!=r.filteredItems)for(var l=0;l<r.filteredItems.length;l++){var s=r.filteredItems[l],n=\"/api/order-item/\".concat(s.id,\"/\");Object(o[\"a\"])(n,\"PATCH\",{datOrder:r.DatOrder,datDelivery:null,numOrderAmount:parseInt(s.numOrderAmount),idItem:s.id,idOrder:e.id})}r.getOrder(),r.emptyInput()}else if(\"Sample Device\"==r.OType&&\"ERROR\"!=e){if(r.selectedDevices||null!=r.selectedDevices)for(var d=0;d<r.selectedDevices.length;d++){var c=r.selectedDevices[d],u=\"/api/order-device/\";Object(o[\"a\"])(u,\"POST\",{datOrder:r.DatOrder,datDelivery:null,numOrderAmount:parseInt(c.numOrderAmount),idDevice:c.id,idOrder:e.id})}if(r.filteredDevices||null!=r.filteredDevices)for(var m=0;m<r.filteredDevices.length;m++){var p=r.filteredDevices[m],v=\"/api/order-device/\".concat(p.id,\"/\");Object(o[\"a\"])(v,\"PATCH\",{datOrder:r.DatOrder,datDelivery:null,numOrderAmount:parseInt(p.numOrderAmount),idDevice:p.idDevice.id,idOrder:e.id})}r.getOrder(),r.emptyInput()}else r.error=!0}));case 3:this.error&&(this.error=!1);case 4:case\"end\":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),openModal:function(e){var t=this;this.$bvModal.msgBoxConfirm(\"Are you sure you want to delete the selected Order? => \"+e.node.data.txtOrderNumber,{title:\"Please Confirm\",size:\"m\",buttonSize:\"sm\",okVariant:\"danger\",okTitle:\"YES\",cancelTitle:\"NO\",footerClass:\"p-2\",hideHeaderClose:!1,centered:!0}).then((function(r){r&&t.deleteOrder(e)}))},deleteOrder:function(){var e=Object(s[\"a\"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=\"/api/order/\".concat(t.node.data.id,\"/\"),e.prev=1,e.next=4,Object(o[\"a\"])(r,\"DELETE\");case 4:this.getOrder(),e.next=10;break;case 7:e.prev=7,e.t0=e[\"catch\"](1),console.log(e.t0);case 10:case\"end\":return e.stop()}}),e,this,[[1,7]])})));function t(t){return e.apply(this,arguments)}return t}(),emptyInput:function(){this.ONumber=\"\",this.datOrder=[],this.datDelivery=[],this.OType=[],this.CNumber=\"\",this.DelStatus=[],this.Supplier=\"\",this.selectedItems=[],this.selectedDevices=[],this.$root.$emit(\"bv::toggle::collapse\",\"collapse-e\")},getOrder:function(){var e=this;if(!this.error){this.orders=[];var t=\"/api/order-list/\";Object(o[\"a\"])(t).then((function(t){var r;(r=e.orders).push.apply(r,Object(l[\"a\"])(t.results)),e.rowData=e.orders}))}},getSup:function(){var e=this;if(!this.error){this.suppliers=[];var t=\"/api/supplier/\";Object(o[\"a\"])(t).then((function(t){var r;(r=e.suppliers).push.apply(r,Object(l[\"a\"])(t.results)),e.optionSupplier=e.suppliers}))}},getItem:function(){var e=this;if(!this.error){this.items=[];var t=\"/api/item/\";Object(o[\"a\"])(t).then((function(t){var r;(r=e.items).push.apply(r,Object(l[\"a\"])(t.results)),e.optionItems=e.items}))}},getOrderItem:function(e){var t=this;if(!this.error){this.orderItems=[];var r=\"/api/order-item-list/\";Object(o[\"a\"])(r).then((function(r){var i;(i=t.orderItems).push.apply(i,Object(l[\"a\"])(r.results)),null!=t.updateId&&(t.filteredItems=t.orderItems.filter((function(e){return e.idOrder.id==t.updateId}))),null!=e&&(t.rowData1=t.orderItems.filter((function(t){return t.idOrder.id==e})))}))}},getDevice:function(){var e=this;if(!this.error){this.devices=[];var t=\"/api/device-list/\";Object(o[\"a\"])(t).then((function(t){var r;(r=e.devices).push.apply(r,Object(l[\"a\"])(t.results)),e.optionDevices=e.devices}))}},getOrderDevice:function(e){var t=this;if(!this.error){this.orderDevices=[];var r=\"/api/order-device-list/\";Object(o[\"a\"])(r).then((function(r){var i;(i=t.orderDevices).push.apply(i,Object(l[\"a\"])(r.results)),null!=t.updateId&&(t.filteredDevices=t.orderDevices.filter((function(e){return e.idOrder.id==t.updateId}))),null!=e&&(t.rowData2=t.orderDevices.filter((function(t){return t.idOrder.id==e})))}))}},getContextMenu:function(e){var t=this,r=[{name:\"Edit Order\",action:function(){return t.editOrderMenu(e)}},\"separator\",{name:\"Delete Order\",action:function(){return t.openModal(e)}},\"export\"];return r},getDateToday:function(){var e=new Date;this.date=e.getDate()+\" / \"+(e.getMonth()+1)+\" / \"+e.getFullYear()},getSelectedItemId:function(e){this.selectedItemsId=e.map((function(e){return e.id}))},getSelectedDeviceId:function(e){this.selectedDevicesId=e.map((function(e){return e.id}))},getSelectedOrder:function(e){if(null!=window.localStorage.getItem(\"selOrder\")){var t=parseInt(localStorage.getItem(\"selOrder\"));e.api.forEachNode((function(e){e.setSelected(e.data.id===t)}))}}},created:function(){this.getSup(),this.getOrder(),this.getDateToday(),this.getOrderDevice(),this.getOrderItem(),this.getDevice(),this.getItem()},beforeRouteLeave:function(e,t,r){window.localStorage.removeItem(\"selOrder\"),r()}},u=c,m=(r(\"39ad\"),r(\"2877\")),p=Object(m[\"a\"])(u,i,a,!1,null,null,null);t[\"default\"]=p.exports},f552:function(e,t,r){}}]);","extractedComments":[]}