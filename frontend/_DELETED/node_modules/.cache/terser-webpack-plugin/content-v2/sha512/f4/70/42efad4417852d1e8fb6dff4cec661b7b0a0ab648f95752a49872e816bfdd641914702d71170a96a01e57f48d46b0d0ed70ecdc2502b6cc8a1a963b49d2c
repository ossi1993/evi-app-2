{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-12a9366b\"],{\"07aa\":function(t,e,a){},2909:function(t,e,a){\"use strict\";function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}function s(t){if(Array.isArray(t))return i(t)}function l(t){if(\"undefined\"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function n(t,e){if(t){if(\"string\"===typeof t)return i(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===a&&t.constructor&&(a=t.constructor.name),\"Map\"===a||\"Set\"===a?Array.from(t):\"Arguments\"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?i(t,e):void 0}}function o(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}function r(t){return s(t)||l(t)||n(t)||o()}a.d(e,\"a\",(function(){return r}))},7748:function(t,e,a){\"use strict\";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"main-content\"},[a(\"breadcumb\",{attrs:{page:\"Templates\",folder:\"Inspection\"}}),t._v(\" \"),a(\"b-row\",[a(\"b-col\",{attrs:{lg:\"6\",md:\"6\",sm:\"12\"}},[a(\"b-card\",{staticClass:\"card-icon-bg card-icon-bg-primary o-hidden mb-30 text-center\"},[a(\"i\",{staticClass:\"i-File\"}),t._v(\" \"),a(\"div\",{staticClass:\"content\"},[a(\"p\",{staticClass:\"text-muted mt-2 mb-0\"},[t._v(\"Templates\")]),t._v(\" \"),a(\"p\",{staticClass:\"inline text-primary text-24 line-height-1 mb-2\"},[t._v(t._s(this.templates.length))])])])],1),t._v(\" \"),a(\"b-col\",{attrs:{lg:\"6\",md:\"6\",sm:\"12\"}},[a(\"b-card\",{staticClass:\"card-icon-bg card-icon-bg-primary o-hidden mb-30 text-center\"},[a(\"i\",{staticClass:\"i-Calendar\"}),t._v(\" \"),a(\"div\",{staticClass:\"content\"},[a(\"p\",{staticClass:\"text-muted mt-2 mb-0\"},[t._v(\"Date\")]),t._v(\" \"),a(\"p\",{staticClass:\"text-primary text-24 line-height-1 mb-2\"},[a(\"nobr\",[t._v(t._s(this.date))])],1)])])],1)],1),t._v(\" \"),a(\"div\",{staticClass:\"row\"},[a(\"div\",{staticClass:\"col-md-12\"},[a(\"div\",{staticClass:\"card mb-30\"},[a(\"div\",{staticClass:\"card-body p-0 mb-3\"},[a(\"b-row\",{staticClass:\"ml-3\"},[a(\"i\",{directives:[{name:\"b-toggle\",rawName:\"v-b-toggle.collapse-e\",modifiers:{\"collapse-e\":!0}}],staticClass:\"nav-icon i-Add mt-3\",staticStyle:{\"font-size\":\"20px\"}}),t._v(\" \"),a(\"h5\",{staticClass:\"card-title border-bottom p-3 mb-2\"},[t._v(\"New Template\")])]),t._v(\" \"),a(\"b-collapse\",{staticClass:\"mt-3\",attrs:{id:\"collapse-e\"}},[a(\"b-form\",[a(\"b-row\",{staticClass:\"ml-3 mr-3 mt-3\"},[a(\"b-col\",{attrs:{md:\"12\"}},[a(\"b-form-input\",{attrs:{id:\"input-1\",type:\"text\",required:\"\",placeholder:\"Template Name\"},model:{value:t.TempName,callback:function(e){t.TempName=e},expression:\"TempName\"}})],1)],1),t._v(\" \"),a(\"b-row\",{staticClass:\"ml-3 mr-3 mt-3\"},[a(\"b-col\",{attrs:{md:\"6\"}},[a(\"multiselect\",{attrs:{\"tag-placeholder\":\"Choose Inspection Type\",placeholder:\"Search inspection type\",label:\"text\",\"track-by\":\"value\",options:t.optionsType,multiple:!1,taggable:!1,\"close-on-select\":!0,searchable:!0,\"open-direction\":\"bottom\"},model:{value:t.Type,callback:function(e){t.Type=e},expression:\"Type\"}})],1),t._v(\" \"),a(\"b-col\",{attrs:{md:\"6\"}},[a(\"multiselect\",{attrs:{\"tag-placeholder\":\"Choose Item Type\",placeholder:\"Search item type\",label:\"text\",\"track-by\":\"value\",options:t.optionsItemTypes,multiple:!0,taggable:!1,\"close-on-select\":!1,searchable:!0,\"open-direction\":\"bottom\",max:3},on:{input:function(e){return t.onChange(e)},remove:function(e){return t.onChange(e)}},model:{value:t.IType,callback:function(e){t.IType=e},expression:\"IType\"}})],1)],1),t._v(\" \"),\"\"!=t.optionAttsGlass?a(\"b-row\",{staticClass:\"ml-3 mr-3 mt-3\"},[a(\"b-col\",{attrs:{md:\"12\"}},[a(\"h5\",{staticClass:\"mb-1\"},[t._v(\"Glass Attributes\")]),t._v(\" \"),a(\"b-form-checkbox-group\",{attrs:{id:\"select-3\",options:t.optionAttsGlass,multiple:\"\",\"value-field\":\"id\",\"text-field\":\"txtNameAttribute\"},model:{value:t.selAtt1,callback:function(e){t.selAtt1=e},expression:\"selAtt1\"}})],1)],1):t._e(),t._v(\" \"),\"\"!=t.optionAttsCase?a(\"b-row\",{staticClass:\"ml-3 mr-3 mt-3\"},[a(\"b-col\",{attrs:{md:\"12\"}},[a(\"h5\",{staticClass:\"mb-1\"},[t._v(\"Case Attributes\")]),t._v(\" \"),a(\"b-form-checkbox-group\",{attrs:{id:\"select-4\",options:t.optionAttsCase,multiple:\"\",\"value-field\":\"id\",\"text-field\":\"txtNameAttribute\"},model:{value:t.selAtt2,callback:function(e){t.selAtt2=e},expression:\"selAtt2\"}})],1)],1):t._e(),t._v(\" \"),\"\"!=t.optionAttsFrameStandard?a(\"b-row\",{staticClass:\"ml-3 mr-3 mt-3\"},[a(\"b-col\",{attrs:{md:\"12\"}},[a(\"h5\",{staticClass:\"mb-1\"},[t._v(\"Frame Standard Attributes\")]),t._v(\" \"),a(\"b-form-checkbox-group\",{attrs:{id:\"select-5\",options:t.optionAttsFrameStandard,multiple:\"\",\"value-field\":\"id\",\"text-field\":\"txtNameAttribute\"},model:{value:t.selAtt3,callback:function(e){t.selAtt3=e},expression:\"selAtt3\"}})],1)],1):t._e(),t._v(\" \"),\"\"!=t.optionAttsFrameEco?a(\"b-row\",{staticClass:\"ml-3 mr-3 mt-3\"},[a(\"b-col\",{attrs:{md:\"12\"}},[a(\"h5\",{staticClass:\"mb-1\"},[t._v(\"Frame Eco Attributes\")]),t._v(\" \"),a(\"b-form-checkbox-group\",{attrs:{id:\"select-6\",options:t.optionAttsFrameEco,multiple:\"\",\"value-field\":\"id\",\"text-field\":\"txtNameAttribute\"},model:{value:t.selAtt4,callback:function(e){t.selAtt4=e},expression:\"selAtt4\"}})],1)],1):t._e(),t._v(\" \"),a(\"b-row\",{staticClass:\"ml-3 mr-3 mt-3\"},[a(\"b-col\",{attrs:{md:\"6\"}},[a(\"b-button\",{attrs:{block:\"\",variant:\"outline-danger\"},on:{click:t.emptyInput}},[t._v(\"Delete Input\")])],1),t._v(\" \"),a(\"b-col\",{attrs:{md:\"6\"}},[a(\"b-button\",{attrs:{block:\"\",variant:\"success\",disabled:t.disabled},on:{click:t.addTemplate}},[t._v(\"Add Template\")])],1)],1),t._v(\" \"),a(\"b-row\",{staticClass:\"ml-3 mr-3\"},[a(\"b-col\",{staticClass:\"mt-3\",attrs:{md:\"12\"}},[t.error?a(\"b-alert\",{attrs:{show:\"\",variant:\"alert alert-card alert-danger\",dismissible:\"\"}},[a(\"strong\",{staticClass:\"text-capitalize\"},[t._v(\"Error!\")]),t._v(\" The Input is not valid.\\n                  \")]):t._e()],1)],1)],1)],1)],1)])])]),t._v(\" \"),a(\"div\",{staticClass:\"row\"},[a(\"div\",{staticClass:\"col-md-12\"},[a(\"div\",{staticClass:\"card mb-30\"},[a(\"div\",{staticClass:\"card-body p-0\"},[a(\"AgGridVue\",{staticClass:\"ag-theme-alpine\",attrs:{id:\"gridItems\",defaultColDef:t.defaultColDef,columnDefs:t.columnDefs,rowSelection:t.rowSelection,rowData:t.rowData,gridOptions:t.gridOptions,suppressRowClickSelection:!0,excelStyles:t.excelStyles,masterDetail:!0,detailCellRendererParams:t.detailCellRendererParams,pagination:!0,paginationPageSize:10,domLayout:t.domLayout,modules:t.modules},on:{cellValueChanged:t.cellValueChanged,\"row-selected\":t.onRowSelected}}),t._v(\" \"),a(\"div\",{staticClass:\"ml-3 mr-3 mt-2 mb-2 text-right\"},[t._v(\"\\n              Page Size:\\n              \"),a(\"select\",{attrs:{id:\"page-size\"},on:{change:t.onPageSizeChanged}},[a(\"option\",{attrs:{value:\"10\",selected:\"\"}},[t._v(\"10\")]),t._v(\" \"),a(\"option\",{attrs:{value:\"20\"}},[t._v(\"20\")]),t._v(\" \"),a(\"option\",{attrs:{value:\"50\"}},[t._v(\"50\")]),t._v(\" \"),a(\"option\",{attrs:{value:\"100\"}},[t._v(\"100\")]),t._v(\" \"),a(\"option\",{attrs:{value:\"200\"}},[t._v(\"200\")])]),t._v(\" \"),a(\"b-button\",{staticClass:\"ml-3\",attrs:{size:\"sm\",variant:\"outline-success\"},on:{click:t.onBtExport}},[t._v(\"Export Excel\")])],1)],1)])])]),t._v(\" \"),a(\"b-collapse\",{staticClass:\"ml-1 mr-3\",model:{value:t.show,callback:function(e){t.show=e},expression:\"show\"}},[a(\"b-button\",{staticClass:\"mr-4\",attrs:{variant:\"primary\"},on:{click:t.createInspection}},[t._v(\"Create New Inspection\")]),t._v(\" \"),a(\"b-button\",{attrs:{variant:\"outline-danger\"},on:{click:t.openModal}},[t._v(\"Delete Template\")])],1)],1)},s=[],l=(a(\"96cf\"),a(\"1da1\")),n=a(\"2909\"),o=(a(\"c5f6\"),a(\"5ce5\")),r=a(\"228c\"),c=a(\"9974\"),p={metaInfo:{title:\"Template\"},components:{AgGridVue:r[\"AgGridVue\"]},data:function(){return{gridOptions:null,gridApi:null,columnApi:null,columnDefs:null,columnDefsAtt:null,rowData:null,rowDataMod:null,rowSelection:null,defaultColDef:null,frameworkComponents:null,detailCellRendererParams:null,domLayout:null,excelStyles:null,modules:c[\"a\"],templates:[],attributes:[],typeAttributes:[],selectedAttributes:[],selAtt1:[],selAtt2:[],selAtt3:[],selAtt4:[],show:!1,visible:!1,TempName:\"\",Type:\"\",IType:null,date:null,next:null,error:!1,optionsItemTypes:[{value:\"Glass\",text:\"Glass\"},{value:\"Case\",text:\"Case\"},{value:\"Frame Standard\",text:\"Frame Standard\"},{value:\"Frame Eco\",text:\"Frame Eco\"}],optionsType:[{value:\"MF\",text:\"Mess & Funktionsprüfung\"},{value:\"CH\",text:\"Chemische Prüfung\"},{value:\"PH\",text:\"Physikalische Prüfung\"},{value:\"CA\",text:\"Case Prüfung\"},{value:\"FR\",text:\"Frame Prüfung\"}],optionsAttributes:[],optionAttsGlass:[],optionAttsCase:[],optionAttsFrameStandard:[],optionAttsFrameEco:[]}},beforeMount:function(){this.gridOptions={},this.columnDefs=[{headerName:\"Template Name\",field:\"txtInspectionTemplateName\",filter:\"agTextColumnFilter\",cellRenderer:\"agGroupCellRenderer\",checkboxSelection:!0},{headerName:\"Template Type\",field:\"txtInspectionTemplateType\",filter:\"agTextColumnFilter\",cellEditor:\"agRichSelectCellEditor\",cellEditorParams:{cellHeight:50,values:[\"MF\",\"CH\",\"PH\",\"CA\",\"FR\"]}}],this.defaultColDef={flex:1,editable:!0,resizable:!0,sortable:!0,filter:!0,floatingFilter:!0},this.detailCellRendererParams={detailGridOptions:{rowSelection:\"single\",suppressRowClickSelection:!0,enableRangeSelection:!0,pagination:!0,paginationAutoPageSize:20,columnDefs:[{headerName:\"Item Type\",field:\"txtItemType\"},{headerName:\"Attribute Key\",field:\"txtKeyAttribute\"},{headerName:\"Attribute Name\",field:\"txtNameAttribute\"},{headerName:\"Default Value\",field:\"txtValueDefault\"},{headerName:\"Value Type\",field:\"txtValueType\"},{headerName:\"Measure Unit\",field:\"txtMeasureUnit\"}],defaultColDef:{flex:1,editable:!0,resizable:!0}},getDetailRowData:function(t){t.successCallback(t.data.idInspectionTemplateAttribute)}},this.rowSelection=\"single\",this.domLayout=\"autoHeight\",this.paginationPageSize=10},mounted:function(){window.InspectionTemplateColState?this.gridOptions.columnApi.setColumnState(window.InspectionTemplateColState):this.gridApi=this.gridOptions.api,this.gridColumnApi=this.gridOptions.columnApi},computed:{disabled:function(){return!this.TempName||(!this.Type||!this.IType)}},methods:{onBtExport:function(){this.gridApi.exportDataAsExcel({})},onPageSizeChanged:function(t){var e=document.getElementById(\"page-size\").value;this.gridApi.paginationSetPageSize(Number(e))},saveState:function(){window.InspectionTemplateColState=this.gridOptions.columnApi.getColumnState()},restoreState:function(){window.InspectionTemplateColState=null},onChange:function(t){var e=this;this.typeAttributes=[],this.optionAttsGlass=[],this.optionAttsCase=[],this.optionAttsFrame=[];var a=\"/api/inspection-template-attribute/\";Object(o[\"a\"])(a).then((function(a){var i;(i=e.typeAttributes).push.apply(i,Object(n[\"a\"])(a.results));for(var s=function(a){var i=t[a];\"Glass\"==i.value&&\"\"==e.optionAttsGlass?e.optionAttsGlass=e.typeAttributes.filter((function(t){return t.txtItemType==i.value})):\"Case\"==i.value&&\"\"==e.optionAttsCase?e.optionAttsCase=e.typeAttributes.filter((function(t){return t.txtItemType==i.value})):\"Frame Standard\"==i.value&&\"\"==e.optionAttsFrame?e.optionAttsFrameStandard=e.typeAttributes.filter((function(t){return t.txtItemType==i.value})):\"Frame Eco\"==i.value&&\"\"==e.optionAttsFrame&&(e.optionAttsFrameEco=e.typeAttributes.filter((function(t){return t.txtItemType==i.value})))},l=0;l<t.length;l++)s(l)}))},cellValueChanged:function(){var t=Object(l[\"a\"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=\"/api/inspection-template/\".concat(e.node.data.id,\"/\"),t.prev=1,t.next=4,Object(o[\"a\"])(a,\"PATCH\",{txtInspectionTemplateName:e.node.data.txtInspectionTemplateName,txtInspectionTemplateType:e.node.data.txtInspectionTemplateType});case 4:t.next=9;break;case 6:t.prev=6,t.t0=t[\"catch\"](1),console.log(t.t0);case 9:case\"end\":return t.stop()}}),t,null,[[1,6]])})));function e(e){return t.apply(this,arguments)}return e}(),onRowSelected:function(t){this.show=!this.show},getTemplates:function(){var t=this;if(!this.error){this.templates=[];var e=\"/api/inspection-template-list/\";Object(o[\"a\"])(e).then((function(e){var a;(a=t.templates).push.apply(a,Object(n[\"a\"])(e.results)),t.rowData=t.templates}))}},getAttributes:function(){var t=this;if(!this.error){this.attributes=[];var e=\"/api/inspection-template-attribute/\";Object(o[\"a\"])(e).then((function(e){var a;(a=t.attributes).push.apply(a,Object(n[\"a\"])(e.results))}))}},addTemplate:function(){var t=this,e=this.selAtt1.concat(this.selAtt2,this.selAtt3,this.selAtt4),a=\"/api/inspection-template/\";Object(o[\"a\"])(a,\"POST\",{txtInspectionTemplateName:this.TempName,txtInspectionTemplateType:this.Type.value,idInspectionTemplateAttribute:e}).then((function(e){e?(t.getTemplates(),t.emptyInput()):t.error=!0})),this.error&&(this.error=!1)},openModal:function(t){var e=this;this.$bvModal.msgBoxConfirm(\"Are you sure you want to delete the selected Template?\",{title:\"Please Confirm\",size:\"m\",buttonSize:\"sm\",okVariant:\"danger\",okTitle:\"YES\",cancelTitle:\"NO\",footerClass:\"p-2\",hideHeaderClose:!1,centered:!0}).then((function(t){t&&e.deleteTemplate()}))},deleteTemplate:function(){var t=Object(l[\"a\"])(regeneratorRuntime.mark((function t(){var e,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.gridApi.getSelectedRows(),a=\"/api/inspection-template/\".concat(e[0].id,\"/\"),t.prev=2,i=this.items.map((function(t){return t.id})).indexOf(e[0].id),this.$delete(this.templates,i),t.next=7,Object(o[\"a\"])(a,\"DELETE\");case 7:this.show=!this.show,t.next=13;break;case 10:t.prev=10,t.t0=t[\"catch\"](2),console.log(t.t0);case 13:case\"end\":return t.stop()}}),t,this,[[2,10]])})));function e(){return t.apply(this,arguments)}return e}(),createInspection:function(){var t=this.gridApi.getSelectedRows();localStorage.setItem(\"ITempID\",t[0].id),this.$router.push(\"inspection\")},deleteTempId:function(){localStorage.removeItem(\"ITempID\")},emptyInput:function(){this.TempName=\"\",this.Type=null,this.IType=null,this.selAtt=null,this.optionAttsGlass=[],this.optionAttsCase=[],this.optionAttsFrame=[],this.$root.$emit(\"bv::toggle::collapse\",\"collapse-e\")},getDateToday:function(){var t=new Date;this.date=t.getDate()+\" / \"+(t.getMonth()+1)+\" / \"+t.getFullYear()}},created:function(){this.getTemplates(),this.getAttributes(),this.getDateToday(),this.deleteTempId()}},u=p,m=(a(\"d67c\"),a(\"2877\")),d=Object(m[\"a\"])(u,i,s,!1,null,null,null);e[\"default\"]=d.exports},d67c:function(t,e,a){\"use strict\";var i=a(\"07aa\"),s=a.n(i);s.a}}]);","extractedComments":[]}