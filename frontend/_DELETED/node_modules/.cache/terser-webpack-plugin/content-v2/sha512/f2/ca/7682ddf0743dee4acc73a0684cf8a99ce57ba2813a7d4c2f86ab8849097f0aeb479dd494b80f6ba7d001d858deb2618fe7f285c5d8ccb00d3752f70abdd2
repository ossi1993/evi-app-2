{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-34500723\"],{2909:function(t,e,a){\"use strict\";function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}function r(t){if(Array.isArray(t))return i(t)}function n(t){if(\"undefined\"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function l(t,e){if(t){if(\"string\"===typeof t)return i(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===a&&t.constructor&&(a=t.constructor.name),\"Map\"===a||\"Set\"===a?Array.from(t):\"Arguments\"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?i(t,e):void 0}}function s(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}function o(t){return r(t)||n(t)||l(t)||s()}a.d(e,\"a\",(function(){return o}))},\"972d\":function(t,e,a){},d8e0:function(t,e,a){\"use strict\";var i=a(\"972d\"),r=a.n(i);r.a},def9:function(t,e,a){\"use strict\";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"main-content\"},[a(\"breadcumb\",{attrs:{page:\"List\",folder:\"Supplier\"}}),t._v(\" \"),a(\"b-row\",[a(\"b-col\",{attrs:{lg:\"6\",md:\"6\",sm:\"12\"}},[a(\"b-card\",{staticClass:\"card-icon-bg card-icon-bg-primary o-hidden mb-30 text-center\"},[a(\"i\",{staticClass:\"i-Truck\"}),t._v(\" \"),a(\"div\",{staticClass:\"content\"},[a(\"p\",{staticClass:\"text-muted mt-2 mb-0\"},[t._v(\"Supplier\")]),t._v(\" \"),a(\"p\",{staticClass:\"inline text-primary text-24 line-height-1 mb-2\"},[t._v(t._s(this.suppliers.length))])])])],1),t._v(\" \"),a(\"b-col\",{attrs:{lg:\"6\",md:\"6\",sm:\"12\"}},[a(\"b-card\",{staticClass:\"card-icon-bg card-icon-bg-primary o-hidden mb-30 text-center\"},[a(\"i\",{staticClass:\"i-Calendar\"}),t._v(\" \"),a(\"div\",{staticClass:\"content\"},[a(\"p\",{staticClass:\"text-muted mt-2 mb-0\"},[t._v(\"Date\")]),t._v(\" \"),a(\"p\",{staticClass:\"text-primary text-24 line-height-1 mb-2\"},[a(\"nobr\",[t._v(t._s(this.date))])],1)])])],1)],1),t._v(\" \"),a(\"div\",{staticClass:\"row\"},[a(\"div\",{staticClass:\"col-md-12\"},[a(\"div\",{staticClass:\"card mb-30\"},[a(\"div\",{staticClass:\"card-body p-0 mb-3\"},[a(\"b-row\",{staticClass:\"ml-3\"},[a(\"i\",{directives:[{name:\"b-toggle\",rawName:\"v-b-toggle.collapse-o\",modifiers:{\"collapse-o\":!0}}],staticClass:\"nav-icon i-Add mt-3\",staticStyle:{\"font-size\":\"20px\"},on:{click:function(e){t.updateStatus=!1}}}),t._v(\" \"),a(\"h5\",{staticClass:\"card-title border-bottom p-3 mb-2\"},[t._v(\"New Supplier\")])]),t._v(\" \"),a(\"b-collapse\",{staticClass:\"mt-3\",attrs:{id:\"collapse-o\"}},[a(\"b-row\",{staticClass:\"ml-3 mr-3\"},[a(\"b-col\",{staticClass:\"mt-3\",attrs:{md:\"12\"}},[a(\"b-form-input\",{attrs:{id:\"input-1\",type:\"text\",required:\"\",placeholder:\"Supplier Name\"},model:{value:t.SName,callback:function(e){t.SName=e},expression:\"SName\"}})],1)],1),t._v(\" \"),a(\"b-row\",{staticClass:\"ml-3 mr-3\"},[a(\"b-col\",{staticClass:\"mt-3\",attrs:{md:\"4\"}},[a(\"b-form-input\",{attrs:{id:\"input-3\",type:\"text\",placeholder:\"Street 1\"},model:{value:t.Street1,callback:function(e){t.Street1=e},expression:\"Street1\"}})],1),t._v(\" \"),a(\"b-col\",{staticClass:\"mt-3\",attrs:{md:\"4\"}},[a(\"b-form-input\",{attrs:{id:\"input-4\",type:\"text\",placeholder:\"Street 2\"},model:{value:t.Street2,callback:function(e){t.Street2=e},expression:\"Street2\"}})],1),t._v(\" \"),a(\"b-col\",{staticClass:\"mt-3\",attrs:{md:\"4\"}},[a(\"b-form-input\",{attrs:{id:\"input-5\",type:\"text\",placeholder:\"Street 3\"},model:{value:t.Street3,callback:function(e){t.Street3=e},expression:\"Street3\"}})],1)],1),t._v(\" \"),a(\"b-row\",{staticClass:\"ml-3 mr-3\"},[a(\"b-col\",{staticClass:\"mt-3\",attrs:{md:\"2\"}},[a(\"b-form-input\",{attrs:{id:\"input-6\",type:\"text\",placeholder:\"ZIP\"},model:{value:t.Zip,callback:function(e){t.Zip=e},expression:\"Zip\"}})],1),t._v(\" \"),a(\"b-col\",{staticClass:\"mt-3\",attrs:{md:\"2\"}},[a(\"b-form-input\",{attrs:{id:\"input-7\",type:\"text\",placeholder:\"City\"},model:{value:t.City,callback:function(e){t.City=e},expression:\"City\"}})],1),t._v(\" \"),a(\"b-col\",{staticClass:\"mt-3\",attrs:{md:\"4\"}},[a(\"b-form-input\",{attrs:{id:\"input-8\",type:\"text\",placeholder:\"Province\"},model:{value:t.Province,callback:function(e){t.Province=e},expression:\"Province\"}})],1),t._v(\" \"),a(\"b-col\",{staticClass:\"mt-3\",attrs:{md:\"4\"}},[a(\"b-form-input\",{attrs:{id:\"input-9\",type:\"text\",required:\"\",placeholder:\"Land\"},model:{value:t.Land,callback:function(e){t.Land=e},expression:\"Land\"}})],1)],1),t._v(\" \"),a(\"b-row\",{staticClass:\"ml-3 mr-3\"},[a(\"b-col\",{staticClass:\"mt-3\",attrs:{md:\"3\"}},[a(\"b-form-input\",{attrs:{id:\"input-10\",type:\"text\",placeholder:\"Contact Person\"},model:{value:t.CPerson,callback:function(e){t.CPerson=e},expression:\"CPerson\"}})],1),t._v(\" \"),a(\"b-col\",{staticClass:\"mt-3\",attrs:{md:\"3\"}},[a(\"b-form-input\",{attrs:{id:\"input-11\",type:\"text\",placeholder:\"Phone\"},model:{value:t.Phone,callback:function(e){t.Phone=e},expression:\"Phone\"}})],1),t._v(\" \"),a(\"b-col\",{staticClass:\"mt-3\",attrs:{md:\"3\"}},[a(\"b-form-input\",{attrs:{id:\"input-12\",type:\"text\",placeholder:\"E-Mail\"},model:{value:t.Mail,callback:function(e){t.Mail=e},expression:\"Mail\"}})],1),t._v(\" \"),a(\"b-col\",{staticClass:\"mt-3\",attrs:{md:\"3\"}},[a(\"b-form-input\",{attrs:{id:\"input-13\",type:\"text\",placeholder:\"Skype\"},model:{value:t.Skype,callback:function(e){t.Skype=e},expression:\"Skype\"}})],1)],1),t._v(\" \"),a(\"b-row\",{staticClass:\"ml-3 mr-3\"},[a(\"b-col\",{staticClass:\"mt-3\",attrs:{md:\"12\"}},[a(\"multiselect\",{attrs:{\"tag-placeholder\":\"Choose Supplier Type\",placeholder:\"Choose Supplier Type\",label:\"name\",\"track-by\":\"value\",options:t.optionType,multiple:!0,taggable:!0,\"close-on-select\":!1,searchable:!0,\"open-direction\":\"bottom\"},model:{value:t.SType,callback:function(e){t.SType=e},expression:\"SType\"}})],1)],1),t._v(\" \"),a(\"b-row\",{staticClass:\"ml-3 mt-5 mr-3\"},[t.updateStatus?t.updateStatus?a(\"b-col\",{attrs:{md:\"6\"}},[a(\"b-button\",{attrs:{block:\"\",variant:\"outline-info\"},on:{click:t.emptyInput}},[t._v(\"Cancel\")])],1):t._e():a(\"b-col\",{attrs:{md:\"6\"}},[a(\"b-button\",{attrs:{block:\"\",variant:\"outline-danger\"},on:{click:t.emptyInput}},[t._v(\"Delete Input\")])],1),t._v(\" \"),t.updateStatus?t.updateStatus?a(\"b-col\",{attrs:{md:\"6\"}},[a(\"b-button\",{attrs:{block:\"\",variant:\"warning\",disabled:t.disabled},on:{click:t.updateSupplier}},[t._v(\"Update Supplier\")])],1):t._e():a(\"b-col\",{attrs:{md:\"6\"}},[a(\"b-button\",{attrs:{block:\"\",variant:\"success\",disabled:t.disabled},on:{click:t.addSup}},[t._v(\"Add Supplier\")])],1)],1),t._v(\" \"),a(\"b-row\",{staticClass:\"ml-3 mt-3 mr-3\"},[a(\"b-col\",{attrs:{md:\"12\"}},[t.error?a(\"b-alert\",{attrs:{show:\"\",variant:\"alert alert-card alert-danger\",dismissible:\"\"}},[a(\"strong\",{staticClass:\"text-capitalize\"},[t._v(\"Error!\")]),t._v(\" The Input is not valid.\\n                \")]):t._e()],1)],1)],1)],1)])])]),t._v(\" \"),a(\"div\",{staticClass:\"row\"},[a(\"div\",{staticClass:\"col-md-12\"},[a(\"div\",{staticClass:\"card mb-30\"},[a(\"div\",{staticClass:\"card-body p-0\"},[a(\"AgGridVue\",{staticClass:\"ag-theme-alpine\",attrs:{id:\"gridSupplier\",defaultColDef:t.defaultColDef,columnDefs:t.columnDefs,rowSelection:t.rowSelection,rowData:t.rowData,gridOptions:t.gridOptions,suppressRowClickSelection:!0,excelStyles:t.excelStyles,pagination:!0,paginationPageSize:t.paginationPageSize,getContextMenuItems:t.getContextMenu,domLayout:t.domLayout,modules:t.modules},on:{cellValueChanged:t.updateSupplierGrid,\"row-selected\":t.onRowSelected}}),t._v(\" \"),a(\"div\",{staticClass:\"ml-3 mr-3 mt-2 mb-2 text-right\"},[t._v(\"\\n              Page Size:\\n              \"),a(\"select\",{attrs:{id:\"page-size\"},on:{change:t.onPageSizeChanged}},[a(\"option\",{attrs:{value:\"10\",selected:\"\"}},[t._v(\"10\")]),t._v(\" \"),a(\"option\",{attrs:{value:\"20\"}},[t._v(\"20\")]),t._v(\" \"),a(\"option\",{attrs:{value:\"50\"}},[t._v(\"50\")]),t._v(\" \"),a(\"option\",{attrs:{value:\"100\"}},[t._v(\"100\")]),t._v(\" \"),a(\"option\",{attrs:{value:\"200\"}},[t._v(\"200\")])]),t._v(\" \"),a(\"b-button\",{staticClass:\"ml-3\",attrs:{size:\"sm\",variant:\"outline-success\"},on:{click:t.onBtExport}},[t._v(\"Export Excel\")])],1)],1)])])]),t._v(\" \"),a(\"b-row\",{staticClass:\"ml-1 mr-3 mb-4\"},[a(\"b-button\",{staticClass:\"mr-3\",attrs:{variant:\"primary\"},on:{click:t.saveState}},[t._v(\"Save Grid State\")]),t._v(\" \"),a(\"b-button\",{attrs:{variant:\"outline-light\"},on:{click:t.restoreState}},[t._v(\"Reset Grid State\")])],1)],1)},r=[],n=a(\"2909\"),l=(a(\"96cf\"),a(\"1da1\")),s=(a(\"c5f6\"),a(\"28a5\"),a(\"ade3\")),o=a(\"5ce5\"),c=a(\"228c\"),p=a(\"9974\"),u={metaInfo:{title:\"Supplier\"},components:{AgGridVue:c[\"AgGridVue\"]},data:function(){var t;return t={gridOptions:null,gridApi:null,gridColumnApi:null,columnApi:null,columnDefs:null,rowData:null,rowSelection:null,defaultColDef:null,excelStyles:null,frameworkComponents:null,domLayout:null,modules:p[\"a\"],suppliers:[],visible:!1,cType:null,SName:null,SType:null},Object(s[\"a\"])(t,\"SType\",null),Object(s[\"a\"])(t,\"Street1\",null),Object(s[\"a\"])(t,\"Street2\",null),Object(s[\"a\"])(t,\"Street3\",null),Object(s[\"a\"])(t,\"Zip\",null),Object(s[\"a\"])(t,\"City\",null),Object(s[\"a\"])(t,\"Province\",null),Object(s[\"a\"])(t,\"Land\",null),Object(s[\"a\"])(t,\"CPerson\",null),Object(s[\"a\"])(t,\"Phone\",null),Object(s[\"a\"])(t,\"Mail\",null),Object(s[\"a\"])(t,\"Skype\",null),Object(s[\"a\"])(t,\"date\",null),Object(s[\"a\"])(t,\"error\",!1),Object(s[\"a\"])(t,\"updateStatus\",!1),Object(s[\"a\"])(t,\"updateId\",null),Object(s[\"a\"])(t,\"optionType\",[{value:\"Glass\",name:\"Glass\"},{value:\"Frame\",name:\"Frame\"},{value:\"Case\",name:\"Case\"},{value:\"Device\",name:\"Device\"}]),t},beforeMount:function(){this.gridOptions={},this.columnDefs=[{headerName:\"Supplier Name\",field:\"txtSupplierName\",filter:\"agTextColumnFilter\"},{headerName:\"Type\",field:\"txtSupplierType\",filter:\"agTextColumnFilter\"},{headerName:\"Street 1\",field:\"txtStreet1\",filter:\"agTextColumnFilter\"},{headerName:\"Street 2\",field:\"txtStreet2\",filter:\"agTextColumnFilter\"},{headerName:\"Street 3\",field:\"txtStreet3\",filter:\"agTextColumnFilter\"},{headerName:\"ZIP\",field:\"txtZip\",filter:\"agTextColumnFilter\"},{headerName:\"City\",field:\"txtCity\",filter:\"agTextColumnFilter\"},{headerName:\"Province\",field:\"txtProvince\",filter:\"agTextColumnFilter\"},{headerName:\"Land\",field:\"txtLand\",filter:\"agTextColumnFilter\"},{headerName:\"Contact Person\",field:\"txtContactPerson\",filter:\"agTextColumnFilter\"},{headerName:\"Phone\",field:\"txtCpPhone\",filter:\"agTextColumnFilter\"},{headerName:\"E-Mail\",field:\"txtCpMail\",filter:\"agTextColumnFilter\"},{headerName:\"Skype\",field:\"txtCpSkype\",filter:\"agTextColumnFilter\"}],this.defaultColDef={editable:!0,resizable:!0,sortable:!0,filter:!0,floatingFilter:!0,minWidth:100},this.rowSelection=\"single\",this.domLayout=\"autoHeight\",this.paginationPageSize=10},mounted:function(){null!=JSON.parse(localStorage.getItem(\"supplier_columnStats\"))?this.gridOptions.columnApi.setColumnState(JSON.parse(localStorage.getItem(\"supplier_columnStats\"))):(this.gridApi=this.gridOptions.api,this.gridColumnApi=this.gridOptions.columnApi)},computed:{disabled:function(){return!this.Land||!this.SName}},methods:{convertTypes:function(){var t=this.SType.map((function(t){return t.value}));this.cType=t.join(\", \")},reconstructTypes:function(t){for(var e=t.split(\", \"),a=0;a<e.length;a++){var i={value:e[a],name:e[a]};this.SType=[],this.SType.push(i)}},convertSupplierTypes:function(t){this.SType&&(this.STypeStr=\"\");for(var e=0;e<this.SType.length;e++){var a=this.SType[e];this.STypeStr+=a.value+\", \"}return this.STypeStr},saveState:function(){localStorage.setItem(\"supplier_columnStats\",JSON.stringify(this.gridOptions.columnApi.getColumnState()))},restoreState:function(){localStorage.setItem(\"supplier_columnStats\",null)},onBtExport:function(){this.gridApi.exportDataAsExcel({})},onPageSizeChanged:function(t){var e=document.getElementById(\"page-size\").value;this.gridApi.paginationSetPageSize(Number(e))},onRowSelected:function(t){this.show=!this.show},addSup:function(){var t=this;this.convertSupplierTypes();var e=\"/api/supplier/\";Object(o[\"a\"])(e,\"POST\",{txtSupplierName:this.SName,txtSupplierType:this.STypeStr,txtStreet1:this.Street1,txtStreet2:this.Street2,txtStreet3:this.Street3,txtZip:this.Zip,txtCity:this.City,txtProvince:this.Province,txtLand:this.Land,txtContactPerson:this.CPerson,txtCpPhone:this.Phone,txtCpMail:this.Mail,txtCpSkype:this.Skype}).then((function(e){\"ERROR\"!=e?(t.getSup(),t.emptyInput()):t.error=!0})),this.error&&(this.error=!1)},editSupplierMenu:function(t){var e=t.node.data;this.reconstructTypes(e.txtSupplierType),this.SName=e.txtSupplierName,this.Street1=e.txtStreet1,this.Street2=e.txtStreet2,this.Street3=e.txtStreet3,this.Zip=e.txtZip,this.City=e.txtCity,this.Province=e.txtProvince,this.Land=e.txtLand,this.CPerson=e.txtContactPerson,this.Phone=e.txtCpPhone,this.Mail=e.txtCpMail,this.Skype=e.txtCpSkype,this.updateStatus=!0,this.updateId=e.id,this.$root.$emit(\"bv::toggle::collapse\",\"collapse-o\"),document.documentElement.scrollTop=0},updateSupplier:function(){var t=Object(l[\"a\"])(regeneratorRuntime.mark((function t(){var e,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.convertTypes(),e=\"/api/supplier/\".concat(this.updateId,\"/\"),t.next=4,Object(o[\"a\"])(e,\"PATCH\",{txtSupplierName:this.SName,txtSupplierType:this.cType,txtStreet1:this.Street1,txtStreet2:this.Street2,txtStreet3:this.Street3,txtZip:this.Zip,txtCity:this.City,txtProvince:this.Province,txtLand:this.Land,txtContactPerson:this.CPerson,txtCpPhone:this.Phone,txtCpMail:this.Mail,txtCpSkype:this.Skype}).then((function(t){\"ERROR\"!=t?(a.emptyInput(),a.getSup()):a.error=!0}));case 4:this.error&&(this.error=!1);case 5:case\"end\":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),updateSupplierGrid:function(){var t=Object(l[\"a\"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=\"/api/supplier/\".concat(e.node.data.id,\"/\"),t.prev=1,t.next=4,Object(o[\"a\"])(a,\"PATCH\",{txtSupplierName:e.node.data.txtSupplierName,txtSupplierType:e.node.data.txtSupplierType,txtStreet1:e.node.data.txtStreet1,txtStreet2:e.node.data.txtStreet2,txtStreet3:e.node.data.txtStreet3,txtZip:e.node.data.txtZip,txtCity:e.node.data.txtCity,txtProvince:e.node.data.txtProvince,txtLand:e.node.data.txtLand,txtContactPerson:e.node.data.txtContactPerson,txtCpPhone:e.node.data.txtCpPhone,txtCpMail:e.node.data.txtCpMail,txtCpSkype:e.node.data.txtCpSkype});case 4:t.next=9;break;case 6:t.prev=6,t.t0=t[\"catch\"](1),console.log(t.t0);case 9:case\"end\":return t.stop()}}),t,null,[[1,6]])})));function e(e){return t.apply(this,arguments)}return e}(),openModal:function(t){var e=this;this.$bvModal.msgBoxConfirm(\"Are you sure you want to delete the selected Supplier? => \"+t.node.data.txtSupplierName,{title:\"Please Confirm\",size:\"m\",buttonSize:\"sm\",okVariant:\"danger\",okTitle:\"YES\",cancelTitle:\"NO\",footerClass:\"p-2\",hideHeaderClose:!1,centered:!0}).then((function(a){a&&e.deleteSup(t)}))},deleteSup:function(){var t=Object(l[\"a\"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=\"/api/supplier/\".concat(e.node.data.id,\"/\"),t.prev=1,t.next=4,Object(o[\"a\"])(a,\"DELETE\");case 4:this.getSup(),t.next=10;break;case 7:t.prev=7,t.t0=t[\"catch\"](1),console.log(t.t0);case 10:case\"end\":return t.stop()}}),t,this,[[1,7]])})));function e(e){return t.apply(this,arguments)}return e}(),emptyInput:function(){this.SName=\"\",this.SType=\"\",this.Street1=\"\",this.Street2=\"\",this.Street3=\"\",this.Zip=\"\",this.City=\"\",this.Province=\"\",this.Land=\"\",this.CPerson=\"\",this.Phone=\"\",this.Mail=\"\",this.Skype=\"\",this.$root.$emit(\"bv::toggle::collapse\",\"collapse-o\")},getSup:function(){var t=this;if(!this.error){this.suppliers=[];var e=\"/api/supplier/\";Object(o[\"a\"])(e).then((function(e){var a;(a=t.suppliers).push.apply(a,Object(n[\"a\"])(e.results)),t.rowData=t.suppliers}))}},getDateToday:function(){var t=new Date;this.date=t.getDate()+\" / \"+(t.getMonth()+1)+\" / \"+t.getFullYear()},getContextMenu:function(t){var e=this,a=[{name:\"Edit Supplier\",action:function(){return e.editSupplierMenu(t)}},\"separator\",{name:\"Delete Supplier\",action:function(){return e.openModal(t)}},\"export\"];return a}},created:function(){this.getSup(),this.getDateToday()}},d=u,m=(a(\"d8e0\"),a(\"2877\")),h=Object(m[\"a\"])(d,i,r,!1,null,null,null);e[\"default\"]=h.exports}}]);","extractedComments":[]}