{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-5d2416a2\"],{2909:function(t,e,a){\"use strict\";function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}function r(t){if(Array.isArray(t))return i(t)}function n(t){if(\"undefined\"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function o(t,e){if(t){if(\"string\"===typeof t)return i(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===a&&t.constructor&&(a=t.constructor.name),\"Map\"===a||\"Set\"===a?Array.from(t):\"Arguments\"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?i(t,e):void 0}}function s(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}function l(t){return r(t)||n(t)||o(t)||s()}a.d(e,\"a\",(function(){return l}))},\"53ca\":function(t,e,a){\"use strict\";function i(t){return i=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},i(t)}a.d(e,\"a\",(function(){return i}))},\"7a5c\":function(t,e,a){},c712:function(t,e,a){\"use strict\";var i=a(\"7a5c\"),r=a.n(i);r.a},f571:function(t,e,a){\"use strict\";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"main-content\"},[a(\"breadcumb\",{attrs:{page:\"Model List\",folder:\"Device\"}}),t._v(\" \"),a(\"b-row\",[a(\"b-col\",{attrs:{lg:\"6\",md:\"6\",sm:\"12\"}},[a(\"b-card\",{staticClass:\"card-icon-bg card-icon-bg-primary o-hidden mb-30 text-center\"},[a(\"i\",{staticClass:\"i-Tag\"}),t._v(\" \"),a(\"div\",{staticClass:\"content\"},[a(\"p\",{staticClass:\"text-muted mt-2 mb-0\"},[t._v(\"Models\")]),t._v(\" \"),a(\"p\",{staticClass:\"inline text-primary text-24 line-height-1 mb-2\"},[t._v(t._s(this.models.length))])])])],1),t._v(\" \"),a(\"b-col\",{attrs:{lg:\"6\",md:\"6\",sm:\"12\"}},[a(\"b-card\",{staticClass:\"card-icon-bg card-icon-bg-primary o-hidden mb-30 text-center\"},[a(\"i\",{staticClass:\"i-Calendar\"}),t._v(\" \"),a(\"div\",{staticClass:\"content\"},[a(\"p\",{staticClass:\"text-muted mt-2 mb-0\"},[t._v(\"Date\")]),t._v(\" \"),a(\"p\",{staticClass:\"text-primary text-24 line-height-1 mb-2\"},[a(\"nobr\",[t._v(t._s(this.date))])],1)])])],1)],1),t._v(\" \"),a(\"div\",{staticClass:\"row\"},[a(\"div\",{staticClass:\"col-md-12\"},[a(\"div\",{staticClass:\"card mb-30\"},[a(\"div\",{staticClass:\"card-body p-0 mb-3\"},[a(\"b-row\",{staticClass:\"ml-3\"},[a(\"i\",{directives:[{name:\"b-toggle\",rawName:\"v-b-toggle.collapse-e\",modifiers:{\"collapse-e\":!0}}],staticClass:\"nav-icon i-Add mt-3\",staticStyle:{\"font-size\":\"20px\"},on:{click:function(e){t.updateStatus=!1}}}),t._v(\" \"),a(\"h5\",{staticClass:\"card-title border-bottom p-3 mb-2\"},[t._v(\"New Model\")])]),t._v(\" \"),a(\"b-collapse\",{staticClass:\"mt-3\",attrs:{id:\"collapse-e\"}},[a(\"b-row\",{staticClass:\"ml-3 mt-3 mr-3\"},[a(\"b-col\",{attrs:{md:\"6\"}},[a(\"b-form-input\",{attrs:{id:\"input-1\",type:\"text\",required:\"\",placeholder:\"Model Name\"},model:{value:t.MName,callback:function(e){t.MName=e},expression:\"MName\"}})],1),t._v(\" \"),a(\"b-col\",{attrs:{md:\"6\"}},[a(\"v-select\",{attrs:{id:\"select-1\",options:t.optionStatuses,required:\"\",placeholder:\"Choose Status\",label:\"text\",reduce:function(t){return t.value}},model:{value:t.MStatus,callback:function(e){t.MStatus=e},expression:\"MStatus\"}})],1)],1),t._v(\" \"),a(\"b-row\",{staticClass:\"ml-3 mt-3 mr-3\"},[a(\"b-col\",{attrs:{md:\"6\"}},[a(\"v-select\",{attrs:{id:\"select-2\",options:t.optionManufacturer,required:\"\",placeholder:\"Choose Manufacturer\",label:\"txtManufacturerName\",reduce:function(t){return t.id}},model:{value:t.Manufacturer,callback:function(e){t.Manufacturer=e},expression:\"Manufacturer\"}})],1),t._v(\" \"),a(\"b-col\",{attrs:{md:\"6\"}},[a(\"v-select\",{attrs:{id:\"select-3\",options:t.optionSupplier,required:\"\",placeholder:\"Choose Supplier\",label:\"txtSupplierName\",reduce:function(t){return t.id}},model:{value:t.Supplier,callback:function(e){t.Supplier=e},expression:\"Supplier\"}})],1)],1),t._v(\" \"),a(\"b-row\",{staticClass:\"ml-3 mt-5 mr-3\"},[t.updateStatus?t.updateStatus?a(\"b-col\",{attrs:{md:\"6\"}},[a(\"b-button\",{attrs:{block:\"\",variant:\"outline-info\"},on:{click:t.emptyInput}},[t._v(\"Cancel\")])],1):t._e():a(\"b-col\",{attrs:{md:\"6\"}},[a(\"b-button\",{attrs:{block:\"\",variant:\"outline-danger\"},on:{click:t.emptyInput}},[t._v(\"Delete Input\")])],1),t._v(\" \"),t.updateStatus?t.updateStatus?a(\"b-col\",{attrs:{md:\"6\"}},[a(\"b-button\",{attrs:{block:\"\",variant:\"warning\",disabled:t.disabled},on:{click:t.updateModel}},[t._v(\"Update Model\")])],1):t._e():a(\"b-col\",{attrs:{md:\"6\"}},[a(\"b-button\",{attrs:{block:\"\",variant:\"success\",disabled:t.disabled},on:{click:t.addModel}},[t._v(\"Add Model\")])],1)],1),t._v(\" \"),a(\"b-row\",{staticClass:\"ml-3 mt-3 mr-3\"},[a(\"b-col\",{attrs:{md:\"12\"}},[t.error?a(\"b-alert\",{attrs:{show:\"\",variant:\"alert alert-card alert-danger\",dismissible:\"\"}},[a(\"strong\",{staticClass:\"text-capitalize\"},[t._v(\"Error!\")]),t._v(\" The Input is not valid.\\n                \")]):t._e()],1)],1)],1)],1)])])]),t._v(\" \"),a(\"div\",{staticClass:\"row\"},[a(\"div\",{staticClass:\"col-md-12\"},[a(\"div\",{staticClass:\"card mb-30\"},[a(\"div\",{staticClass:\"card-body p-0\"},[a(\"AgGridVue\",{staticClass:\"ag-theme-alpine\",attrs:{id:\"gridModel\",defaultColDef:t.defaultColDef,columnDefs:t.columnDefs,rowSelection:t.rowSelection,rowData:t.rowData,gridOptions:t.gridOptions,suppressRowClickSelection:!0,pagination:!0,paginationPageSize:t.paginationPageSize,getContextMenuItems:t.getContextMenu,domLayout:t.domLayout,modules:t.modules},on:{cellValueChanged:t.updateModelGrid}}),t._v(\" \"),a(\"div\",{staticClass:\"ml-3 mr-3 mt-2 mb-2 text-right\"},[t._v(\"\\n              Page Size:\\n              \"),a(\"select\",{attrs:{id:\"page-size\"},on:{change:t.onPageSizeChanged}},[a(\"option\",{attrs:{value:\"10\",selected:\"\"}},[t._v(\"10\")]),t._v(\" \"),a(\"option\",{attrs:{value:\"20\"}},[t._v(\"20\")]),t._v(\" \"),a(\"option\",{attrs:{value:\"50\"}},[t._v(\"50\")]),t._v(\" \"),a(\"option\",{attrs:{value:\"100\"}},[t._v(\"100\")]),t._v(\" \"),a(\"option\",{attrs:{value:\"200\"}},[t._v(\"200\")])]),t._v(\" \"),a(\"b-button\",{staticClass:\"ml-3\",attrs:{size:\"sm\",variant:\"outline-success\"},on:{click:t.onBtExport}},[t._v(\"Export Excel\")])],1)],1)])])]),t._v(\" \"),a(\"b-row\",{staticClass:\"ml-1 mr-3 mb-4\"},[a(\"b-button\",{staticClass:\"mr-3\",attrs:{variant:\"primary\"},on:{click:t.saveState}},[t._v(\"Save Grid State\")]),t._v(\" \"),a(\"b-button\",{attrs:{variant:\"outline-light\"},on:{click:t.restoreState}},[t._v(\"Reset Grid State\")])],1)],1)},r=[],n=a(\"2909\"),o=a(\"53ca\"),s=(a(\"96cf\"),a(\"1da1\")),l=(a(\"c5f6\"),a(\"5ce5\")),u=a(\"228c\"),c=a(\"9974\"),d={metaInfo:{title:\"Model\"},components:{AgGridVue:u[\"AgGridVue\"]},data:function(){return{gridOptions:null,gridApi:null,columnApi:null,columnDefs:null,rowData:null,rowSelection:null,defaultColDef:null,frameworkComponents:null,domLayout:null,modules:c[\"a\"],suppliers:[],manufacturers:[],models:[],show:!1,MName:null,MStatus:null,Manufacturer:null,Supplier:null,date:null,next:null,error:!1,updateStatus:!1,updateId:null,optionSupplier:[],optionManufacturer:[],optionStatuses:[{value:\"Active\",text:\"Active\"},{value:\"Inactive\",text:\"Inactive\"}]}},beforeMount:function(){this.gridOptions={},this.columnDefs=[{headerName:\"Model Name\",field:\"txtModelName\",filter:\"agTextColumnFilter\"},{headerName:\"Model Status\",field:\"txtModelStatus\",filter:\"agTextColumnFilter\",cellEditor:\"agRichSelectCellEditor\",cellEditorParams:{cellHeight:50,values:[\"Active\",\"Inactive\"]}},{headerName:\"Manufacturer\",field:\"idManufacturer.txtManufacturerName\",filter:\"agTextColumnFilter\",editable:!1},{headerName:\"Supplier\",field:\"idSupplier.txtSupplierName\",filter:\"agTextColumnFilter\",editable:!1}],this.defaultColDef={flex:1,editable:!0,resizable:!0,sortable:!0,filter:!0,floatingFilter:!0},this.rowSelection=\"single\",this.domLayout=\"autoHeight\",this.paginationPageSize=10},mounted:function(){window.ModelColState?this.gridOptions.columnApi.setColumnState(window.ModelColState):(this.gridApi=this.gridOptions.api,this.gridColumnApi=this.gridOptions.columnApi,this.gridApi.sizeColumnsToFit())},computed:{disabled:function(){return!this.MName||(!this.MStatus||(!this.Manufacturer||!this.Supplier))}},methods:{saveState:function(){window.ModelColState=this.gridOptions.columnApi.getColumnState()},restoreState:function(){window.ModelColState=null},onBtExport:function(){this.gridApi.exportDataAsExcel({})},onPageSizeChanged:function(t){var e=document.getElementById(\"page-size\").value;this.gridApi.paginationSetPageSize(Number(e))},updateModelGrid:function(){var t=Object(s[\"a\"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=\"/api/model/\".concat(e.node.data.id,\"/\"),console.log(e.node.data.id),t.prev=2,t.next=5,Object(l[\"a\"])(a,\"PATCH\",{txtModelName:e.node.data.txtModelName,txtModelStatus:e.node.data.txtModelStatus});case 5:t.next=10;break;case 7:t.prev=7,t.t0=t[\"catch\"](2),console.log(t.t0);case 10:case\"end\":return t.stop()}}),t,null,[[2,7]])})));function e(e){return t.apply(this,arguments)}return e}(),editModelMenu:function(t){var e=t.node.data;this.MName=e.txtModelName,this.MStatus=e.txtModelStatus,this.Manufacturer=e.idManufacturer,this.Supplier=e.idSupplier,this.updateStatus=!0,this.updateId=e.id,this.$root.$emit(\"bv::toggle::collapse\",\"collapse-e\"),document.documentElement.scrollTop=0},updateModel:function(){var t=Object(s[\"a\"])(regeneratorRuntime.mark((function t(){var e,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return\"object\"==Object(o[\"a\"])(this.Manufacturer)?this.Manufacturer=this.Manufacturer.id:this.Manufacturer=this.Manufacturer,\"object\"==Object(o[\"a\"])(this.Supplier)?this.Supplier=this.Supplier.id:this.Supplier=this.Supplier,e=\"/api/model/\".concat(this.updateId,\"/\"),t.next=5,Object(l[\"a\"])(e,\"PATCH\",{txtModelName:this.MName,txtModelStatus:this.MStatus,idManufacturer:this.Manufacturer,idSupplier:this.Supplier}).then((function(t){\"ERROR\"!=t?(a.emptyInput(),a.getModels()):a.error=!0}));case 5:this.error&&(this.error=!1);case 6:case\"end\":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getManufacturer:function(){var t=this;if(!this.error){this.manufacturers=[];var e=\"/api/manufacturer/\";Object(l[\"a\"])(e).then((function(e){var a;(a=t.manufacturers).push.apply(a,Object(n[\"a\"])(e.results)),t.optionManufacturer=t.manufacturers}))}},getSupplier:function(){var t=this;if(!this.error){this.suppliers=[];var e=\"/api/supplier/\";Object(l[\"a\"])(e).then((function(e){var a;(a=t.suppliers).push.apply(a,Object(n[\"a\"])(e.results)),t.optionSupplier=t.suppliers}))}},getModels:function(){var t=this;if(!this.error){this.models=[];var e=\"/api/model-list/\";Object(l[\"a\"])(e).then((function(e){var a;(a=t.models).push.apply(a,Object(n[\"a\"])(e.results)),t.rowData=t.models}))}},addModel:function(){var t=this,e=\"/api/model/\";Object(l[\"a\"])(e,\"POST\",{txtModelName:this.MName,txtModelStatus:this.MStatus,idManufacturer:this.Manufacturer,idSupplier:this.Supplier}).then((function(e){\"ERROR\"!=e?t.getModels():t.error=!0})),this.emptyInput(),this.error&&(this.error=!1)},openModal:function(t){var e=this;this.$bvModal.msgBoxConfirm(\"Are you sure you want to delete the selected Model? => \"+t.node.data.txtModelName,{title:\"Please Confirm\",size:\"m\",buttonSize:\"sm\",okVariant:\"danger\",okTitle:\"YES\",cancelTitle:\"NO\",footerClass:\"p-2\",hideHeaderClose:!1,centered:!0}).then((function(a){a&&e.deleteModel(t)}))},deleteModel:function(){var t=Object(s[\"a\"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=\"/api/model/\".concat(params.node.data.id,\"/\"),t.prev=1,t.next=4,Object(l[\"a\"])(e,\"DELETE\");case 4:this.getModels(),t.next=10;break;case 7:t.prev=7,t.t0=t[\"catch\"](1),console.log(t.t0);case 10:case\"end\":return t.stop()}}),t,this,[[1,7]])})));function e(){return t.apply(this,arguments)}return e}(),emptyInput:function(){this.MName=\"\",this.MStatus=[],this.Manufacturer=[],this.Supplier=[],this.$root.$emit(\"bv::toggle::collapse\",\"collapse-e\")},getDateToday:function(){var t=new Date;this.date=t.getDate()+\" / \"+(t.getMonth()+1)+\" / \"+t.getFullYear()},getContextMenu:function(t){var e=this,a=[{name:\"Edit Model\",action:function(){return e.editModelMenu(t)}},\"separator\",{name:\"Delete Model\",action:function(){return e.openModal(t)}},\"export\"];return a}},created:function(){this.getManufacturer(),this.getSupplier(),this.getModels(),this.getDateToday()}},p=d,m=(a(\"c712\"),a(\"2877\")),f=Object(m[\"a\"])(p,i,r,!1,null,null,null);e[\"default\"]=f.exports}}]);","extractedComments":[]}