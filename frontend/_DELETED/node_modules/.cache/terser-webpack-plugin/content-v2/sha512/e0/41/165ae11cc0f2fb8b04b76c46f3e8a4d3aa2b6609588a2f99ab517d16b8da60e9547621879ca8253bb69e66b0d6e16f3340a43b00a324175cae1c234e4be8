{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-afc48324\"],{\"07aa\":function(t,e,i){},7748:function(t,e,i){\"use strict\";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"div\",{staticClass:\"main-content\"},[i(\"breadcumb\",{attrs:{page:\"Templates\",folder:\"Inspection\"}}),t._v(\" \"),i(\"b-row\",[i(\"b-col\",{attrs:{lg:\"6\",md:\"6\",sm:\"12\"}},[i(\"b-card\",{staticClass:\"card-icon-bg card-icon-bg-primary o-hidden mb-30 text-center\"},[i(\"i\",{staticClass:\"i-File\"}),t._v(\" \"),i(\"div\",{staticClass:\"content\"},[i(\"p\",{staticClass:\"text-muted mt-2 mb-0\"},[t._v(\"Templates\")]),t._v(\" \"),i(\"p\",{staticClass:\"inline text-primary text-24 line-height-1 mb-2\"},[t._v(t._s(this.templates.length))])])])],1),t._v(\" \"),i(\"b-col\",{attrs:{lg:\"6\",md:\"6\",sm:\"12\"}},[i(\"b-card\",{staticClass:\"card-icon-bg card-icon-bg-primary o-hidden mb-30 text-center\"},[i(\"i\",{staticClass:\"i-Calendar\"}),t._v(\" \"),i(\"div\",{staticClass:\"content\"},[i(\"p\",{staticClass:\"text-muted mt-2 mb-0\"},[t._v(\"Date\")]),t._v(\" \"),i(\"p\",{staticClass:\"text-primary text-24 line-height-1 mb-2\"},[i(\"nobr\",[t._v(t._s(this.date))])],1)])])],1)],1),t._v(\" \"),i(\"div\",{staticClass:\"row\"},[i(\"div\",{staticClass:\"col-md-12\"},[i(\"div\",{staticClass:\"card mb-30\"},[i(\"div\",{staticClass:\"card-body p-0 mb-3\"},[i(\"b-row\",{staticClass:\"ml-3\"},[i(\"i\",{staticClass:\"nav-icon i-Add mt-3\",staticStyle:{\"font-size\":\"20px\"},attrs:{id:\"new-template-section\"},on:{click:function(e){return t.emptyInput(\"add\")}}}),t._v(\" \"),i(\"h5\",{staticClass:\"card-title border-bottom p-3 mb-2\"},[t._v(\"New Template\")])]),t._v(\" \"),i(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.show,expression:\"show\"}],staticClass:\"ml-3 mr-3\"},[i(\"b-form\",[i(\"b-row\",{staticClass:\"ml-3 mr-3 mt-3\"},[i(\"b-col\",{attrs:{md:\"12\"}},[i(\"b-form-input\",{attrs:{id:\"input-1\",type:\"text\",required:\"\",placeholder:\"Template Name\"},model:{value:t.TempName,callback:function(e){t.TempName=e},expression:\"TempName\"}})],1)],1),t._v(\" \"),i(\"b-row\",{staticClass:\"ml-3 mr-3 mt-3\"},[t.updateStatus?i(\"b-col\",{attrs:{md:\"12\"}},[i(\"multiselect\",{attrs:{\"tag-placeholder\":\"Choose Inspection Type\",placeholder:\"Search inspection type\",label:\"txtInspectionType\",\"track-by\":\"id\",options:t.optionInspectionTypes,multiple:!1,taggable:!1,\"close-on-select\":!0,searchable:!0,\"open-direction\":\"bottom\"},model:{value:t.selectedInspectionType,callback:function(e){t.selectedInspectionType=e},expression:\"selectedInspectionType\"}})],1):t._e(),t._v(\" \"),t.updateStatus?t._e():i(\"b-col\",{attrs:{md:\"6\"}},[i(\"multiselect\",{attrs:{\"tag-placeholder\":\"Choose Inspection Type\",placeholder:\"Search inspection type\",label:\"txtInspectionType\",\"track-by\":\"id\",options:t.optionInspectionTypes,multiple:!1,taggable:!1,\"close-on-select\":!0,searchable:!0,\"open-direction\":\"bottom\"},model:{value:t.selectedInspectionType,callback:function(e){t.selectedInspectionType=e},expression:\"selectedInspectionType\"}})],1),t._v(\" \"),t.updateStatus?t._e():i(\"b-col\",{attrs:{md:\"6\"}},[i(\"multiselect\",{attrs:{\"tag-placeholder\":\"Choose Item Type\",placeholder:\"Search item type\",label:\"txtItemType\",\"track-by\":\"id\",options:t.optionItemTypes,multiple:!0,taggable:!1,\"close-on-select\":!1,searchable:!0,\"open-direction\":\"bottom\"},on:{input:function(e){return t.onChange(e)},remove:function(e){return t.onChange(e)}},model:{value:t.selectedItemTypes,callback:function(e){t.selectedItemTypes=e},expression:\"selectedItemTypes\"}})],1)],1),t._v(\" \"),\"\"!=t.selectedItemTypes?i(\"div\",t._l(t.filteredAttributes,(function(e){return i(\"b-row\",{key:e.id,staticClass:\"ml-5 mr-5 mt-3 mb-3\",attrs:{md:\"12\"}},[i(\"h5\",{staticClass:\"mb-1\"},[t._v(t._s(e.type))]),t._v(\" \"),t._l(e.attributes,(function(e){return i(\"b-col\",{key:e.id,attrs:{md:\"12\"}},[i(\"b-form-checkbox-group\",{attrs:{options:e,multiple:\"\",\"value-field\":\"id\",\"text-field\":\"txtNameAttribute\"},model:{value:t.selectedAttributes,callback:function(e){t.selectedAttributes=e},expression:\"selectedAttributes\"}})],1)}))],2)})),1):t._e(),t._v(\" \"),i(\"b-row\",{staticClass:\"ml-3 mt-5 mr-3\"},[t.updateStatus?t.updateStatus?i(\"b-col\",{attrs:{md:\"6\"}},[i(\"b-button\",{attrs:{block:\"\",variant:\"outline-info\"},on:{click:t.emptyInput}},[t._v(\"Cancel\")])],1):t._e():i(\"b-col\",{attrs:{md:\"6\"}},[i(\"b-button\",{attrs:{block:\"\",variant:\"outline-danger\"},on:{click:t.emptyInput}},[t._v(\"Delete Input\")])],1),t._v(\" \"),t.updateStatus?t.updateStatus?i(\"b-col\",{attrs:{md:\"6\"}},[i(\"b-button\",{attrs:{block:\"\",variant:\"warning\",disabled:t.disabled},on:{click:t.updateTemplate}},[t._v(\"Update Template\")])],1):t._e():i(\"b-col\",{attrs:{md:\"6\"}},[i(\"b-button\",{attrs:{block:\"\",variant:\"success\",disabled:t.disabled},on:{click:t.addTemplate}},[t._v(\"Add Template\")])],1)],1),t._v(\" \"),i(\"b-row\",{staticClass:\"ml-3 mr-3\"},[i(\"b-col\",{staticClass:\"mt-3\",attrs:{md:\"12\"}},[t.error?i(\"b-alert\",{attrs:{show:\"\",variant:\"alert alert-card alert-danger\",dismissible:\"\"}},[i(\"strong\",{staticClass:\"text-capitalize\"},[t._v(\"Error!\")]),t._v(\" The Input is not valid.\\n                  \")]):t._e()],1)],1)],1)],1)],1)])])]),t._v(\" \"),t.show1?i(\"div\",{staticClass:\"row\"},[i(\"div\",{staticClass:\"col-md-12\"},[i(\"div\",{staticClass:\"card mb-30\"},[i(\"div\",{staticClass:\"card-body p-0 mb-3\"},[i(\"b-row\",{staticClass:\"ml-3\"},[i(\"i\",{staticClass:\"nav-icon i-Add mt-3\",staticStyle:{\"font-size\":\"20px\"}}),t._v(\" \"),i(\"h5\",{staticClass:\"card-title border-bottom p-3 mb-2\"},[t._v(\"Create Inspection\")])]),t._v(\" \"),i(\"div\",{staticClass:\"ml-3 mr-3\"},[i(\"b-form\",{on:{submit:function(e){return e.preventDefault(),t.$bvModal.show(\"modal-inspection\")}}},[i(\"b-row\",{staticClass:\"ml-3 mr-3 mt-3\"},[i(\"b-col\",{attrs:{md:\"4\"}},[i(\"b-form-group\",{attrs:{label:\"Name:\",\"label-size\":\"sm\"}},[i(\"b-form-input\",{attrs:{type:\"text\",required:\"\",disabled:!0},model:{value:t.selInspectionName,callback:function(e){t.selInspectionName=e},expression:\"selInspectionName\"}})],1)],1),t._v(\" \"),i(\"b-col\",{attrs:{md:\"4\"}},[i(\"b-form-group\",{attrs:{label:\"Type:\",\"label-size\":\"sm\"}},[i(\"b-form-input\",{attrs:{type:\"text\",required:\"\",disabled:!0},model:{value:t.selInspectionType,callback:function(e){t.selInspectionType=e},expression:\"selInspectionType\"}})],1)],1),t._v(\" \"),i(\"b-col\",{attrs:{md:\"4\"}},[i(\"b-form-group\",{attrs:{label:\"Initial:\",\"label-size\":\"sm\"}},[i(\"b-form-input\",{attrs:{type:\"text\",required:\"\",disabled:!0},model:{value:t.selInspectionInitial,callback:function(e){t.selInspectionInitial=e},expression:\"selInspectionInitial\"}})],1)],1)],1),t._v(\" \"),i(\"b-row\",{staticClass:\"ml-3 mr-3 mt-3\"},[i(\"b-col\",{attrs:{md:\"12\"}},[i(\"label\",{staticClass:\"typo__label\"},[t._v(\"Order Device:\")]),t._v(\" \"),i(\"multiselect\",{attrs:{placeholder:\"Choose Order Device\",\"track-by\":\"id\",options:t.orderDevices,multiple:!1,taggable:!0,\"close-on-select\":!0,searchable:!0,\"open-direction\":\"bottom\",\"custom-label\":t.getOrderDeviceLabel},model:{value:t.selOrderDevice,callback:function(e){t.selOrderDevice=e},expression:\"selOrderDevice\"}})],1)],1),t._v(\" \"),i(\"b-row\",{staticClass:\"ml-3 mr-3 mt-3\"},[i(\"b-col\",{attrs:{md:\"12\"}},[i(\"label\",{staticClass:\"typo__label\"},[t._v(\"Order Items:\")]),t._v(\" \"),i(\"multiselect\",{attrs:{placeholder:\"Choose Order Item\",\"track-by\":\"id\",options:t.orderItems,multiple:!0,taggable:!0,\"close-on-select\":!1,searchable:!0,\"open-direction\":\"bottom\",\"custom-label\":t.getOrderItemLabel},model:{value:t.selOrderItems,callback:function(e){t.selOrderItems=e},expression:\"selOrderItems\"}})],1)],1),t._v(\" \"),i(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.selOrderItems.length>=1,expression:\"selOrderItems.length >= 1\"}],staticClass:\"ml-3 mr-3 mt-3\"},[i(\"h5\",{staticClass:\"mt-4 ml-4 mr-3\"},[t._v(\"Amount of Samples\")]),t._v(\" \"),t._l(t.selOrderItems,(function(e){return i(\"b-row\",{key:e.id,staticClass:\"ml-3 mr-3 mt-2\"},[i(\"b-input-group\",{staticClass:\"mt-2 ml-3 mr-3\",attrs:{prepend:e.idOrder.txtOrderNumber+\"  |  \"+e.idItem.txtDescription+\" - \"+e.idItem.txtArticleNumber}},[i(\"b-form-input\",{attrs:{type:\"number\",min:\"1\",required:\"\"},model:{value:e.testAmount,callback:function(i){t.$set(e,\"testAmount\",i)},expression:\"item.testAmount\"}})],1)],1)}))],2),t._v(\" \"),\"\"!=t.selectedItemTypes?i(\"div\",t._l(t.filteredAttributes,(function(e){return i(\"b-row\",{key:e.id,staticClass:\"ml-5 mr-5 mt-3 mb-3\",attrs:{md:\"12\"}},[i(\"h5\",{staticClass:\"mb-1\"},[t._v(t._s(e.type))]),t._v(\" \"),t._l(e.attributes,(function(e){return i(\"b-col\",{key:e.id,attrs:{md:\"12\"}},[i(\"b-form-checkbox-group\",{attrs:{options:e,multiple:\"\",\"value-field\":\"id\",\"text-field\":\"txtNameAttribute\"},model:{value:t.selectedAttributes,callback:function(e){t.selectedAttributes=e},expression:\"selectedAttributes\"}})],1)}))],2)})),1):t._e(),t._v(\" \"),i(\"b-row\",{staticClass:\"ml-3 mt-5 mr-3\"},[i(\"b-col\",{attrs:{md:\"6\"}},[i(\"b-button\",{attrs:{block:\"\",variant:\"outline-info\"},on:{click:t.emptyInspectionInput}},[t._v(\"Cancel\")])],1),t._v(\" \"),i(\"b-col\",{attrs:{md:\"6\"}},[i(\"b-button\",{attrs:{type:\"submit\",block:\"\",variant:\"success\",disabled:t.selOrderItems.length<=0}},[t._v(\"Create Inspection\")])],1)],1),t._v(\" \"),i(\"b-row\",{staticClass:\"ml-3 mr-3\"},[i(\"b-col\",{staticClass:\"mt-3\",attrs:{md:\"12\"}},[t.error?i(\"b-alert\",{attrs:{show:\"\",variant:\"alert alert-card alert-danger\",dismissible:\"\"}},[i(\"strong\",{staticClass:\"text-capitalize\"},[t._v(\"Error!\")]),t._v(\" The Input is not valid.\\n                  \")]):t._e()],1)],1)],1)],1)],1)])])]):t._e(),t._v(\" \"),i(\"b-modal\",{attrs:{id:\"modal-inspection\",\"hide-footer\":\"\",title:\"Please Confirm\"}},[i(\"div\",{staticClass:\"d-block text-center mt-3 mb-4\"},[i(\"p\",[t._v(\"Are you sure you want to create the Inspection? Please make sure you have checked your selected Items and Device as well as the chosen Inspection Template.\")])]),t._v(\" \"),i(\"b-row\",{staticClass:\"mt-3\"},[i(\"b-col\",{attrs:{md:\"6\"}},[i(\"b-button\",{attrs:{size:\"sm\",variant:\"danger\",block:\"\"},on:{click:function(e){t.emptyInspectionInput(),t.$bvModal.hide(\"modal-inspection\")}}},[t._v(\"No, cancel it!\")])],1),t._v(\" \"),i(\"b-col\",{attrs:{md:\"6\"}},[i(\"b-button\",{attrs:{size:\"sm\",variant:\"success\",block:\"\"},on:{click:function(e){t.addInspection(),t.$bvModal.hide(\"modal-inspection\")}}},[t._v(\"Yes, create the inspection.\")])],1)],1)],1),t._v(\" \"),i(\"div\",{staticClass:\"row\"},[i(\"div\",{staticClass:\"col-md-12\"},[i(\"div\",{staticClass:\"card mb-30\"},[i(\"div\",{staticClass:\"card-body p-0\"},[i(\"AgGridVue\",{staticClass:\"ag-theme-alpine\",attrs:{id:\"gridItems\",defaultColDef:t.defaultColDef,columnDefs:t.columnDefs,rowSelection:t.rowSelection,rowData:t.rowData,gridOptions:t.gridOptions,suppressRowClickSelection:!0,excelStyles:t.excelStyles,masterDetail:!0,detailCellRendererParams:t.detailCellRendererParams,getContextMenuItems:t.getContextMenu,pagination:!0,paginationPageSize:10,domLayout:t.domLayout,modules:t.modules},on:{\"row-selected\":t.onRowSelected}}),t._v(\" \"),i(\"div\",{staticClass:\"ml-3 mr-3 mt-2 mb-2 text-right\"},[t._v(\"\\n              Page Size:\\n              \"),i(\"select\",{attrs:{id:\"page-size\"},on:{change:t.onPageSizeChanged}},[i(\"option\",{attrs:{value:\"10\",selected:\"\"}},[t._v(\"10\")]),t._v(\" \"),i(\"option\",{attrs:{value:\"20\"}},[t._v(\"20\")]),t._v(\" \"),i(\"option\",{attrs:{value:\"50\"}},[t._v(\"50\")]),t._v(\" \"),i(\"option\",{attrs:{value:\"100\"}},[t._v(\"100\")]),t._v(\" \"),i(\"option\",{attrs:{value:\"200\"}},[t._v(\"200\")])]),t._v(\" \"),i(\"b-button\",{staticClass:\"ml-3\",attrs:{size:\"sm\",variant:\"outline-success\"},on:{click:t.onBtExport}},[t._v(\"Export Excel\")])],1)],1)])])])],1)},n=[],a=(i(\"55dd\"),i(\"28a5\"),i(\"7514\"),i(\"2909\")),r=(i(\"96cf\"),i(\"1da1\")),l=(i(\"c5f6\"),i(\"5ce5\")),o=i(\"228c\"),c=i(\"9974\"),p={metaInfo:{title:\"Template\"},components:{AgGridVue:o[\"AgGridVue\"]},data:function(){return{gridOptions:null,gridApi:null,columnApi:null,columnDefs:null,rowData:null,rowDataMod:null,rowSelection:null,defaultColDef:null,frameworkComponents:null,detailCellRendererParams:null,domLayout:null,excelStyles:null,modules:c[\"a\"],orderItems:[],orderDevices:[],orderItemAttributes:[],selInspectionName:null,selInspectionType:null,selInspectionInitial:null,selInspectionTemplate:null,selOrderItems:[],selOrderDevice:[],templateAttributes:[],tempAtts:[],orderAtts:[],inspections:[],inspectNumber:null,templates:[],attributes:[],filteredAttributes:[],selectedAttributes:[],selectedInspectionType:[],selectedItemTypes:[],show:!1,show1:!1,show2:!1,TempName:null,date:null,error:!1,updateStatus:!1,updateId:null,optionItemTypes:[],optionInspectionTypes:[]}},beforeMount:function(){this.gridOptions={},this.columnDefs=[{headerName:\"Template Name\",field:\"txtInspectionName\",filter:\"agTextColumnFilter\",cellRenderer:\"agGroupCellRenderer\",checkboxSelection:!0},{headerName:\"Template Type\",field:\"idInspectionType.txtInspectionType\",filter:\"agTextColumnFilter\",cellEditor:\"agRichSelectCellEditor\"},{headerName:\"Template Initial\",field:\"idInspectionType.txtInspectionInitial\",filter:\"agTextColumnFilter\",cellEditor:\"agRichSelectCellEditor\"}],this.defaultColDef={flex:1,editable:!1,resizable:!0,sortable:!0,filter:!0,floatingFilter:!0},this.detailCellRendererParams={detailGridOptions:{rowSelection:\"single\",suppressRowClickSelection:!0,enableRangeSelection:!0,pagination:!0,paginationAutoPageSize:20,columnDefs:[{headerName:\"Item Type\",field:\"idItemType.txtItemType\"},{headerName:\"Attribute Key\",field:\"txtKeyAttribute\"},{headerName:\"Attribute Name\",field:\"txtNameAttribute\"},{headerName:\"Default Value\",field:\"txtValueDefault\"},{headerName:\"Value Type\",field:\"txtValueType\"},{headerName:\"Parameter\",field:\"txtParameter\"}],defaultColDef:{flex:1,editable:!1,resizable:!0}},getDetailRowData:function(t){t.successCallback(t.data.idInspectionTemplateAttribute)}},this.rowSelection=\"single\",this.domLayout=\"autoHeight\",this.paginationPageSize=10},mounted:function(){window.InspectionTemplateColState?this.gridOptions.columnApi.setColumnState(window.InspectionTemplateColState):this.gridApi=this.gridOptions.api,this.gridColumnApi=this.gridOptions.columnApi},computed:{disabled:function(){return!this.TempName||(!this.selectedInspectionType||!this.selectedItemTypes)}},methods:{onBtExport:function(){this.gridApi.exportDataAsExcel({})},onPageSizeChanged:function(t){var e=document.getElementById(\"page-size\").value;this.gridApi.paginationSetPageSize(Number(e))},saveState:function(){window.InspectionTemplateColState=this.gridOptions.columnApi.getColumnState()},restoreState:function(){window.InspectionTemplateColState=null},onSubmit:function(){console.log(\"inspection created!\")},onChange:function(t){var e=this;this.selectedAttributes=null,this.filteredAttributes=[];for(var i=function(i){var s=t[i],n={type:null,attributes:[]};n[\"type\"]=s.txtItemType,n[\"attributes\"].push(e.attributes.filter((function(t){return t.idItemType.txtItemType==s.txtItemType}))),e.filteredAttributes[i]=n},s=0;s<t.length;s++)i(s)},onRowSelected:function(t){this.getOrderItems(),this.getOrderDevices(),this.selInspectionName=t.node.data.txtInspectionName,this.selInspectionType=t.node.data.idInspectionType.txtInspectionType,this.selInspectionInitial=t.node.data.idInspectionType,this.selInspectionTemplate=t.node.data.id,this.getSelectedTemplateAttributes(t.node.data.id),this.getInspectionTemplateAttributes(),this.getInspectionNumber(t.node.data.idInspectionType.txtInspectionInitial),this.show1=!this.show1,document.documentElement.scrollTop=0},addInspection:function(){var t=this,e=new Date,i=(e.getFullYear(),e.getMonth(),e.getDate(),\"/api/inspection/\");Object(l[\"a\"])(i,\"POST\",{idOrderDevice:this.selOrderDevice.id,txtInspectionStatus:\"Work In Progress\",idInspectionType:this.selInspectionInitial,txtInspectionNumber:this.inspectNumber}).then((function(e){if(\"ERROR\"!=e){for(var i=0;i<t.selOrderItems.length;i++)for(var s=0;s<t.selOrderItems[i].testAmount;s++)t.addSample(e.id,t.selOrderItems[i]);t.emptyInspectionInput(),localStorage.setItem(\"InspectionID\",e.id),t.$router.push(\"inspection/\")}})).catch((function(t){return console.log(t)}))},addSample:function(t,e){var i=this,s=\"/api/sample/\";Object(l[\"a\"])(s,\"POST\",{idInspection:t,idOrderItem:e.id,txtSampleStatus:\"Not Approved\"}).then((function(t){if(\"ERROR\"!=t){var s=i.tempAtts.filter((function(t){return-1!=this.indexOf(t.id)}),i.templateAttributes),n=s.filter((function(t){return t.idItemType===e.idItem.idItemType}));i.getSelectedOrderItemAttributes(e,n),i.addSampleAttribute(t.id,n)}})).catch((function(t){return console.log(t)}))},addSampleAttribute:function(t,e){for(var i=\"/api/sample-attribute/\",s=0;s<e.length;s++)Object(l[\"a\"])(i,\"POST\",{txtKeyAttribute:e[s].txtKeyAttribute,txtNameAttribute:e[s].txtNameAttribute,txtValueAttribute:e[s].txtValueDefault,txtValueType:e[s].txtValueType,txtParameter:e[s].txtParameter,txtValueMin:e[s].txtValueMin,txtValueMax:e[s].txtValueMax,txtValueTolerance:e[s].txtValueTolerance,idSample:t})},getOrderItemLabel:function(t){return\"\".concat(t.idOrder.txtOrderNumber,\"  |  \").concat(t.idItem.txtDescription,\" - \").concat(t.idItem.txtArticleNumber)},getOrderDeviceLabel:function(t){return\"\".concat(t.idOrder.txtOrderNumber,\"  |  \").concat(t.idDevice.idModel.txtModelName,\" - \").concat(t.idDevice.txtSerialNumber)},addTemplate:function(){var t=this,e=\"/api/inspection-template/\";Object(l[\"a\"])(e,\"POST\",{txtInspectionName:this.TempName,idInspectionType:this.selectedInspectionType.id,idInspectionTemplateAttribute:this.selectedAttributes}).then((function(e){e&&(t.getTemplates(),t.emptyInput())})).catch((function(t){return console.log(t)}))},editTemplateMenu:function(t){this.emptyInput();var e=t.node.data;this.TempName=e.txtInspectionName,this.selectedInspectionType=e.idInspectionType,this.updateStatus=!0,this.updateId=e.id,this.show=!0,document.documentElement.scrollTop=0},updateTemplate:function(){var t=Object(r[\"a\"])(regeneratorRuntime.mark((function t(){var e,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=\"/api/inspection-template/\".concat(this.updateId,\"/\"),t.next=3,Object(l[\"a\"])(e,\"PATCH\",{txtInspectionName:this.TempName,idInspectionType:this.selectedInspectionType.id}).then((function(t){\"ERROR\"!=t&&(i.emptyInput(),i.getTemplates())})).catch((function(t){return console.log(t)}));case 3:case\"end\":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),openModal:function(t){var e=this;this.$bvModal.msgBoxConfirm(\"Are you sure you want to delete the selected Template?\",{title:\"Please Confirm\",size:\"m\",buttonSize:\"sm\",okVariant:\"danger\",okTitle:\"YES\",cancelTitle:\"NO\",footerClass:\"p-2\",hideHeaderClose:!1,centered:!0}).then((function(i){i&&e.deleteTemplate(t)})).catch((function(t){return console.log(t)}))},openModalInspection:function(t){var e=this;this.$bvModal.msgBoxConfirm(\"Are you sure you want to create the Inspection? Please make sure you have checked your selected Items as well as the inspection type and Device.\",{title:\"Please Confirm\",size:\"m\",buttonSize:\"sm\",okVariant:\"danger\",okTitle:\"Yes, create the Inspection.\",cancelTitle:\"No, cancel it!\",footerClass:\"p-2\",hideHeaderClose:!1,centered:!0}).then((function(t){t?console.log(\"Inspection created\"):(console.log(\"Inspection cancelled\"),e.emptyInspectionInput())})).catch((function(t){return console.log(t)}))},deleteTemplate:function(){var t=Object(r[\"a\"])(regeneratorRuntime.mark((function t(e){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=\"/api/inspection-template/\".concat(e.node.data.id,\"/\"),t.prev=1,t.next=4,Object(l[\"a\"])(i,\"DELETE\");case 4:this.getTemplates(),t.next=10;break;case 7:t.prev=7,t.t0=t[\"catch\"](1),console.log(t.t0);case 10:case\"end\":return t.stop()}}),t,this,[[1,7]])})));function e(e){return t.apply(this,arguments)}return e}(),emptyInput:function(t){this.selectedInspectionType=this.selectedItemTypes=this.ParameterTags=[],this.TempName=null,this.selectedAttributes=null,\"add\"!=t?this.show=!1:(this.updateStatus=!1,this.show=!this.show)},emptyInspectionInput:function(){this.show1=!1,this.selInspection=null,this.selOrderItems=this.selOrderDevice=[],this.getTemplates()},getTemplates:function(){var t=this;if(!this.error){this.templates=[];var e=\"/api/inspection-template-list/\";Object(l[\"a\"])(e).then((function(e){var i;(i=t.templates).push.apply(i,Object(a[\"a\"])(e.results)),t.rowData=t.templates})).catch((function(t){return console.log(t)}))}},getAttributes:function(){var t=this;if(!this.error){this.attributes=[];var e=\"/api/inspection-template-attribute-list/\";Object(l[\"a\"])(e).then((function(e){var i;(i=t.attributes).push.apply(i,Object(a[\"a\"])(e.results))})).catch((function(t){return console.log(t)}))}},showTempAtts:function(){},getSelectedTemplateAttributes:function(t){var e=this,i=\"/api/inspection-template/\".concat(t,\"/\");Object(l[\"a\"])(i).then((function(t){var i;(i=e.templateAttributes).push.apply(i,Object(a[\"a\"])(t.idInspectionTemplateAttribute))})).catch((function(t){return console.log(t)}))},getInspectionTemplateAttributes:function(){var t=this,e=\"/api/inspection-template-attribute/\";Object(l[\"a\"])(e).then((function(e){var i;(i=t.tempAtts).push.apply(i,Object(a[\"a\"])(e.results))})).catch((function(t){return console.log(t)}))},getSelectedOrderItemAttributes:function(t,e){var i=this;if(this.orderAtts=this.orderItemAttributes.filter((function(e){return e.idOrderItem===t.id})),this.orderAtts.length>=1)e.map((function(t){var e=i.orderAtts.find((function(e){var i=e.txtKeyAttribute;return i===t.txtKeyAttribute}));return void 0!=e?(t.txtValueDefault=e.txtValueAttribute,t.txtParameter=e.txtParameter,t):t}));return e},getItemTypes:function(){var t=this;if(!this.error){this.optionItemTypes=[];var e=\"/api/item-type/\";Object(l[\"a\"])(e).then((function(e){var i;(i=t.optionItemTypes).push.apply(i,Object(a[\"a\"])(e.results))})).catch((function(t){return console.log(t)}))}},getInspectionTypes:function(){var t=this;if(!this.error){this.optionInspectionTypes=[];var e=\"/api/inspection-type/\";Object(l[\"a\"])(e).then((function(e){var i;(i=t.optionInspectionTypes).push.apply(i,Object(a[\"a\"])(e.results))})).catch((function(t){return console.log(t)}))}},getOrderItems:function(){var t=this;this.orderItems=[];var e=\"/api/order-item-list/\";Object(l[\"a\"])(e).then((function(e){var i;(i=t.orderItems).push.apply(i,Object(a[\"a\"])(e.results))})).catch((function(t){return console.log(t)}))},getOrderItemAttributes:function(){var t=this;this.orderItemAttributes=[];var e=\"/api/order-item-attribute/\";Object(l[\"a\"])(e).then((function(e){var i;(i=t.orderItemAttributes).push.apply(i,Object(a[\"a\"])(e.results))})).catch((function(t){return console.log(t)}))},getOrderDevices:function(){var t=this;this.orderDevices=[];var e=\"/api/order-device-list/\";Object(l[\"a\"])(e).then((function(e){var i;(i=t.orderDevices).push.apply(i,Object(a[\"a\"])(e.results)),t.orderDevices=t.orderDevices.filter((function(t){return\"Delivered\"===t.txtDeliveryStatus}))})).catch((function(t){return console.log(t)}))},getInspectionNumber:function(t){var e=this,i=\"/api/inspection/\";Object(l[\"a\"])(i).then((function(i){var s;(s=e.inspections).push.apply(s,Object(a[\"a\"])(i.results));for(var n=new Date,r=n.getFullYear(),l=[],o=null,c=0;c<e.inspections.length;c++){var p=e.inspections[c].txtInspectionNumber.split(\"-\"),u={label:p[0],type:p[1],year:p[2],number:p[3]};u.year==r&&l.push(u)}l.sort((function(t,e){var i=t.number,s=e.number;return i<s?-1:i>s?1:0}));for(var d=String(parseInt(l[l.length-1].number)+1),m=d.length;m<4;m++)d=\"0\"+d;o=parseInt(l[l.length-1][2]!=r)?{label:\"IN\",year:r,number:\"0001\",type:t}:{label:\"IN\",year:r,number:d,type:t},e.inspectNumber=o.label+\"-\"+o.type+\"-\"+o.year+\"-\"+o.number})).catch((function(t){return console.log(t)}))},getDateToday:function(){var t=new Date;this.date=t.getDate()+\" / \"+(t.getMonth()+1)+\" / \"+t.getFullYear()},getContextMenu:function(t){var e=this,i=[{name:\"Edit Template\",action:function(){return e.editTemplateMenu(t)}},\"separator\",{name:\"Delete Template\",action:function(){return e.openModal(t)}},\"export\"];return i}},created:function(){this.getTemplates(),this.getAttributes(),this.getDateToday(),this.getInspectionTypes(),this.getItemTypes(),this.getOrderItemAttributes()}},u=p,d=(i(\"d67c\"),i(\"2877\")),m=Object(d[\"a\"])(u,s,n,!1,null,null,null);e[\"default\"]=m.exports},d67c:function(t,e,i){\"use strict\";var s=i(\"07aa\"),n=i.n(s);n.a}}]);","extractedComments":[]}