{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-640fd776\"],{2909:function(e,t,r){\"use strict\";function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function a(e){if(Array.isArray(e))return i(e)}function n(e){if(\"undefined\"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function o(e,t){if(e){if(\"string\"===typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===r&&e.constructor&&(r=e.constructor.name),\"Map\"===r||\"Set\"===r?Array.from(e):\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}function s(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}function l(e){return a(e)||n(e)||o(e)||s()}r.d(t,\"a\",(function(){return l}))},\"5e0c\":function(e,t,r){\"use strict\";var i=r(\"6b24\"),a=r.n(i);a.a},\"689c\":function(e,t,r){\"use strict\";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r(\"div\",{staticClass:\"main-content\"},[r(\"breadcumb\",{attrs:{page:\"List Order Devices\",folder:\"Order\"}}),e._v(\" \"),r(\"b-row\",[r(\"b-col\",{attrs:{lg:\"6\",md:\"6\",sm:\"12\"}},[r(\"b-card\",{staticClass:\"card-icon-bg card-icon-bg-primary o-hidden mb-30 text-center\"},[r(\"i\",{staticClass:\"i-Add-Cart\"}),e._v(\" \"),r(\"div\",{staticClass:\"content\"},[r(\"p\",{staticClass:\"text-muted mt-2 mb-0\"},[e._v(\"Orders\")]),e._v(\" \"),r(\"p\",{staticClass:\"inline text-primary text-24 line-height-1 mb-2\"},[e._v(e._s(this.orders.length))])])])],1),e._v(\" \"),r(\"b-col\",{attrs:{lg:\"6\",md:\"6\",sm:\"12\"}},[r(\"b-card\",{staticClass:\"card-icon-bg card-icon-bg-primary o-hidden mb-30 text-center\"},[r(\"i\",{staticClass:\"i-Calendar\"}),e._v(\" \"),r(\"div\",{staticClass:\"content\"},[r(\"p\",{staticClass:\"text-muted mt-2 mb-0\"},[e._v(\"Date\")]),e._v(\" \"),r(\"p\",{staticClass:\"text-primary text-24 line-height-1 mb-2\"},[r(\"nobr\",[e._v(e._s(this.date))])],1)])])],1)],1),e._v(\" \"),r(\"div\",{staticClass:\"row\"},[r(\"div\",{staticClass:\"col-md-12\"},[r(\"div\",{staticClass:\"card mb-30\"},[r(\"div\",{staticClass:\"card-body p-0\"},[r(\"AgGridVue\",{staticClass:\"ag-theme-alpine\",attrs:{id:\"gridOrders\",defaultColDef:e.defaultColDef,columnDefs:e.columnDefs,rowSelection:e.rowSelection,rowData:e.rowData,gridOptions:e.gridOptions,suppressRowClickSelection:!0,excelStyles:e.excelStyles,pagination:!0,paginationPageSize:e.paginationPageSize,domLayout:e.domLayout,modules:e.modules},on:{\"grid-ready\":e.onGridReady,cellValueChanged:e.cellValueChanged,\"row-selected\":e.onRowSelected}}),e._v(\" \"),r(\"div\",{staticClass:\"ml-3 mr-3 mt-2 mb-2 text-right\"},[e._v(\"\\n              Page Size:\\n              \"),r(\"select\",{attrs:{id:\"page-size\"},on:{change:e.onPageSizeChanged}},[r(\"option\",{attrs:{value:\"10\",selected:\"\"}},[e._v(\"10\")]),e._v(\" \"),r(\"option\",{attrs:{value:\"20\"}},[e._v(\"20\")]),e._v(\" \"),r(\"option\",{attrs:{value:\"50\"}},[e._v(\"50\")]),e._v(\" \"),r(\"option\",{attrs:{value:\"100\"}},[e._v(\"100\")]),e._v(\" \"),r(\"option\",{attrs:{value:\"200\"}},[e._v(\"200\")])]),e._v(\" \"),r(\"b-button\",{staticClass:\"ml-3\",attrs:{size:\"sm\",variant:\"outline-success\"},on:{click:e.onBtExport}},[e._v(\"Export Excel\")])],1)],1)])])]),e._v(\" \"),r(\"b-collapse\",{staticClass:\"ml-1 mr-3 mb-5\",model:{value:e.show,callback:function(t){e.show=t},expression:\"show\"}},[r(\"b-button\",{attrs:{variant:\"outline-danger\"},on:{click:e.openModal}},[e._v(\"Delete Item\")])],1),e._v(\" \"),r(\"b-row\",{staticClass:\"ml-1 mr-3 mb-4\"},[r(\"b-button\",{staticClass:\"mr-3\",attrs:{variant:\"primary\"},on:{click:e.saveState}},[e._v(\"Save Grid State\")]),e._v(\" \"),r(\"b-button\",{attrs:{variant:\"outline-light\"},on:{click:e.restoreState}},[e._v(\"Reset Grid State\")])],1)],1)},a=[],n=r(\"2909\"),o=(r(\"96cf\"),r(\"1da1\")),s=(r(\"c5f6\"),r(\"5ce5\")),l=r(\"228c\"),d=r(\"9974\"),c={metaInfo:{title:\"Device Orders\"},components:{AgGridVue:l[\"AgGridVue\"]},data:function(){return{gridOptions:null,gridApi:null,columnApi:null,columnDefs:null,rowData:null,rowSelection:null,defaultColDef:null,excelStyles:null,frameworkComponents:null,domLayout:null,modules:d[\"a\"],orders:[],show:!1,visible:!1,ONumber:\"\",DatOrder:\"\",DatDelivery:\"\",OType:\"\",date:null,next:null,error:!1}},beforeMount:function(){this.gridOptions={},this.columnDefs=[{headerName:\"Device\",field:\"idDevice.idModel.txtModelName\",filter:\"agTextColumnFilter\",checkboxSelection:!0,editable:!1},{headerName:\"Serial Number\",field:\"idDevice.txtSerialNumber\",filter:\"agTextColumnFilter\",editable:!1},{headerName:\"Amount\",field:\"numOrderAmount\",filter:\"agTextColumnFilter\"},{headerName:\"Order Date\",field:\"datOrder\",filter:\"agTextColumnFilter\"},{headerName:\"Delivery Date\",field:\"datDelivery\",filter:\"agTextColumnFilter\"},{headerName:\"Order Number\",field:\"idOrder.txtOrderNumber\",filter:\"agTextColumnFilter\",editable:!1}],this.defaultColDef={editable:!0,resizable:!0,sortable:!0,filter:!0,floatingFilter:!0},this.rowSelection=\"single\",this.domLayout=\"autoHeight\",this.paginationPageSize=10},mounted:function(){this.gridApi=this.gridOptions.api,this.gridColumnApi=this.gridOptions.columnApi,window.OrderDeviceColState?this.gridOptions.columnApi.setColumnState(window.OrderDeviceColState):this.gridApi=this.gridOptions.api,this.gridColumnApi=this.gridOptions.columnApi,this.gridApi.sizeColumnsToFit()},methods:{saveState:function(){window.OrderDeviceColState=this.gridOptions.columnApi.getColumnState()},restoreState:function(){window.OrderDeviceColState=null},onPageSizeChanged:function(e){var t=document.getElementById(\"page-size\").value;this.gridApi.paginationSetPageSize(Number(t))},cellValueChanged:function(){var e=Object(o[\"a\"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=\"/api/order-device/\".concat(t.node.data.id,\"/\"),e.prev=1,e.next=4,Object(s[\"a\"])(r,\"PATCH\",{datOrder:t.node.data.datOrder,datDelivery:t.node.data.datDelivery,numOrderAmount:t.node.data.numOrderAmount});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e[\"catch\"](1),console.log(e.t0);case 9:case\"end\":return e.stop()}}),e,null,[[1,6]])})));function t(t){return e.apply(this,arguments)}return t}(),onRowSelected:function(e){this.show=!this.show},onGridReady:function(e){},getDeviceOrder:function(){var e=this;if(!this.error){var t=\"/api/order-device-list/\";Object(s[\"a\"])(t).then((function(t){var r;(r=e.orders).push.apply(r,Object(n[\"a\"])(t.results)),e.rowData=e.orders}))}},openModal:function(e){var t=this;this.$bvModal.msgBoxConfirm(\"Are you sure you want to delete the selected Order?\",{title:\"Please Confirm\",size:\"sm\",buttonSize:\"sm\",okVariant:\"danger\",okTitle:\"YES\",cancelTitle:\"NO\",footerClass:\"p-2\",hideHeaderClose:!1,centered:!0}).then((function(e){e&&t.deleteOrder()}))},deleteOrder:function(){var e=Object(o[\"a\"])(regeneratorRuntime.mark((function e(){var t,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.gridApi.getSelectedRows(),r=\"/api/order/\".concat(t[0].id,\"/\"),e.prev=2,i=this.orders.map((function(e){return e.id})).indexOf(t[0].id),this.$delete(this.orders,i),e.next=7,Object(s[\"a\"])(r,\"DELETE\");case 7:this.show=!this.show,e.next=13;break;case 10:e.prev=10,e.t0=e[\"catch\"](2),console.log(e.t0);case 13:case\"end\":return e.stop()}}),e,this,[[2,10]])})));function t(){return e.apply(this,arguments)}return t}(),getDateToday:function(){var e=new Date;this.date=e.getDate()+\" / \"+(e.getMonth()+1)+\" / \"+e.getFullYear()},onBtExport:function(){this.gridApi.exportDataAsExcel({})}},created:function(){this.getDeviceOrder(),this.getDateToday()}},u=c,m=(r(\"5e0c\"),r(\"2877\")),p=Object(m[\"a\"])(u,i,a,!1,null,null,null);t[\"default\"]=p.exports},\"6b24\":function(e,t,r){}}]);","extractedComments":[]}