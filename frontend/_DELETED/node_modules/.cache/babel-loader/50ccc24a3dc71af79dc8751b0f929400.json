{"remainingRequest":"C:\\Users\\Anwender\\SJO\\evi\\evi\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Anwender\\SJO\\evi\\evi\\frontend\\src\\store\\modules\\authData.js","dependencies":[{"path":"C:\\Users\\Anwender\\SJO\\evi\\evi\\frontend\\src\\store\\modules\\authData.js","mtime":1566994838000},{"path":"C:\\Users\\Anwender\\SJO\\evi\\evi\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Anwender\\SJO\\evi\\evi\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import firebase from \"firebase/app\";\nimport \"firebase/auth\";\nexport default {\n  state: {\n    loggedInUser: localStorage.getItem(\"userInfo\") != null ? JSON.parse(localStorage.getItem(\"userInfo\")) : null,\n    loading: false,\n    error: null\n  },\n  getters: {\n    loggedInUser: function loggedInUser(state) {\n      return state.loggedInUser;\n    },\n    loading: function loading(state) {\n      return state.loading;\n    },\n    error: function error(state) {\n      return state.error;\n    }\n  },\n  mutations: {\n    setUser: function setUser(state, data) {\n      state.loggedInUser = data;\n      state.loading = false;\n      state.error = null;\n    },\n    setLogout: function setLogout(state) {\n      state.loggedInUser = null;\n      state.loading = false;\n      state.error = null; // this.$router.go(\"/\");\n    },\n    setLoading: function setLoading(state, data) {\n      state.loading = data;\n      state.error = null;\n    },\n    setError: function setError(state, data) {\n      state.error = data;\n      state.loggedInUser = null;\n      state.loading = false;\n    },\n    clearError: function clearError(state) {\n      state.error = null;\n    }\n  },\n  actions: {\n    login: function login(_ref, data) {\n      var commit = _ref.commit;\n      commit(\"clearError\");\n      commit(\"setLoading\", true);\n      firebase.auth().signInWithEmailAndPassword(data.email, data.password).then(function (user) {\n        var newUser = {\n          uid: user.user.uid\n        };\n        localStorage.setItem(\"userInfo\", JSON.stringify(newUser));\n        commit(\"setUser\", {\n          uid: user.user.uid\n        });\n        console.log(\"user\");\n      }).catch(function (error) {\n        // Handle Errors here.\n        // var errorCode = error.code;\n        // var errorMessage = error.message;\n        // console.log(error);\n        localStorage.removeItem(\"userInfo\");\n        commit(\"setError\", error); // ...\n      });\n    },\n    signUserUp: function signUserUp(_ref2, data) {\n      var commit = _ref2.commit;\n      commit(\"setLoading\", true);\n      commit(\"clearError\");\n      firebase.auth().createUserWithEmailAndPassword(data.email, data.password).then(function (user) {\n        commit(\"setLoading\", false);\n        var newUser = {\n          uid: user.user.uid\n        };\n        console.log(newUser);\n        localStorage.setItem(\"userInfo\", JSON.stringify(newUser));\n        commit(\"setUser\", newUser);\n      }).catch(function (error) {\n        commit(\"setLoading\", false);\n        commit(\"setError\", error);\n        localStorage.removeItem(\"userInfo\");\n        console.log(error);\n      });\n    },\n    signOut: function signOut(_ref3) {\n      var commit = _ref3.commit;\n      firebase.auth().signOut().then(function () {\n        localStorage.removeItem(\"userInfo\");\n        commit(\"setLogout\");\n      }, function (_error) {});\n    }\n  }\n};",{"version":3,"sources":["C:/Users/Anwender/SJO/evi/evi/frontend/src/store/modules/authData.js"],"names":["firebase","state","loggedInUser","localStorage","getItem","JSON","parse","loading","error","getters","mutations","setUser","data","setLogout","setLoading","setError","clearError","actions","login","commit","auth","signInWithEmailAndPassword","email","password","then","user","newUser","uid","setItem","stringify","console","log","catch","removeItem","signUserUp","createUserWithEmailAndPassword","signOut","_error"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,cAArB;AACA,OAAO,eAAP;AAEA,eAAe;AACbC,EAAAA,KAAK,EAAE;AACLC,IAAAA,YAAY,EACVC,YAAY,CAACC,OAAb,CAAqB,UAArB,KAAoC,IAApC,GACIC,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CADJ,GAEI,IAJD;AAKLG,IAAAA,OAAO,EAAE,KALJ;AAMLC,IAAAA,KAAK,EAAE;AANF,GADM;AASbC,EAAAA,OAAO,EAAE;AACPP,IAAAA,YAAY,EAAE,sBAAAD,KAAK;AAAA,aAAIA,KAAK,CAACC,YAAV;AAAA,KADZ;AAEPK,IAAAA,OAAO,EAAE,iBAAAN,KAAK;AAAA,aAAIA,KAAK,CAACM,OAAV;AAAA,KAFP;AAGPC,IAAAA,KAAK,EAAE,eAAAP,KAAK;AAAA,aAAIA,KAAK,CAACO,KAAV;AAAA;AAHL,GATI;AAcbE,EAAAA,SAAS,EAAE;AACTC,IAAAA,OADS,mBACDV,KADC,EACMW,IADN,EACY;AACnBX,MAAAA,KAAK,CAACC,YAAN,GAAqBU,IAArB;AACAX,MAAAA,KAAK,CAACM,OAAN,GAAgB,KAAhB;AACAN,MAAAA,KAAK,CAACO,KAAN,GAAc,IAAd;AACD,KALQ;AAMTK,IAAAA,SANS,qBAMCZ,KAND,EAMQ;AACfA,MAAAA,KAAK,CAACC,YAAN,GAAqB,IAArB;AACAD,MAAAA,KAAK,CAACM,OAAN,GAAgB,KAAhB;AACAN,MAAAA,KAAK,CAACO,KAAN,GAAc,IAAd,CAHe,CAIf;AACD,KAXQ;AAYTM,IAAAA,UAZS,sBAYEb,KAZF,EAYSW,IAZT,EAYe;AACtBX,MAAAA,KAAK,CAACM,OAAN,GAAgBK,IAAhB;AACAX,MAAAA,KAAK,CAACO,KAAN,GAAc,IAAd;AACD,KAfQ;AAgBTO,IAAAA,QAhBS,oBAgBAd,KAhBA,EAgBOW,IAhBP,EAgBa;AACpBX,MAAAA,KAAK,CAACO,KAAN,GAAcI,IAAd;AACAX,MAAAA,KAAK,CAACC,YAAN,GAAqB,IAArB;AACAD,MAAAA,KAAK,CAACM,OAAN,GAAgB,KAAhB;AACD,KApBQ;AAqBTS,IAAAA,UArBS,sBAqBEf,KArBF,EAqBS;AAChBA,MAAAA,KAAK,CAACO,KAAN,GAAc,IAAd;AACD;AAvBQ,GAdE;AAuCbS,EAAAA,OAAO,EAAE;AACPC,IAAAA,KADO,uBACSN,IADT,EACe;AAAA,UAAfO,MAAe,QAAfA,MAAe;AACpBA,MAAAA,MAAM,CAAC,YAAD,CAAN;AACAA,MAAAA,MAAM,CAAC,YAAD,EAAe,IAAf,CAAN;AACAnB,MAAAA,QAAQ,CACLoB,IADH,GAEGC,0BAFH,CAE8BT,IAAI,CAACU,KAFnC,EAE0CV,IAAI,CAACW,QAF/C,EAGGC,IAHH,CAGQ,UAAAC,IAAI,EAAI;AACZ,YAAMC,OAAO,GAAG;AAACC,UAAAA,GAAG,EAAEF,IAAI,CAACA,IAAL,CAAUE;AAAhB,SAAhB;AACAxB,QAAAA,YAAY,CAACyB,OAAb,CAAqB,UAArB,EAAiCvB,IAAI,CAACwB,SAAL,CAAeH,OAAf,CAAjC;AACAP,QAAAA,MAAM,CAAC,SAAD,EAAY;AAACQ,UAAAA,GAAG,EAAEF,IAAI,CAACA,IAAL,CAAUE;AAAhB,SAAZ,CAAN;AACAG,QAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACD,OARH,EASGC,KATH,CASS,UAASxB,KAAT,EAAgB;AACrB;AACA;AACA;AACA;AACAL,QAAAA,YAAY,CAAC8B,UAAb,CAAwB,UAAxB;AACAd,QAAAA,MAAM,CAAC,UAAD,EAAaX,KAAb,CAAN,CANqB,CAOrB;AACD,OAjBH;AAkBD,KAtBM;AAwBP0B,IAAAA,UAxBO,6BAwBctB,IAxBd,EAwBoB;AAAA,UAAfO,MAAe,SAAfA,MAAe;AACzBA,MAAAA,MAAM,CAAC,YAAD,EAAe,IAAf,CAAN;AACAA,MAAAA,MAAM,CAAC,YAAD,CAAN;AACAnB,MAAAA,QAAQ,CACLoB,IADH,GAEGe,8BAFH,CAEkCvB,IAAI,CAACU,KAFvC,EAE8CV,IAAI,CAACW,QAFnD,EAGGC,IAHH,CAGQ,UAAAC,IAAI,EAAI;AACZN,QAAAA,MAAM,CAAC,YAAD,EAAe,KAAf,CAAN;AAEA,YAAMO,OAAO,GAAG;AACdC,UAAAA,GAAG,EAAEF,IAAI,CAACA,IAAL,CAAUE;AADD,SAAhB;AAGAG,QAAAA,OAAO,CAACC,GAAR,CAAYL,OAAZ;AACAvB,QAAAA,YAAY,CAACyB,OAAb,CAAqB,UAArB,EAAiCvB,IAAI,CAACwB,SAAL,CAAeH,OAAf,CAAjC;AACAP,QAAAA,MAAM,CAAC,SAAD,EAAYO,OAAZ,CAAN;AACD,OAZH,EAaGM,KAbH,CAaS,UAAAxB,KAAK,EAAI;AACdW,QAAAA,MAAM,CAAC,YAAD,EAAe,KAAf,CAAN;AACAA,QAAAA,MAAM,CAAC,UAAD,EAAaX,KAAb,CAAN;AACAL,QAAAA,YAAY,CAAC8B,UAAb,CAAwB,UAAxB;AACAH,QAAAA,OAAO,CAACC,GAAR,CAAYvB,KAAZ;AACD,OAlBH;AAmBD,KA9CM;AA+CP4B,IAAAA,OA/CO,0BA+CW;AAAA,UAATjB,MAAS,SAATA,MAAS;AAChBnB,MAAAA,QAAQ,CACLoB,IADH,GAEGgB,OAFH,GAGGZ,IAHH,CAII,YAAM;AACJrB,QAAAA,YAAY,CAAC8B,UAAb,CAAwB,UAAxB;AACAd,QAAAA,MAAM,CAAC,WAAD,CAAN;AACD,OAPL,EAQI,UAAAkB,MAAM,EAAI,CAAE,CARhB;AAUD;AA1DM;AAvCI,CAAf","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/auth\";\n\nexport default {\n  state: {\n    loggedInUser:\n      localStorage.getItem(\"userInfo\") != null\n        ? JSON.parse(localStorage.getItem(\"userInfo\"))\n        : null,\n    loading: false,\n    error: null\n  },\n  getters: {\n    loggedInUser: state => state.loggedInUser,\n    loading: state => state.loading,\n    error: state => state.error\n  },\n  mutations: {\n    setUser(state, data) {\n      state.loggedInUser = data;\n      state.loading = false;\n      state.error = null;\n    },\n    setLogout(state) {\n      state.loggedInUser = null;\n      state.loading = false;\n      state.error = null;\n      // this.$router.go(\"/\");\n    },\n    setLoading(state, data) {\n      state.loading = data;\n      state.error = null;\n    },\n    setError(state, data) {\n      state.error = data;\n      state.loggedInUser = null;\n      state.loading = false;\n    },\n    clearError(state) {\n      state.error = null;\n    }\n  },\n  actions: {\n    login({commit}, data) {\n      commit(\"clearError\");\n      commit(\"setLoading\", true);\n      firebase\n        .auth()\n        .signInWithEmailAndPassword(data.email, data.password)\n        .then(user => {\n          const newUser = {uid: user.user.uid};\n          localStorage.setItem(\"userInfo\", JSON.stringify(newUser));\n          commit(\"setUser\", {uid: user.user.uid});\n          console.log(\"user\");\n        })\n        .catch(function(error) {\n          // Handle Errors here.\n          // var errorCode = error.code;\n          // var errorMessage = error.message;\n          // console.log(error);\n          localStorage.removeItem(\"userInfo\");\n          commit(\"setError\", error);\n          // ...\n        });\n    },\n\n    signUserUp({commit}, data) {\n      commit(\"setLoading\", true);\n      commit(\"clearError\");\n      firebase\n        .auth()\n        .createUserWithEmailAndPassword(data.email, data.password)\n        .then(user => {\n          commit(\"setLoading\", false);\n\n          const newUser = {\n            uid: user.user.uid\n          };\n          console.log(newUser);\n          localStorage.setItem(\"userInfo\", JSON.stringify(newUser));\n          commit(\"setUser\", newUser);\n        })\n        .catch(error => {\n          commit(\"setLoading\", false);\n          commit(\"setError\", error);\n          localStorage.removeItem(\"userInfo\");\n          console.log(error);\n        });\n    },\n    signOut({commit}) {\n      firebase\n        .auth()\n        .signOut()\n        .then(\n          () => {\n            localStorage.removeItem(\"userInfo\");\n            commit(\"setLogout\");\n          },\n          _error => {}\n        );\n    }\n  }\n};\n"]}]}