{"remainingRequest":"C:\\Users\\Anwender\\SJO\\evi\\evi\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Anwender\\SJO\\evi\\evi\\frontend\\src\\views\\app\\inspection\\inspection.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"C:\\Users\\Anwender\\SJO\\evi\\evi\\frontend\\src\\views\\app\\inspection\\inspection.vue","mtime":1603359266367},{"path":"C:\\Users\\Anwender\\SJO\\evi\\evi\\frontend\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\Anwender\\SJO\\evi\\evi\\frontend\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Anwender\\SJO\\evi\\evi\\frontend\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Anwender\\SJO\\evi\\evi\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Anwender\\SJO\\evi\\evi\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nhtml, body, div {\n  box-sizing: border-box!important;\n}\n\ni:focus,\ninput:focus,\nselect:focus,\ntextarea:focus,\nbutton:focus {\n    outline: none;\n}\n\n",{"version":3,"sources":["inspection.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0WA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"inspection.vue","sourceRoot":"src/views/app/inspection","sourcesContent":["<template>\n  <!-- ============ Body content start ============= -->\n  <div class=\"main-content\" id=\"pdfContent\">\n      <breadcumb v-if=\"this.loadingType\" :page=this.inType.txtInspectionType :folder=\"'Inspection'\" />\n\n      <!-- ################################################ -->\n      <!-- ########### INSPECTION NUMBER SECTION ########## -->\n      <!-- ################################################ -->\n      <div class=\"row\">\n        <div class=\"col-md-12\">\n          <b-row>\n            <b-col md=\"6\">\n              <!-- INSPECTION -->\n              <div class=\"card bg-light\"  v-if=\"this.loadingNumber\">\n                <div class=\"card-body p-0\">\n                  <h5 class=\"card-title p-3 pb-0 mb-0\"><strong>Inspection Number</strong></h5>\n                  <b-row class=\"mr-3 p-3 pt-0\">\n                    <b-col md=\"4\" class=\"mt-3\">\n                      <h6 class=\"mb-1\">Full Inspection Number</h6>\n                      <b-input-group-text style=\"font-weight: 700;\">{{ this.inNum.label }}-{{ this.inNum.type }}-{{ this.inNum.year }}-{{ this.inNum.number }}</b-input-group-text>\n                    </b-col>\n                    <b-col md=\"4\" class=\"mt-3\">\n                      <h6 class=\"mb-1\">Year</h6>\n                      <b-form-input v-model=\"inNum.year\" type=\"tel\" maxlength=\"4\"></b-form-input>\n                    </b-col>\n                    <b-col md=\"4\" class=\"mt-3\">\n                      <h6 class=\"mb-1\">ID</h6>\n                      <b-form-input v-model=\"inNum.number\" type=\"tel\" maxlength=\"4\"></b-form-input>\n                    </b-col>\n                  </b-row>\n                </div>\n              </div>\n            </b-col>\n            <b-col md=\"6\">\n              <!-- DEVICE -->\n              <div class=\"card bg-light\" v-if=\"this.loadingDevice\">\n                <div class=\"card-body p-0\">\n                  <h5 class=\"card-title p-3 pb-0 mb-0\"><strong>Device Model</strong></h5>\n                  <b-row class=\"mr-3 p-3 pt-0\">\n                    <b-col md=\"4\" class=\"mt-3\">\n                      <h6 class=\"mb-1\">Model:</h6>\n                      <b-input-group-text style=\"font-weight: 700;\">{{ this.device.idDevice.idModel.txtModelName }}</b-input-group-text>\n                    </b-col>\n                    <b-col md=\"4\" class=\"mt-3\">\n                      <h6 class=\"mb-1\">Serial Number:</h6>\n                      <b-input-group-text style=\"font-weight: 700;\">{{ this.device.idDevice.txtSerialNumber }}</b-input-group-text>\n                    </b-col>\n                    <b-col md=\"4\" class=\"mt-3\">\n                      <h6 class=\"mb-1\">Device Position:</h6>\n                      <b-input-group-text style=\"font-weight: 700;\">{{ this.device.idDevice.idDevicePosition.txtDevicePosition }}</b-input-group-text>\n                    </b-col>\n                  </b-row>  \n                </div>\n              </div>\n            </b-col>\n          </b-row>\n        </div>\n      </div>\n\n      <!-- ########################################### -->\n      <!-- ########### ORDER DEVICE SECTION ########## -->\n      <!-- ########################################### -->\n      <!-- <div class=\"row mt-4\" v-if=\"this.loadingDevice\">\n        <div class=\"col-md-12\">\n          <div class=\"card\" id=\"card-device\">\n            <div class=\"card-body p-0\">\n              <h5 class=\"card-title p-3 pb-0 mb-0\">Device Model</h5>\n              <b-row class=\"mr-3 p-3 pt-0\">\n                <b-col md=\"3\" class=\"mt-3\">\n                  <h6 class=\"mb-1\">Model:</h6>\n                  <b-input-group-text style=\"font-weight: 700;\">{{ this.device.idDevice.idModel.txtModelName }}</b-input-group-text>\n                </b-col>\n                <b-col md=\"3\" class=\"mt-3\">\n                  <h6 class=\"mb-1\">Serial Number:</h6>\n                  <b-input-group-text style=\"font-weight: 700;\">{{ this.device.idDevice.txtSerialNumber }}</b-input-group-text>\n                </b-col>\n                <b-col md=\"3\" class=\"mt-3\">\n                  <h6 class=\"mb-1\">Device Position:</h6>\n                  <b-input-group-text style=\"font-weight: 700;\">{{ this.device.idDevice.idDevicePosition.txtDevicePosition }}</b-input-group-text>\n                </b-col>\n              </b-row>  \n            </div>\n          </div>\n        </div>\n      </div> -->\n\n      <!-- ##################################### -->\n      <!-- ########### SAMPLE SECTION ########## -->\n      <!-- ##################################### -->\n      <div class=\"row mt-3\" v-if=\"this.loadingSample\">\n        <div class=\"col-md-12\">\n          <div class=\"card\" id=\"card-item-1\">\n            <div class=\"card-body p-0\">\n              <h5 class=\"card-title p-3 pb-0 mb-0\">Samples</h5>\n              <b-row class=\"mr-3 p-3 pt-0\">\n                <b-col md=\"12\" class=\"mt-3\">\n                  <b-tabs content-class=\"mt-3\">\n                    <b-tab v-for=\"sample in samples\" :key=\"sample.id\" >\n                      <template #title>Sample ID: {{ sample.id }}</template>\n                      <b-container fluid v-if=\"loadingAttributes\">\n                        <b-row>\n                          <b-col md=\"12\" class=\"mb-1\" v-if=\"returnFilteredAtts(sample, 'Integer').length >= 1\">Parameter: Integer</b-col>\n                          <b-col md=\"3\" v-for=\"attribute in returnFilteredAtts(sample, 'Integer')\" :key=\"attribute.id\">\n                            <b-input-group class=\"mb-3\" :prepend=\"attribute.txtNameAttribute\"> \n                              <b-form-input v-model=\"attribute.txtValueAttribute\"></b-form-input>\n                            </b-input-group>\n                          </b-col>\n                        </b-row>\n                        <b-row>\n                          <b-col md=\"12\" class=\"mb-1\" v-if=\"returnFilteredAtts(sample, 'String').length >= 1\">Parameter: String</b-col>\n                          <b-col md=\"3\" v-for=\"attribute in returnFilteredAtts(sample, 'String')\" :key=\"attribute.id\">\n                            <b-input-group class=\"mb-3\" :prepend=\"attribute.txtNameAttribute\"> \n                              <b-form-input v-model=\"attribute.txtValueAttribute\"></b-form-input>\n                            </b-input-group>\n                          </b-col>\n                        </b-row>\n                        <b-row>\n                          <b-col md=\"12\" class=\"mb-1\" v-if=\"returnFilteredAtts(sample, 'Float').length >= 1\">Parameter: Float</b-col>\n                          <b-col md=\"3\" v-for=\"attribute in returnFilteredAtts(sample, 'Float')\" :key=\"attribute.id\">\n                            <b-input-group class=\"mb-3\" :prepend=\"attribute.txtNameAttribute\" :append=\"attribute.txtParameter\"> \n                              <b-form-input v-model=\"attribute.txtValueAttribute\"></b-form-input>\n                            </b-input-group>\n                          </b-col>\n                        </b-row>\n                        <b-row>\n                          <b-col md=\"12\" class=\"mb-1\" v-if=\"returnFilteredAtts(sample, 'Boolean').length >= 1\">Parameter: Boolean</b-col>\n                          <b-col md=\"3\" v-for=\"attribute in returnFilteredAtts(sample, 'Boolean')\" :key=\"attribute.id\">\n                            <b-input-group class=\"mb-3\" :prepend=\"attribute.txtNameAttribute\" >\n                              <b-form-select>\n                                <b-form-select-option value=\"true\">True</b-form-select-option>\n                                <b-form-select-option value=\"false\">False</b-form-select-option>\n                              </b-form-select>\n                            </b-input-group>\n                          </b-col>\n                        </b-row>\n                        <b-row>\n                          <b-col md=\"12\" class=\"mb-1\" v-if=\"returnFilteredAtts(sample, 'Select').length >= 1\">Parameter: Select</b-col>\n                          <b-col md=\"3\" v-for=\"attribute in returnFilteredAtts(sample, 'Select')\" :key=\"attribute.id\">\n                            <b-input-group class=\"mb-3\" :prepend=\"attribute.txtNameAttribute\">\n                              <b-form-select v-model=\"attribute.txtValueAttribute\" :options=\"getParameter(attribute.txtParameter)\"></b-form-select>\n                            </b-input-group>\n                          </b-col>\n                        </b-row>\n                      </b-container>\n                    </b-tab>\n                  </b-tabs>\n                </b-col>\n              </b-row>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- ######################################################## -->\n      <!-- ########### RELEASE / NOTES / COMMENT SECTION ########## -->\n      <!-- ######################################################## -->\n      <div class=\"row mt-3\" id=\"section_release_notes\">\n        <div class=\"col-md-12\">\n          <div class=\"card bg-light\" id=\"card-notes\">\n            <div class=\"card-body p-0\">\n              <h5 class=\"card-title p-3 pb-0 mb-0\"><strong>Release & Notes</strong></h5>\n              <b-row class=\"mr-2 ml-2 mt-4 p-3 pt-0\">\n                <b-col md=\"6\">\n                  <b-input-group prepend=\"Auditor\" >\n                    <b-form-input v-model=\"Inspector\" placeholder=\"Enter your initials ...\"></b-form-input>\n                  </b-input-group>\n                </b-col>\n                <b-col md=\"6\">\n                  <b-input-group prepend=\"Requested By\" >\n                    <b-form-input v-model=\"RequestedBy\" placeholder=\"Enter your initials ...\"></b-form-input>\n                  </b-input-group>\n                </b-col>\n              </b-row>\n              <b-row  class=\"mr-2 ml-2 p-3 pt-0\">\n                <b-col md=\"4\">\n                  <b-input-group prepend=\"Inspection Date\" >\n                    <b-form-datepicker id=\"datepicker1\" v-model=\"DatInspection\" placeholder=\"Enter your initials ...\"></b-form-datepicker>\n                  </b-input-group>\n                </b-col>\n                <b-col md=\"4\">\n                  <b-input-group prepend=\"Delivered On\" >\n                    <b-form-datepicker id=\"datepicker3\" v-model=\"DatDeliveredOn\" placeholder=\"Enter your initials ...\"></b-form-datepicker>\n                  </b-input-group>\n                </b-col>\n                <b-col md=\"4\">\n                  <b-input-group prepend=\"Requested On\" >\n                    <b-form-datepicker id=\"datepicker2\" v-model=\"DatRequestedOn\" placeholder=\"Enter your initials ...\"></b-form-datepicker>\n                  </b-input-group>\n                </b-col>\n              </b-row>\n              <b-row class=\"mr-2 ml-2 mb-3 p-3 pt-0\">\n                <b-col md=\"12\" class=\"mt-3\">\n                  <h5 class=\"mb-1\">Comment</h5>\n                  <b-form-textarea id=\"area-1\" v-model=\"Comment\" placeholder=\"Enter memo ...\" rows=\"3\" max-rows=\"6\"></b-form-textarea>\n                </b-col>\n              </b-row>\n            </div>\n          </div>\n        </div>\n      </div>\n\n    <!-- SAVE BUTTON -->\n    <b-row class=\"ml-3 mr-3 mt-4\">\n      <!-- <b-button @click=\"addInspection\" class=\"mr-3\" variant=\"primary\" :disabled=\"disabled\">Save Inspection</b-button> -->\n      <!-- <b-button @click=\"createPDF\" class=\"mr-3\" variant=\"outline-primary\">PDF</b-button> -->\n    </b-row>\n  </div>\n  <!-- ============ Body content End ============= -->\n</template>\n<script>\nimport { apiService } from \"@/common/api.service.js\";\nimport { AgGridVue } from '@ag-grid-community/vue';\nimport $ from 'jquery';\nimport print from 'print-js'\nimport { Color } from '@ag-grid-community/all-modules';\n\nexport default {\n  metaInfo: {    \n    title: \"Edit Inspection\"\n  },\n  components: {\n    AgGridVue\n  },\n  data() {\n    return {\n      // VUE VARIABLES\n      inspection: [],\n      inNum: [],\n      inType: [],\n      samples: [],\n      sampleAttributes: [],\n      device: [],\n\n      // RELEASE & NOTES\n      IStatus: 'Work In Progress',\n      IType: null,\n      DatInspection: null,\n      DatDeliveredOn: null,\n      DatRequestedOn: null,\n      RequestedBy: null,\n      Inspector: null,\n      Comment: null,\n\n      // BOOLEAN STATES\n      loadingDevice: false,\n      loadingSample: false,\n      loadingAttributes: false,\n      loadingNumber: false,\n      loadingType: false,\n      error: false,\n      Superuser: false,\n\n    };\n  },\n  beforeRouteLeave (to, from, next) {\n      localStorage.removeItem('InspectionID')\n      next();\n  },\n  computed: {\n  },\n  methods: {\n    returnFilteredAtts(sample, type) {\n      let el = this.sampleAttributes.filter(e => e.idSample == sample.id)\n      let temp = el.filter(e => e.txtValueType == type)\n      return temp;\n    },\n    activeAttributes(sample) {\n      let temp = {integer: [], float: [], boolean: [], string: [], select: []}\n      let el = this.sampleAttributes.filter(e => e.idSample == sample.id)\n      for (let i = 0; i < el.length; i++) {\n        if(el[i].txtValueType == 'Integer') {\n          temp.integer.push(el[i])\n        } else if(el[i].txtValueType == 'Float') {\n          temp.float.push(el[i])\n        } else if(el[i].txtValueType == 'Boolean') {\n          temp.boolean.push(el[i])\n        } else if(el[i].txtValueType == 'String') {\n          temp.string.push(el[i])\n        } else if(el[i].txtValueType == 'Select') {\n          temp.select.push(el[i])\n        }\n      }\n      return temp;\n    },\n    getParameter(params) {\n      let arr = [];\n      let el = params.split(',');\n      for (let i = 0; i < el.length; i++) {\n        arr.push({ value: el[i], text: el[i] });\n      }\n      return arr;\n    },\n    getSamples(id) {\n      this.samples = [];\n      let endpoint = `/api/sample-list/`;\n      apiService(endpoint)\n        .then(data => {\n          let el = [];\n          el.push(...data.results);\n          this.samples = el.filter(e => e.idInspection.id === id)\n          this.loadingSample = true;\n        })\n        .catch(err => console.log(err));\n    },\n    getSampleAttributes() {\n      this.sampleAttributes = [];\n      let endpoint = `/api/sample-attribute/`;\n      apiService(endpoint)\n        .then(data => { \n          this.sampleAttributes.push(...data.results);\n          this.loadingAttributes = true;\n        })\n        .catch(err => console.log(err));\n    },\n    getOrderDevice(id) {\n      this.device = [];\n      let endpoint = `/api/order-device-list/`;\n      apiService(endpoint)\n        .then(data => { \n          let el = [];\n          el.push(...data.results);\n          let temp = el.filter(e => e.id == id);\n          this.device = temp[0];\n          this.loadingDevice = true;\n        })\n        .catch(err => console.log(err));\n    },\n    getInspection() {\n      let id = localStorage.getItem('InspectionID');\n      let endpoint = `/api/inspection/${id}/`;\n      apiService(endpoint)\n        .then(data => { \n          this.inspection = data;\n          this.getOrderDevice(this.inspection.idOrderDevice);\n          this.getSamples(this.inspection.id);\n          this.getInspectionNumber(this.inspection.txtInspectionNumber);\n          this.getInspectionType(this.inspection.idInspectionType);\n        })\n        .catch(err => console.log(err));\n    },\n    getInspectionNumber(number) {\n      let el = number.split('-');\n      this.inNum = { label: el[0], type: el[1], year: el[2], number: el[3] };\n      this.loadingNumber = true;\n    },\n    getInspectionType(id) {\n      let endpoint = `/api/inspection-type/${id}/`;\n      apiService(endpoint)\n        .then(data => {\n          this.inType = data;\n          this.loadingType = true;\n        })\n        .catch(err => console.log(err));\n    },\n  },\n  created() {\n    this.getSampleAttributes();\n    this.getInspection();\n},\n};\n</script>\n<style>\n  html, body, div {\n    box-sizing: border-box!important;\n  }\n\n  i:focus,\n  input:focus,\n  select:focus,\n  textarea:focus,\n  button:focus {\n      outline: none;\n  }\n\n</style>\n"]}]}