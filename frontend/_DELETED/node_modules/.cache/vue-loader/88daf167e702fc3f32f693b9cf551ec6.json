{"remainingRequest":"C:\\Users\\Anwender\\SJO\\evi\\evi\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Anwender\\SJO\\evi\\evi\\frontend\\src\\views\\app\\inspection\\inspection.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Anwender\\SJO\\evi\\evi\\frontend\\src\\views\\app\\inspection\\inspection.vue","mtime":1599584028416},{"path":"C:\\Users\\Anwender\\SJO\\evi\\evi\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Anwender\\SJO\\evi\\evi\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Anwender\\SJO\\evi\\evi\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Anwender\\SJO\\evi\\evi\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\nimport { apiService } from \"@/common/api.service.js\";\nimport { AgGridVue } from '@ag-grid-community/vue';\nimport $ from 'jquery';\nimport print from 'print-js'\nimport { Color } from '@ag-grid-community/all-modules';\n\n\nexport default {\n  metaInfo: {    \n    title: \"New Inspection\"\n  },\n  components: {\n    AgGridVue\n  },\n  data() {\n    return {\n      // TEST VARIABLES\n      el: '',\n      elements: [],\n      // VUE VARIABLES\n      inspectionName: null,\n      templates: [],\n      attributes: [],\n      items: [],\n      manufacturers: [],\n      suppliers: [],\n      models: [],\n      devices: [],\n      testAtt: [],\n      model: [],\n      modelData: [],\n      deviceModels: [],\n      selDevice: null,\n      selItem: null,\n      text: null,\n      error: false,\n      InspectionNumber: null,\n      INumber: '',\n      IStatus: '',\n      IType: '',\n      datInspection: '',\n      datDelivered: '',\n      datRequested: '',\n      Inspector: '',\n      ReleasedBy: '',\n      Approval: '',\n      Comment: '',\n      ODevice: '',\n      Manufacturer: '',\n      Supplier: '',\n      Model: '',\n      Device: '',\n      ItemArtNumber: '',\n      ItemType: '',\n      ItemDescription: '',\n      ItemVersion: '',\n      Superuser: '',\n      file: [],\n      filteredModel: '',\n      filteredDevice: '',\n      // VUE OPTION VARIABLES\n      optionDeviceModel: [],\n      optionItem: [],\n      optionAttribute: [],\n      optionManufacturer: [],\n      optionSupplier: [],\n      optionModel: [],\n      optionDevice: [],\n      optionRelease: [\n        { value: 'YES', text: 'Yes' },\n        { value: 'NO', text: 'No' },\n        { value: 'CONDITIONALLY', text: 'Conditionally' },\n      ],\n      att1: [],\n      att2: [],\n      att3: [],\n      att4: [],\n      att5: [],\n    };\n  },\n  mounted() {\n    this.Superuser = localStorage.getItem(\"superuser\")\n  },\n  methods: {\n    searchFilterModel(event) {\n      if (event)\n        this.filteredModel = this.optionModel.filter(e => e.idManufacturer == this.Manufacturer && e.idSupplier == event);\n    },\n    searchFilterDevice(event) {\n      if (event) {\n        try {\n          this.filteredDevice = this.optionDevice.filter(e => e.idDevice.idModel.id == event && e.txtDeliveryStatus == 'Delivered');\n        }\n        catch(e) {\n\n        }\n      }\n    },\n    getInspectionNumber() {\n      this.InspectionNumber = 'PN2020-001'\n    },\n    onDeviceChange(event) {\n      let device = this.optionDeviceModel.filter(el => el.id == event)\n      this.Manufacturer = device[0].idModel.idManufacturer.txtManufacturerName\n      this.Supplier = device[0].idModel.idSupplier.txtSupplierName\n      this.Model = device[0].idModel.txtModelName\n    },\n    onItemChange(event) {\n      let item = this.optionItem.filter(el => el.id == event)\n      this.ItemArtNumber = item[0].txtArticlenumber\n      this.ItemDescription = item[0].txtDescription\n      this.ItemType = item[0].txtType\n      this.ItemVersion = item[0].txtVersion\n    },\n    createPDF() {\n      this.$htmlToPaper('pdfContent')\n    },\n    getTemplates() {\n      if (!this.error) {\n        var tempId = localStorage.getItem('ITempID')\n        let endpoint = `/api/inspection-template-list/${tempId}/`;\n        apiService(endpoint)\n          .then(data => {\n            this.templates = data;\n            var atts = this.templates.idInspectionTemplateAttribute\n            for (var i = 0; i < atts.length; i++) {\n              if (atts[i].txtMeasureUnit == 'mm')\n                this.att1.push(atts[i])\n              else if (atts[i].txtMeasureUnit == 'Âµm')\n                this.att2.push(atts[i])\n              else if (atts[i].txtMeasureUnit == 'g')\n                this.att3.push(atts[i])\n              else if (atts[i].txtValueType == 'BOOLEAN')\n                this.att4.push(atts[i])\n              else\n                this.att5.push(atts[i])\n            }\n          })\n        // console.log(this.att2.length)\n      }\n    },\n    getDevicModel() {\n      if (!this.error) {\n        let endpoint = `/api/device-list/`;\n        apiService(endpoint)\n          .then(data => {\n            this.deviceModels.push(...data.results);\n            this.optionDeviceModel = this.deviceModels\n          })\n      }\n    },\n    getItems() {\n      if (!this.error) {\n        let endpoint = `/api/item-list/`;\n        apiService(endpoint)\n          .then(data => {\n            this.items.push(...data.results);\n            this.optionItem = this.items\n          })\n      }\n    },\n    getManufacturer() {\n      if (!this.error) {\n        let endpoint = `/api/manufacturer/`;\n        apiService(endpoint)\n          .then(data => {\n            this.manufacturers.push(...data.results);\n            this.optionManufacturer = this.manufacturers\n          })\n      }\n    },\n    getSupplier() {\n      if (!this.error) {\n        let endpoint = `/api/supplier/`;\n        apiService(endpoint)\n          .then(data => {\n            this.suppliers.push(...data.results);\n            this.optionSupplier = this.suppliers\n          })\n      }\n    },\n    getModel() {\n      if (!this.error) {\n        let endpoint = `/api/model/`;\n        apiService(endpoint)\n          .then(data => {\n            this.models.push(...data.results);\n            this.optionModel = this.models\n          })\n      }\n    },\n    getOrderDevice() {\n      if (!this.error) {\n        let endpoint = `/api/order-device-list/`;\n        apiService(endpoint)\n          .then(data => {\n            this.devices.push(...data.results);\n            this.optionDevice = this.devices\n          })\n      }\n    },\n    addTemplate() {\n      if (this.INumber) {\n        let endpoint = `/api/inspection/`;\n        apiService(endpoint, \"POST\", { \n          txtInspectionNumber: this.INumber,\n          txtInspectionStatus: this.IStatus,\n          txtInspectionType: this.IType,\n          datInspection: this.datInspection,\n          txtInspector: this.Inspector,\n          txtApproval: this.Approval,\n          txtComment1: this.Comment1,\n          txtComment2: this.Comment2,\n          idOrderDevice: this.ODevice,\n          })\n          .then(data => {\n            if (data){\n              this.templates.unshift(data)\n            } else {\n              this.error = true;\n            }\n          })\n        this.TempName = null;\n        if (this.error) {\n          this.error = false;\n        }\n        } else {\n          this.error = true;\n        }\n    },\n    emptyInput() {\n      this.TempName = '',\n      this.Type = [],\n      this.optionAttribute = [],\n      this.$root.$emit('bv::toggle::collapse', 'collapse-o')\n    },\n    getSuperuser() {\n      this.Superuser = localStorage.getItem(\"superuser\")\n      console.log(this.Superuser)\n    },\n  },\n  created() {\n    this.getTemplates();\n    this.getItems();\n    this.getDevicModel();\n    this.getInspectionNumber();\n    this.getManufacturer();\n    this.getSupplier();\n    this.getModel();\n    this.getOrderDevice();\n  },\n};\n",{"version":3,"sources":["inspection.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkQA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"inspection.vue","sourceRoot":"src/views/app/inspection","sourcesContent":["<template>\n  <!-- ============ Body content start ============= -->\n  <div class=\"main-content\" id=\"pdfContent\">\n      <breadcumb :page=this.templates.txtInspectionTemplateName :folder=\"'Inspection'\" />\n      <div class=\"row mb-4 mt-3\">\n        <b-col md=\"4\">\n          <b-input-group size=\"\" prepend=\"Inspection Number\">\n            <b-form-input v-model=\"this.InspectionNumber\"></b-form-input>\n          </b-input-group>\n        </b-col>\n      </div>\n\n      <!-- DEVICE MODEL -->\n      <div class=\"row\">\n        <div class=\"col-md-12\">\n          <div class=\"card\">\n            <div class=\"card-body p-0\">\n              <h5 class=\"card-title p-3 pb-0 mb-0\">Device Model</h5>\n              <b-row class=\"mr-3 p-3 pt-0\">\n                <b-col md=\"3\" class=\"mt-3\">\n                  <v-select  id=\"select-1\" v-model=\"Manufacturer\" :options=\"optionManufacturer\"\n                  label=\"txtManufacturerName\" required placeholder=\"Choose Manufacturer\" :reduce=\"Manufacturer => Manufacturer.id\"\n                  ></v-select>\n                </b-col>\n                <b-col md=\"3\" class=\"mt-3\" v-if=\"Manufacturer\">\n                  <v-select  id=\"select-2\" v-model=\"Supplier\" :options=\"optionSupplier\" @input=\"searchFilterModel($event)\"\n                  label=\"txtSupplierName\" required placeholder=\"Choose Supplier\" :reduce=\"Supplier => Supplier.id\"\n                  ></v-select>\n                </b-col>\n                <b-col md=\"3\" class=\"mt-3\" v-if=\"Manufacturer && Supplier\">\n                  <v-select  id=\"select-3\" v-model=\"Model\" :options=\"filteredModel\" @input=\"searchFilterDevice($event)\"\n                  label=\"txtModelName\" required placeholder=\"Choose Model\" :reduce=\"Model => Model.id\"\n                  ></v-select>\n                </b-col>\n                <b-col md=\"3\" class=\"mt-3\" v-if=\"Manufacturer && Supplier && Model\">\n                  <v-select  id=\"select-4\" v-model=\"Device\" :options=\"filteredDevice\" :getOptionLabel=\"filteredDevice => filteredDevice.idDevice.txtSerialNumber\"\n                  label=\"txtSerialNumber\" required placeholder=\"Choose Device\"\n                  ></v-select>\n                </b-col>\n              </b-row>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!-- ITEM -->\n      <div class=\"row  mt-3\">\n        <div class=\"col-md-12\">\n          <div class=\"card\">\n            <div class=\"card-body p-0\">\n              <h5 class=\"card-title p-3 pb-0 mb-0\">Item</h5>\n              <b-row class=\"mr-3 p-3 pt-0\">\n                <b-col md=\"12\" class=\"mt-3\">\n                  <b-form-select id=\"select-1\" v-model=\"selItem\" :options=\"optionItem\" @change=\"onItemChange($event)\" required\n                    value-field=\"id\" text-field=\"txtDescription\"> </b-form-select>\n                </b-col>\n              </b-row>\n              <b-row class=\"mr-3 p-3 pt-0\">\n                <b-col md=\"3\">\n                  <h5>Article Number</h5>\n                  <p  class=\"mb-0\">{{ this.ItemArtNumber }}</p>\n                </b-col>\n                <b-col md=\"3\">\n                  <h5>Description</h5>\n                  <p  class=\"mb-0\">{{ this.ItemDescription }}</p>\n                  </b-col>\n                <b-col md=\"3\">\n                  <h5>Type</h5>\n                  <p  class=\"mb-0\">{{ this.ItemType }}</p>\n                </b-col>\n                <b-col md=\"3\">\n                  <h5>Version</h5>\n                  <p  class=\"mb-0\">{{ this.ItemVersion }}</p>\n                </b-col>\n              </b-row>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- INSPECTION PARAMETER -->\n      <div class=\"row mt-3\" id=\"section_parameters\">\n        <div class=\"col-md-12\">\n          <div class=\"card\">\n            <div class=\"card-body p-0\">\n              <h5 class=\"card-title p-3 pb-0 mb-0\">Inspection Parameter</h5>\n              <div class=\"mr-3 p-3 pt-0\">\n                <b-row class=\"ml-2 mr-2 mt-1 pb-4\" v-if=\"this.att1.length > 1\">\n                  <b-col md=\"3\" v-for=\"attribute in att1\" :key=\"attribute.id\">\n                    <b-input-group class=\"mt-3\">\n                      <template v-slot:prepend>\n                        <b-input-group-text style=\"font-weight: 800;\">{{ attribute.txtNameAttribute }}</b-input-group-text>\n                      </template>\n                      <b-form-input v-model=\"attribute.txtValueDefault\"></b-form-input>\n                    </b-input-group>\n                  </b-col>\n                </b-row>\n                <b-row class=\"ml-2 mr-2 mt-1 border-top pb-4\" v-if=\"this.att2.length > 1\">\n                  <b-col md=\"3\" v-for=\"attribute in att2\" :key=\"attribute.id\">\n                    <b-input-group class=\"mt-3\">\n                      <template v-slot:prepend>\n                        <b-input-group-text style=\"font-weight: 800;\">{{ attribute.txtNameAttribute }}</b-input-group-text>\n                      </template>\n                      <b-form-input v-model=\"attribute.txtValueDefault\"></b-form-input>\n                    </b-input-group>\n                  </b-col>\n                </b-row>\n                <b-row class=\"ml-2 mr-2 mt-1 border-top pb-4\" v-if=\"this.att3.length > 1\">\n                  <b-col md=\"3\" v-for=\"attribute in att3\" :key=\"attribute.id\">\n                    <b-input-group class=\"mt-3\">\n                      <template v-slot:prepend>\n                        <b-input-group-text style=\"font-weight: 800;\">{{ attribute.txtNameAttribute }}</b-input-group-text>\n                      </template>\n                      <b-form-input v-model=\"attribute.txtValueDefault\"></b-form-input>\n                    </b-input-group>\n                  </b-col>\n                </b-row>\n                <b-row class=\"ml-2 mr-2 mt-1 border-top pb-4\" v-if=\"this.att4.length > 1\">\n                  <b-col md=\"3\" v-for=\"attribute in att4\" :key=\"attribute.id\">\n                    <b-input-group class=\"mt-3\">\n                      <template v-slot:prepend>\n                        <b-input-group-text style=\"font-weight: 800;\">{{ attribute.txtNameAttribute }}</b-input-group-text>\n                      </template>\n                      <b-form-select>\n                        <b-form-select-option value=\"true\">Yes</b-form-select-option>\n                        <b-form-select-option value=\"false\">No</b-form-select-option>\n                      </b-form-select>\n                    </b-input-group>\n                  </b-col>\n                </b-row>\n                <b-row class=\"ml-2 mr-2 mt-1 border-top pb-4\" v-if=\"this.att5.length > 1\">\n                  <b-col md=\"3\" v-for=\"attribute in att5\" :key=\"attribute.id\">\n                    <b-input-group class=\"mt-3\">\n                      <template v-slot:prepend>\n                        <b-input-group-text style=\"font-weight: 800;\">{{ attribute.txtNameAttribute }}</b-input-group-text>\n                      </template>\n                      <b-form-input v-model=\"attribute.txtValueDefault\"></b-form-input>\n                    </b-input-group>\n                  </b-col>\n                </b-row>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- COMMENT -->\n      <div class=\"row mt-3\" id=\"section_release_notes\">\n        <div class=\"col-md-12\">\n          <div class=\"card\">\n            <div class=\"card-body p-0\">\n              <h5 class=\"card-title p-3 pb-0 mb-0\">Release & Notes</h5>\n              <b-row class=\"mr-2 ml-2 mt-4 p-3 pt-0\">\n                <b-col md=\"4\">\n                  <b-input-group>\n                    <template v-slot:prepend>\n                      <b-input-group-text readonly style=\"font-weight: 800;\">Auditor</b-input-group-text>\n                    </template>\n                    <template v-slot:append variant=\"info\">\n                      <b-form-input v-model=\"Inspector\" placeholder=\"Enter your initials ...\"></b-form-input>\n                    </template>\n                  </b-input-group>\n                </b-col>\n                <b-col md=\"4\">\n                  <div>\n                    <b-input-group>\n                      <template v-slot:prepend>\n                        <b-input-group-text readonly style=\"font-weight: 800;\">Test Date</b-input-group-text>\n                      </template>\n                      <template v-slot:append>\n                        <b-form-datepicker id=\"datepicker1\" v-model=\"datInspection\"></b-form-datepicker>\n                      </template>\n                    </b-input-group>\n                  </div>\n                </b-col>\n                <b-col md=\"4\">\n                  <div>\n                    <b-input-group>\n                      <template v-slot:prepend>\n                        <b-input-group-text readonly style=\"font-weight: 800;\">Delivered On</b-input-group-text>\n                      </template>\n                      <template v-slot:append>\n                        <b-form-datepicker id=\"datepicker3\" v-model=\"datDelivered\"></b-form-datepicker>\n                      </template>\n                    </b-input-group>\n                  </div>\n                </b-col>\n              </b-row>\n              <b-row  class=\"mr-2 ml-2 p-3 pt-0\">\n                <b-col md=\"3\">\n                  <b-input-group>\n                    <template v-slot:prepend>\n                      <b-input-group-text readonly style=\"font-weight: 800;\">Requested By</b-input-group-text>\n                    </template>\n                    <template v-slot:append variant=\"info\">\n                      <b-form-input v-model=\"Inspector\" placeholder=\"Enter your initials ...\"></b-form-input>\n                    </template>\n                  </b-input-group>\n                </b-col>\n                <b-col md=\"3\">\n                  <div>\n                    <b-input-group>\n                      <template v-slot:prepend>\n                        <b-input-group-text readonly style=\"font-weight: 800;\">Requested On</b-input-group-text>\n                      </template>\n                      <template v-slot:append>\n                        <b-form-datepicker id=\"datepicker2\" v-model=\"datRequested\"></b-form-datepicker>\n                      </template>\n                    </b-input-group>\n                  </div>\n                </b-col>\n                <b-col md=\"3\">\n                  <b-input-group>\n                    <template v-slot:prepend>\n                      <b-input-group-text readonly style=\"font-weight: 800;\">Release</b-input-group-text>\n                    </template>\n                    <template v-slot:append variant=\"info\">\n                      <b-form-select id=\"select-2\" v-model=\"IType\" :options=\"optionRelease\" required ></b-form-select>\n                    </template>\n                  </b-input-group>\n                </b-col>\n                <b-col md=\"3\">\n                  <b-input-group>\n                    <template v-slot:prepend>\n                      <b-input-group-text readonly style=\"font-weight: 800;\">Released by</b-input-group-text>\n                    </template>\n                    <template v-slot:append variant=\"info\">\n                      <b-form-input v-if=\"Superuser == 'true'\" v-model=\"ReleasedBy\" placeholder=\"Enter your initials ...\"></b-form-input>\n                      <b-form-input v-else v-model=\"ReleasedBy\" disabled placeholder=\"Enter your initials ...\"></b-form-input>\n                    </template>\n                  </b-input-group>\n                </b-col>\n              </b-row>\n              <b-row class=\"mr-2 ml-2 mb-3 p-3 pt-0\">\n                <b-col md=\"12\" class=\"mt-3\">\n                  <p class=\"mb-1\">Comment</p>\n                  <b-form-textarea id=\"area-1\" v-model=\"Comment\" placeholder=\"Enter something...\" rows=\"3\" max-rows=\"6\"></b-form-textarea>\n                </b-col>\n              </b-row>\n              <!-- <b-row class=\"mr-2 ml-2 mb-3 p-3 pt-0\">\n                <b-col md=\"4\">\n                  <b-form-group label=\"File Upload:\" label-for=\"file-default\">\n                    <b-form-file v-model=\"file\" id=\"file-default\" multiple :file-name-formatter=\"formatNames\"></b-form-file>\n                  </b-form-group>\n                </b-col>\n              </b-row> -->\n            </div>\n          </div>\n        </div>\n      </div>\n    <b-row class=\"ml-3 mr-3 mt-4\">\n      <b-button class=\"mr-3\" variant=\"primary\" to=\"inspection-list\">Save Inspection</b-button>\n      <b-button @click=\"createPDF\" class=\"mr-3\" variant=\"outline-primary\">PDF</b-button>\n    </b-row>\n  </div>\n  <!-- ============ Body content End ============= -->\n</template>\n<script>\n\nimport { apiService } from \"@/common/api.service.js\";\nimport { AgGridVue } from '@ag-grid-community/vue';\nimport $ from 'jquery';\nimport print from 'print-js'\nimport { Color } from '@ag-grid-community/all-modules';\n\n\nexport default {\n  metaInfo: {    \n    title: \"New Inspection\"\n  },\n  components: {\n    AgGridVue\n  },\n  data() {\n    return {\n      // TEST VARIABLES\n      el: '',\n      elements: [],\n      // VUE VARIABLES\n      inspectionName: null,\n      templates: [],\n      attributes: [],\n      items: [],\n      manufacturers: [],\n      suppliers: [],\n      models: [],\n      devices: [],\n      testAtt: [],\n      model: [],\n      modelData: [],\n      deviceModels: [],\n      selDevice: null,\n      selItem: null,\n      text: null,\n      error: false,\n      InspectionNumber: null,\n      INumber: '',\n      IStatus: '',\n      IType: '',\n      datInspection: '',\n      datDelivered: '',\n      datRequested: '',\n      Inspector: '',\n      ReleasedBy: '',\n      Approval: '',\n      Comment: '',\n      ODevice: '',\n      Manufacturer: '',\n      Supplier: '',\n      Model: '',\n      Device: '',\n      ItemArtNumber: '',\n      ItemType: '',\n      ItemDescription: '',\n      ItemVersion: '',\n      Superuser: '',\n      file: [],\n      filteredModel: '',\n      filteredDevice: '',\n      // VUE OPTION VARIABLES\n      optionDeviceModel: [],\n      optionItem: [],\n      optionAttribute: [],\n      optionManufacturer: [],\n      optionSupplier: [],\n      optionModel: [],\n      optionDevice: [],\n      optionRelease: [\n        { value: 'YES', text: 'Yes' },\n        { value: 'NO', text: 'No' },\n        { value: 'CONDITIONALLY', text: 'Conditionally' },\n      ],\n      att1: [],\n      att2: [],\n      att3: [],\n      att4: [],\n      att5: [],\n    };\n  },\n  mounted() {\n    this.Superuser = localStorage.getItem(\"superuser\")\n  },\n  methods: {\n    searchFilterModel(event) {\n      if (event)\n        this.filteredModel = this.optionModel.filter(e => e.idManufacturer == this.Manufacturer && e.idSupplier == event);\n    },\n    searchFilterDevice(event) {\n      if (event) {\n        try {\n          this.filteredDevice = this.optionDevice.filter(e => e.idDevice.idModel.id == event && e.txtDeliveryStatus == 'Delivered');\n        }\n        catch(e) {\n\n        }\n      }\n    },\n    getInspectionNumber() {\n      this.InspectionNumber = 'PN2020-001'\n    },\n    onDeviceChange(event) {\n      let device = this.optionDeviceModel.filter(el => el.id == event)\n      this.Manufacturer = device[0].idModel.idManufacturer.txtManufacturerName\n      this.Supplier = device[0].idModel.idSupplier.txtSupplierName\n      this.Model = device[0].idModel.txtModelName\n    },\n    onItemChange(event) {\n      let item = this.optionItem.filter(el => el.id == event)\n      this.ItemArtNumber = item[0].txtArticlenumber\n      this.ItemDescription = item[0].txtDescription\n      this.ItemType = item[0].txtType\n      this.ItemVersion = item[0].txtVersion\n    },\n    createPDF() {\n      this.$htmlToPaper('pdfContent')\n    },\n    getTemplates() {\n      if (!this.error) {\n        var tempId = localStorage.getItem('ITempID')\n        let endpoint = `/api/inspection-template-list/${tempId}/`;\n        apiService(endpoint)\n          .then(data => {\n            this.templates = data;\n            var atts = this.templates.idInspectionTemplateAttribute\n            for (var i = 0; i < atts.length; i++) {\n              if (atts[i].txtMeasureUnit == 'mm')\n                this.att1.push(atts[i])\n              else if (atts[i].txtMeasureUnit == 'Âµm')\n                this.att2.push(atts[i])\n              else if (atts[i].txtMeasureUnit == 'g')\n                this.att3.push(atts[i])\n              else if (atts[i].txtValueType == 'BOOLEAN')\n                this.att4.push(atts[i])\n              else\n                this.att5.push(atts[i])\n            }\n          })\n        // console.log(this.att2.length)\n      }\n    },\n    getDevicModel() {\n      if (!this.error) {\n        let endpoint = `/api/device-list/`;\n        apiService(endpoint)\n          .then(data => {\n            this.deviceModels.push(...data.results);\n            this.optionDeviceModel = this.deviceModels\n          })\n      }\n    },\n    getItems() {\n      if (!this.error) {\n        let endpoint = `/api/item-list/`;\n        apiService(endpoint)\n          .then(data => {\n            this.items.push(...data.results);\n            this.optionItem = this.items\n          })\n      }\n    },\n    getManufacturer() {\n      if (!this.error) {\n        let endpoint = `/api/manufacturer/`;\n        apiService(endpoint)\n          .then(data => {\n            this.manufacturers.push(...data.results);\n            this.optionManufacturer = this.manufacturers\n          })\n      }\n    },\n    getSupplier() {\n      if (!this.error) {\n        let endpoint = `/api/supplier/`;\n        apiService(endpoint)\n          .then(data => {\n            this.suppliers.push(...data.results);\n            this.optionSupplier = this.suppliers\n          })\n      }\n    },\n    getModel() {\n      if (!this.error) {\n        let endpoint = `/api/model/`;\n        apiService(endpoint)\n          .then(data => {\n            this.models.push(...data.results);\n            this.optionModel = this.models\n          })\n      }\n    },\n    getOrderDevice() {\n      if (!this.error) {\n        let endpoint = `/api/order-device-list/`;\n        apiService(endpoint)\n          .then(data => {\n            this.devices.push(...data.results);\n            this.optionDevice = this.devices\n          })\n      }\n    },\n    addTemplate() {\n      if (this.INumber) {\n        let endpoint = `/api/inspection/`;\n        apiService(endpoint, \"POST\", { \n          txtInspectionNumber: this.INumber,\n          txtInspectionStatus: this.IStatus,\n          txtInspectionType: this.IType,\n          datInspection: this.datInspection,\n          txtInspector: this.Inspector,\n          txtApproval: this.Approval,\n          txtComment1: this.Comment1,\n          txtComment2: this.Comment2,\n          idOrderDevice: this.ODevice,\n          })\n          .then(data => {\n            if (data){\n              this.templates.unshift(data)\n            } else {\n              this.error = true;\n            }\n          })\n        this.TempName = null;\n        if (this.error) {\n          this.error = false;\n        }\n        } else {\n          this.error = true;\n        }\n    },\n    emptyInput() {\n      this.TempName = '',\n      this.Type = [],\n      this.optionAttribute = [],\n      this.$root.$emit('bv::toggle::collapse', 'collapse-o')\n    },\n    getSuperuser() {\n      this.Superuser = localStorage.getItem(\"superuser\")\n      console.log(this.Superuser)\n    },\n  },\n  created() {\n    this.getTemplates();\n    this.getItems();\n    this.getDevicModel();\n    this.getInspectionNumber();\n    this.getManufacturer();\n    this.getSupplier();\n    this.getModel();\n    this.getOrderDevice();\n  },\n};\n</script>\n<style>\n  html, body, div {\n    box-sizing: border-box!important;\n  }\n\n  i:focus,\n  input:focus,\n  select:focus,\n  textarea:focus,\n  button:focus {\n      outline: none;\n  }\n\n  .input-group-append, .input-group-prepend, .dropdown-toggle {\n    width: 50%!important;\n  }\n    .input-group-text {\n    width: 100%!important;\n  }\n  @media print {\n    html, body {\n      box-sizing: border-box!important;\n    }\n  }\n\n</style>\n"]}]}